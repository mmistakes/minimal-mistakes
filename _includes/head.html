<meta charset="utf-8">

{% include seo.html %}

{% unless site.atom_feed.hide %}
  <link href="{% if site.atom_feed.path %}{{ site.atom_feed.path }}{% else %}{{ '/feed.xml' | relative_url }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ site.title }} Feed">
{% endunless %}

{%- comment %} https://docs.google.com/presentation/d/1rmxwWa9P6_xHqonmh5ONXRS-jPc5XKbnv99Rjkhe04s/present {% endcomment -%}
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  {% if site.enable_copy_code_button -%}
    window.enable_copy_code_button = true;
  {%- endif %}
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>

{% if site.head_scripts %}
  {% for script in site.head_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% endif %}

<!-- í—¤ë” ì„œì¹˜í† ê¸€ ì˜†ì— ë‹¤í¬/ë¼ì´íŠ¸ í† ê¸€ ë²„íŠ¼ -->
<style>
:root[color-theme='light'] {
  --surface-default: #F2F0EE;
  --btn-default: #FFFFFF;
  --btn-svg-hover: #FFA500;
}
:root[color-theme='dark'] {
  --surface-default: #17171C;
  --btn-default: #23232B;
  --btn-svg-hover: gold;
}
.dark-light-toggle {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  width: 50px;
  height: 50px;
  background-color: var(--btn-default);
  border: none;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: background-color 0.5s;
  margin-left: 0.5em;
}
.icon30 {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 30px;
  height: 30px;
  position: absolute;
}
.icon30>svg{
  transition: fill 0.5s, transform 0.5s ease;
}
.sun {
  animation: rise-animation 1s forwards;
  transform-origin: 60% 150%
}
.moon {
  animation: set-animation 1s forwards;
  transform-origin: 60% 150%;
}
:root[color-theme='dark'] .dark-light-toggle .sun {
  animation: set-animation 1s forwards;
}
:root[color-theme='dark'] .dark-light-toggle .moon {
  animation: rise-animation 1s forwards;
}
.dark-light-toggle:hover svg {
  fill: var(--btn-svg-hover);
  transform: scale(1.2);
}
@keyframes rise-animation {
  from { transform: rotate(180deg);}
  to { transform: rotate(360deg);}
}
@keyframes set-animation {
  from { transform: rotate(0deg);}
  to { transform: rotate(180deg);}
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // í—¤ë” ì„œì¹˜í† ê¸€ ì˜†ì— í† ê¸€ ë²„íŠ¼ ì‚½ì…
  var searchToggle = document.querySelector('.search__toggle, .search-toggle');
  if (searchToggle) {
    var btn = document.createElement('button');
    btn.className = 'dark-light-toggle';
    btn.id = 'darkLightToggle';
    btn.title = 'í…Œë§ˆ ë³€ê²½';
    btn.innerHTML = `
      <span class="icon sun">â˜€ï¸</span>
      <span class="icon moon">ğŸŒ™</span>
    `;
    searchToggle.parentNode.insertBefore(btn, searchToggle.nextSibling);
  }
  // í…Œë§ˆ ìƒíƒœ ê´€ë¦¬
  const html = document.documentElement;
  const toggleBtn = document.getElementById('darkLightToggle');
  const savedTheme = localStorage.getItem('color-theme') || 'dark';
  html.setAttribute('color-theme', savedTheme);
  if (toggleBtn) {
    toggleBtn.addEventListener('click', function() {
      const current = html.getAttribute('color-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('color-theme', next);
      localStorage.setItem('color-theme', next);
    });
  }
});
</script>
