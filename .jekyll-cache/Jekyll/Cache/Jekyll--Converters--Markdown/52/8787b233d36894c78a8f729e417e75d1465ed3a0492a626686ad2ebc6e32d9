I"<h2 id="영속성-컨텍스트란">영속성 컨텍스트란?</h2>
<ul>
  <li>JPA에서 가장 중요한 2가지 중 하나이다.</li>
  <li>~~”엔티티를 영구 저장하는 환경”이라는 뜻이다. ~~</li>
  <li>영속성 컨텍스트는 논리적인 개념이다.</li>
  <li>눈에 보이지 않는다.</li>
  <li>엔티티 매니저를 통해서 영속성 컨텍스트에 접근한다.</li>
</ul>

<h2 id="엔티티의-생명주기">엔티티의 생명주기</h2>
<ul>
  <li>비영속(new/transient)
    <ul>
      <li>영속성 컨텍스트와 전혀 관계가 없는 새로운 상태</li>
    </ul>
  </li>
  <li>영속(managed)
    <ul>
      <li>영속성 컨텍스트에 관리되는 상태</li>
    </ul>
  </li>
  <li>준영속(detached)
    <ul>
      <li>영속성 컨텍스트에 저장되었다가 분리된 상태</li>
    </ul>
  </li>
  <li>삭제(removed)
    <ul>
      <li>말 그대로 삭제된 상태</li>
    </ul>
  </li>
</ul>

<h3 id="1-비영속">1. 비영속</h3>

<h3 id="2-영속">2. 영속</h3>

<h3 id="3-준영속-삭제">3. 준영속, 삭제</h3>
<ul>
  <li>준영속 상태로 만드는 방법</li>
  <li>em.detach(entity)</li>
  <li>em.clear()</li>
  <li>em.close()</li>
</ul>

<h2 id="영속성-컨텍스트의-이점">영속성 컨텍스트의 이점</h2>
<ul>
  <li>1차 캐시</li>
  <li>동일성(identity) 보장</li>
  <li>트랜잭션을 지원하는 쓰기 지연<br />
(transactional write-behind)</li>
  <li>변경 감지(Dirty Checking)</li>
  <li>지연 로딩(Lazy Loading)</li>
</ul>

<h2 id="플러쉬란">플러쉬란?</h2>
<ul>
  <li>영속성 컨텍스트의 변경내용을 데이터베이스에 반영하는 것이다.</li>
  <li>플러쉬는 영속성 컨텍스트의 내용을 비우는 것이 아니다.</li>
</ul>

:ET