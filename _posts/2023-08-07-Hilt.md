---
title: "Hilt"
excerpt: "DI 라이브러리 Hilt 알아보기"

writer: DaeYoungEE
categories:
  - kotlin
tags:
  - [Blog, jekyll, Github, Git, markdown]

toc: true
toc_sticky: true

data: 2023-08-07
last_modified_at: 2022-08-07

published: true
---

## Hilt

`Hilt` 는 프로젝트의 모든 Android 클래스에 컨테이너를 제공하고 수명 주기를 자동으로 관리함으로써 애플리케이션에서 DI를 실행하는 표준 방법을 정의한다.  
쉽게 얘기하면 자동으로 종속 항목을 삽입해주므로써 의존성 관리를 편리하게 해준다.

## Gradle 설정

### 프로젝트 수준 Gradle

```kotlin
    ext {
        hilt_version = "2.38.1"
    }
    dependencies {
        classpath "com.google.dagger:hilt-android-gradle-plugin:$hilt_version"
    }

```

### 모듈 수준 Gradle

```kotlin
plugins {
    id 'dagger.hilt.android.plugin'
    id 'kotlin-kapt'
}

...
dependencies {
    ...
    implementation "com.google.dagger:hilt-android:$hilt_version"
    kapt "com.google.dagger:hilt-android-compiler:$hilt_version"
    // compose에서 hilt
    implementation "androidx.hilt:hilt-navigation-compose:1.0.0"
}
```

## @HiltAndroidApp

Hilt를 사용하려면 가장 먼저 Application 클래스를 만들어 알려줘야 한다.
안드로이드의 시작점은 Apllication이다.  
Application 클래스위에 @HiltAndroidApp을 쓰면 된다.

```kotlin
@HiltAndroidApp
class MainApplication: Application() {

}
```

## Manifest.xml에 추가

activity 처럼 application도 만들었으면 시스템에서 알 수 있게 끔 Manifest 파일에 등록시켜 주자.

```kotlin
<application
    ...
    android:name=".MainApplication">
    <activity
        android:name=".MainActivity"
        ...>
    </activity>
</application>
```

자, 이제 Hilt를 사용할 준비가 되었다.

## @AndroidEntryPoint

액티비티나 프라그먼트에 위에 붙여 Hilt가 쓰인다는 것을 알려준다.  
즉, 객체가 주입되는 대상이라고 보면 된다.
