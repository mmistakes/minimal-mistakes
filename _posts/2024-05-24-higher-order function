---
layout: single
title: "ì½”ë“œ ìƒì‚°ì„± 2ë°° ë†’ì´ê¸°: ê³ ì°¨ í•¨ìˆ˜"
published: true
classes: wide
category: Higher-order function
---

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì€ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.

í˜„ëŒ€ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ ì…ë ¥ í¼ê³¼ ìƒí˜¸ ì‘ìš©ì„ í¬í•¨í•˜ë©°, ì´ë¥¼ ê´€ë¦¬í•˜ê³  ê²€ì¦í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. ì´ì— ë”°ë¼ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ì—ëŸ¬ ê´€ë¦¬ëŠ” ë”ìš± ì¤‘ìš”í•´ì§„ë‹¤. 

ì´ ê¸€ì—ì„œëŠ” ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì—ì„œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³ , Input ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‚´í´ë³´ì.

### **ê³ ì°¨ í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸° ì „ input ìƒíƒœ ê´€ë¦¬**

ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , useStateë¡œ Inputì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë©´ì„œ ì…ë ¥ ë°›ì€ ê°’ì„ ê²€ì¦í•˜ëŠ” ê³¼ì •ì„ ê°„ë‹¨íˆ êµ¬í˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ì„ ê²ƒì´ë‹¤. (ì˜ˆì‹œ. íŒŒì¼ ì‚¬ì´ì¦ˆê°€ 1MB ì´ìƒì¸ì§€ í™•ì¸)

```javascript
const App = () => {
    const [fileValue, setFileValue] = React.useState("");
    const [fileSizeError, setFileError] = React.useState("");

    // íŒŒì¼ ìš©ëŸ‰ ê²€ì‚¬
    const isFileSizeUnder1MB = _file => { 
        const maxSizeInBytes = 1024 * 1024;
    
        return _file?.size < maxSizeInBytes
    }

		// onChange ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    const handleChangeFile = (event) => {
        const file = event?.target?.files[0];

        if(isFileSizeUnder1MB(file)) {
            setFileValue(file);
        } else {
            setFileError("íŒŒì¼ ìš©ëŸ‰ì´ 1MBê°€ ë„˜ìŠµë‹ˆë‹¤.");
        }
    }

    return (
        <div className="container">
            <input onChange={handleChangeFile} value={fileValue} />
            <p>{fileSizeError}</p>
        </div>
    );
}

export default App;
```


ìœ„ ì½”ë“œë¥¼ ì‚´í´ë³¼ ë•Œ ê¸°ëŠ¥ìƒìœ¼ë¡œëŠ” ë¬¸ì œê°€ ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ìœ„ ì½”ë“œëŠ” ê²€ì¦í•´ì•¼ í•  ê°’ì´ 1ê°œì¼ ë•Œë§Œì„ ê³ ë ¤í•œ ì½”ë“œë‹¤. ê²€ì¦í•´ì•¼ í•  ê°’ì´ ë” ëŠ˜ì–´ë‚˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

ì˜ˆë¥¼ ë“¤ì–´ í”„ë¡œí•„ ê´€ë¦¬ í˜ì´ì§€ì—ëŠ” ì´ë¦„, ì „í™”ë²ˆí˜¸, ì§ì—…, í”„ë¡œí•„ ì‚¬ì§„ê³¼ ê°™ì€ ì—¬ëŸ¬ ê°€ì§€ ì…ë ¥ í•„ë“œê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ë©´ ì¤‘ë³µë˜ëŠ” ì½”ë“œ ì–‘ì´ í¬ê²Œ ì¦ê°€í•˜ê²Œ ëœë‹¤.

í•˜ì§€ë§Œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ê³ ì°¨ í•¨ìˆ˜ë¥¼ í™œìš©í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

### **ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ë©´**

ê³ ì°¨ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê±°ë‚˜ ë°˜í™˜í•´ í•¨ìˆ˜ì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  ë¡œì§ì„ ì¶”ìƒí™”í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ íš¨ê³¼ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

ì´ë¥¼ í†µí•´ ì—¬ëŸ¬ ê°€ì§€ ì…ë ¥ í•„ë“œì™€ ê²€ì¦ ê·œì¹™ì´ ì¡´ì¬í•˜ëŠ” ìƒí™©ì—ì„œë„, í•¨ìˆ˜ë¥¼ í•œ ë²ˆ ì‘ì„±í•¨ìœ¼ë¡œì¨ ë‹¤ì–‘í•œ ê³³ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

ë˜í•œ ê²€ì¦ ë¡œì§ì´ í•œ ê³³ì— ì§‘ì¤‘ë˜ë¯€ë¡œ ì½”ë“œì˜ ì‘ë™ ë°©ì‹ì„ ë” ëª…í™•í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆì–´ ê°€ë…ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ì„±ì´ í–¥ìƒëœë‹¤.

ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ ì–´ë–¤ ë¡œì§ì´ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ë¥¼ íŒŒì•…í•´ì•¼ í•œë‹¤. ì•„ë˜ëŠ” ì¤‘ë³µë˜ëŠ” íë¦„ì„ ì •ë¦¬í•œ ê²ƒì´ë‹¤.

- ì‚¬ìš©ìê°€ ì…ë ¥ í•„ë“œì— ê°’ì„ ì…ë ¥
- ì…ë ¥ ë°›ì€ ê°’ì„ ê²€ì¦ í•¨ìˆ˜ë¡œ ê²€ì¦
- ê²€ì¦ ê²°ê³¼ì— ë”°ë¼ ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬

ê·¸ëŸ¬ë©´ ê³ ì°¨ í•¨ìˆ˜ì˜ íŠ¹ì§• ì¤‘ í•˜ë‚˜ì¸ íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ê²€ì¦ í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•´ë³´ì.

```javascript
const validate = (validators, errMsg) => (value) => {
    const isValid = validators.every(fn => Boolean(fn(value)));

    return { 
        succeed: isValid,
        error: isValid ? '' : errMsg
    }
}
```

ìœ„ ì½”ë“œì—ì„œ validatorsëŠ” ê²€ì¦ í•¨ìˆ˜ë“¤ì´ ë‹´ê¸´ ë°°ì—´ì´ë©°, errMsgëŠ” ì…ë ¥ ê°’ì— ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ë°˜í™˜í•  ì—ëŸ¬ ë©”ì„¸ì§€ë‹¤. ê·¸ë¦¬ê³  ì»¤ë§ íŒ¨í„´ì„ í™œìš©í•˜ì—¬ 2ê°œì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë¯¸ë¦¬ ê³ ì •í•˜ê³  ì…ë ¥ ê°’ì„ ë‚˜ì¤‘ì— ë°›ì•„ ì—¬ëŸ¬ ìƒí™©ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•˜ì˜€ë‹¤.

ì…ë ¥í•œ ê°’ì´ ê²€ì¦ í•¨ìˆ˜ë“¤ì„ í†µê³¼í•˜ë©° ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í–ˆìœ¼ë‹ˆ, ìƒíƒœ ê´€ë¦¬ëŠ” Reactì˜ ì»¤ìŠ¤í…€ í›…ì„ ì´ìš©í•˜ì—¬ ë‹¤ë£¨ì–´ ë³´ì.


ğŸ’¡Â ì¶”ê°€ ì„¤ëª…
- ì»¤ë§ íŒ¨í„´
    - í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œì˜ í•¨ìˆ˜ë¡œ ë¶„í•´í•˜ì—¬ ì—¬ëŸ¬ ìƒí™©ì—ì„œ í•„ìš”í•œ ì¸ìë§Œ ì ìš©í•´ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ë‹¤.
- .every()
    - ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œê°€ ì£¼ì–´ì§„ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ ê²€ì‚¬



### ì»¤ìŠ¤í…€ í›…ì„ ì´ìš©í•œ ìƒíƒœ ê´€ë¦¬

ì»¤ìŠ¤í…€ í›…ì˜ í™œìš©ì€ ìƒíƒœ ê´€ë¦¬ ë° ì»´í¬ë„ŒíŠ¸ ë¡œì§ ë¶„ë¦¬ì™€ ê°™ì€ ë‹¤ì–‘í•œ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´, ì½”ë“œì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©° ì½”ë“œ ì¤‘ë³µì„ ìµœì†Œí™”í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤. ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì…ë ¥ í•„ë“œì˜ ê²€ì¦ ê°’ê³¼ ì—ëŸ¬ ìƒíƒœë¥¼ ê°„ê²°í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.


ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „, ì¤‘ë³µë˜ëŠ” ë¡œì§ì„ ë¨¼ì € ì •ë¦¬í•´ë³´ì.

- ì…ë ¥ ê°’ì˜ ìƒíƒœ ê´€ë¦¬
- ì…ë ¥ ê°’ì„ ê²€ì¦í•˜ê³ , ê·¸ì— ëŒ€í•œ ì„±ê³µ ë˜ëŠ” ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬

```javascript
const useInputValid = (initValue, validators, errMsg) => {
    const [value, setValue] = useState(initValue);
    const [result, setResult] = useState({});

    useEffect(() => {
        if (value) {
            const validationResult = validate(validators, errMsg)(value);
            setResult(validationResult);
        }
    }, [value]);

    return [value, setValue, result]
}
```
