---
layout: single
title: "[Git] Git reset, revert"
date: "2022-01-01 15:13:30"
categories: Git
tag: [Git, Version Control]
toc: true
author_profile: true
# sidebar:
#   nav: "docs"
---

## âœ” reset vs revert

<u class="custom-border-bottom">í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰ í•˜ë‹¤ë³´ë©´ ë³¸ì¸ì´ ì»¤ë°‹í•œ ë‚´ìš©ì„ ê³¼ê±°ì˜ ìƒíƒœë¡œ ëŒë ¤ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸´ë‹¤,  
ì´ ë•Œ Gitì€ reset, revertë¥¼ í†µí•´ ê³¼ê±°ì˜ ë²„ì „ì„ ë³µêµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</u>

## ğŸ“Œ reset

```bash
git reset <ì˜µì…˜> <ëŒì•„ê°€ê³ ì‹¶ì€ ì»¤ë°‹id>
```

### git reset ëª…ë ¹ì–´ì—ëŠ” ì•„ë˜ ì„¸ ê°€ì§€ ì˜µì…˜ì„ ì¤„ ìˆ˜ ìˆë‹¤

- **hard**: íŒŒì¼ ë‚´ìš©ê¹Œì§€ ì „ë¶€ ë˜ëŒë¦°ë‹¤ (**í•´ë‹¹ ì‹œì  ì´í›„ ì´ë ¥ ë‹¤ ë‚ ë ¤ë²„ë¦¼**)
- **mixed**: íŒŒì¼ ë‚´ìš©ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ staging areaì— ì•ˆ ì˜¬ë¦¼ (**add ì „ ìƒíƒœ**)
- **soft**: íŒŒì¼ ë‚´ìš©ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ staging areaì— ì˜¬ë¦¼ (**add ìƒíƒœ**)

### reset option

--hard

```bash
git commit -m "1"
git commit -m "2"
git commit -m "3"

git reset --hard [1ë²ˆ ì»¤ë°‹ hash]
git push
```

- hard ì˜µì…˜ ì‚¬ìš© ì‹œ ëŒì•„ê°„ ì»¤ë°‹ ì´í›„ ëª¨ë“  ë³€ê²½ ì´ë ¥ì€ ëª¨ë‘ ì‚­ì œëœë‹¤.
- ì¦‰, ìœ„ì²˜ëŸ¼ commandë¥¼ ì‘ì„±í•˜ë©´ 1ë²ˆ ì´í›„ì˜ ë³€ê²½ ì´ë ¥(2ë²ˆ, 3ë²ˆ)ì€ ëª¨ë‘ ì‚¬ë¼ì§„ë‹¤.

--mixed

```bash
git commit -m "1"
git commit -m "2"
git commit -m "3"

git reset --mixed [1ë²ˆcommit hash]
git add .
git commit -m "~"
git push
```

- **ë³€ê²½ ì´ë ¥**ì€ ëª¨ë‘ ì‚­ì œí•˜ì§€ë§Œ, **ë³€ê²½ ë‚´ìš©**ì€ ëª¨ë‘ ë‚¨ì•„ìˆë‹¤.
- **ë³€ê²½ ë‚´ìš©**ì´ ë‚¨ì•„ìˆë‹¤ëŠ” ì˜ë¯¸ëŠ” **íŒŒì¼ì—ì„œ ìˆ˜ì •ëœ ë‚´ìš©**ì€ ë³€ê²½ì´ ì•ˆëœë‹¤ëŠ” ì˜ë¯¸ë‹¤.
- ìœ„ì²˜ëŸ¼ ì‹¤í–‰ ì‹œ ì»¤ë°‹ ì´ë ¥ì€ ë‚ ë¼ê°€ì§€ë§Œ **unStage ìƒíƒœ**ì˜ ì½”ë“œëŠ” ë‚¨ì•„ ìˆë‹¤.

--soft

```bash
git commit -m "1"
git commit -m "2"
git commit -m "3"

git reset --soft [1ë²ˆcommit hash]
git commit -m "~"
git push
```

- ë³€ê²½ ì´ë ¥ì€ ëª¨ë‘ ì‚­ì œí•˜ì§€ë§Œ ë³€ê²½ ë‚´ìš©ì€ ëª¨ë‘ ë‚¨ì•„ìˆìœ¼ë©°, stage ìƒíƒœ.
- add ëª…ë ¹ì–´ í•„ìš”ì—†ì´ ë°”ë¡œ commit ì§„í–‰ ê°€ëŠ¥í•˜ë‹¤.

### originì— ì˜¬ë¦° ìƒíƒœì—ì„œ resetí•˜ê³  push í•œë‹¤ë©´?

- ë¡œì»¬ì€ originì— ìˆëŠ” commitì„ ì‚­ì œí•œ ì±„ë¡œ originì— ë®ìœ¼ë ¤ê³  í•˜ë‹ˆ ì—ëŸ¬ê°€ ëœ¬ë‹¤.
- --force ì˜µì…˜ì„ ì£¼ì–´ ê°•ì œë¡œ ë¡œì»¬ commit historyë¥¼ origin commit historyë¡œ ë®ëŠ”ë‹¤.
- ì¦‰, ë§Œì•½ í•´ë‹¹ ë¦¬í¬ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ê³µìœ í•˜ê³  ìˆë‹¤ë©´ í•˜ë©´ ì•ˆë˜ëŠ” í–‰ë™ì´ë‹¤.

## ğŸ“Œ revert

```bash
git commit -m "1ë²ˆ ì»¤ë°‹"
git commit -m "2ë²ˆ ì»¤ë°‹"
git commit -m "3ë²ˆ ì»¤ë°‹"

git revert [1ë²ˆcommit hash]
```

ìœ„ì²˜ëŸ¼ ëª…ë ¹ ì‹¤í–‰ ì‹œ 1ë²ˆ ì»¤ë°‹ ì´í›„ì˜ ì»¤ë°‹ì´ ì‚­ì œë˜ëŠ” ê²ƒì´ ì•„ë‹Œ, 1ë²ˆ ì»¤ë°‹ì— í•´ë‹¹ë˜ëŠ” ë‚´ìš©ë§Œ
ì‚­ì œê°€ ëœë‹¤. ê·¸ë¦¬ê³  Revert "1ë²ˆ ì»¤ë°‹"ì´ë¼ëŠ” ì»¤ë°‹ì—ëŠ” 1ë²ˆ ì»¤ë°‹ì´ ì‚­ì œëœ ì´ë ¥ì„ ë‚¨ê¸´ë‹¤.

```bash
Revert "1ë²ˆ ì»¤ë°‹" # Revertí•  ê²½ìš° ë‚¨ëŠ” ì»¤ë°‹
3ë²ˆ ì»¤ë°‹
2ë²ˆ ì»¤ë°‹
1ë²ˆ ì»¤ë°‹
```

- ì´ì „ ì»¤ë°‹ ë‚´ì—­ì„ ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘” ì±„ ìƒˆë¡œìš´ ì»¤ë°‹ ìƒì„±í•œë‹¤.
- ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•˜ëŠ” ë¸Œëœì¹˜ì—ì„œëŠ” revert ì‚¬ìš© ì§€í–¥í•´ì•¼ í•œë‹¤.
- reset ì‚¬ìš©í•˜ë‹¤ê°€ ì˜ëª»í•˜ë©´ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ê°€ ë³€ê²½ ë˜ë©´ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

### ì°¸ê³  ìë£Œ

- [Git revert, reset](https://www.youtube.com/watch?v=eVo2lmkXaDc&list=PLuHgQVnccGMA8iwZwrGyNXCGy2LAAsTXk&index=11)
- [ê·¸ë¦¼ìœ¼ë¡œ ë³´ëŠ” reset, revert ì°¨ì´](http://www.devpools.kr/2017/01/31/%EA%B0%9C%EB%B0%9C%EB%B0%94%EB%B3%B4%EB%93%A4-1%ED%99%94-git-back-to-the-future/)
- [git reset, revert ì´ì „ ì»¤ë°‹ìœ¼ë¡œ ëŒë¦¬ê¸°](https://kyounghwan01.github.io/blog/etc/git/git-reset-revert/#%E1%84%8B%E1%85%B5-%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%E1%84%8B%E1%85%B3%E1%86%AF-%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB-%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%B2)
