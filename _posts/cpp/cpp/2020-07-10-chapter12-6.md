---
title:  "C++ Chapter 12.6 : κ°€μƒ ν•¨μν‘" 

categories:
  - Cpp
tags:
  - [Programming, Cpp]

toc: true
toc_sticky: true

date: 2020-07-10
last_modified_at: 2020-07-10
---

μΈν”„λ°μ— μλ” ν™μ •λ¨ κµμλ‹μ **ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€    
[π [ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++]κ°•μ λ“¤μΌλ¬ κ°€κΈ°!](https://www.inflearn.com/course/following-c-plus)
{: .notice--warning}

<br>

# chapter 12. κ°€μƒ ν•¨μλ“¤ : κ°€μƒ ν•¨μν‘

## π”” κ°€μƒ ν•¨μν‘

> `virtual` κ°€μƒ ν•¨μκ°€ μ„ μ–Έλλ©΄ <u>κ°€μƒ ν•¨μ ν‘λ¥Ό λ§λ“¤κ³  λ™μ  λ°”μΈλ”© ν•λ‹¤.</u>

- ν΄λμ¤λ” `κ°€μƒν•¨μν‘`μ— λ€ν• ν¬μΈν„°λ¥Ό κ°–κ² λλ‹¤.

![image](https://user-images.githubusercontent.com/42318591/87164674-033f7f80-c304-11ea-98d9-3a9d5a297e69.png){: width="70%" height="70%"}{: .align-center}

- Base ν΄λμ¤μ—μ„ *fun1(), fun2()* μ΄λ ‡κ² κ°€μƒ ν•¨μ 2 κ°κ°€ μ„ μ–Έλμλ‹¤.
  - μ΄λ° μƒνƒμ—μ„ **Base νƒ€μ…μ κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄** κ·Έμ™€ λ™μ‹μ— <u>κ°€μƒ ν•¨μν‘</u>μ™€ μ΄ <u>κ°€μƒ ν•¨μν‘μ ν¬μΈν„°</u>κ°€ μƒμ„±λλ‹¤. 
  1. κ°€μƒ ν•¨μ ν¬μΈν„° `*_vptr` λ¥Ό λ³΄κ³  <u>κ°€μƒ ν•¨μν‘λ¥Ό μ°Ύμ•„κ°„λ‹¤.</u>
  2. κ°€μƒ ν•¨μν‘μ—μ„ κ°€μƒ ν•¨μμΈ *fun1*, *fun2*μ ν¬μΈν„°λ¥Ό λ°›μ•„ μ¨μ„ λμ•„μ¨λ‹¤.
  3. λ°›μ•„ μ¨ μ£Όμ†λ¥Ό ν†µν•΄ *fun1*, *fun2* λ¥Ό μ‹¤ν–‰ν•λ‹¤.


![image](https://user-images.githubusercontent.com/42318591/87166068-fc197100-c305-11ea-9866-dedd55f7523c.png){: width="70%" height="70%"}{: .align-center}

- Derived ν΄λμ¤μ—λ„ κ·Έλ€λ΅ <u>κ°€μƒν•¨μν‘μ ν¬μΈν„°κ°€ μƒμ†λλ‹¤.</u>
  1. μƒμ† λ°›μ€ κ°€μƒ ν•¨μ ν¬μΈν„° `*_vptr` λ¥Ό λ³΄κ³  <u>κ°€μƒ ν•¨μν‘λ¥Ό μ°Ύμ•„κ°„λ‹¤.</u>
  2. κ°€μƒ ν•¨μν‘μ—μ„ κ°€μƒ ν•¨μμΈ Base ν΄λμ¤μ *fun1*, *fun2*μ ν¬μΈν„°λ¥Ό λ°›μ•„ μ¨μ„ λμ•„μ¨λ‹¤. 
  3. *fun1* μ€ μ¤λ²„λΌμ΄λ”©μ΄ λμ–΄ μμΌλ―€λ΅ ν¬μΈν„°λ¥Ό ν†µν•΄ μ°Ύμ•„κ°€μ§€ μ•κ³  λ³ΈμΈμ΄ μ¤λ²„λΌμ΄λ”© ν• *fun1*μ„ μ‹¤ν–‰ν•κ³  *fun2* μ€ κ°€μƒ ν•¨μν‘μ—μ„ μ°Ύμ•„ μ¨ Baseμ *fun2*μ£Όμ†λ¥Ό λ³΄κ³  *fun2*λ¥Ό μ‹¤ν–‰ν•λ‹¤.

### ν΄λμ¤μ ν¬κΈ° λΉ„κµ

> κ°€μƒ ν•¨μλ¥Ό κ°€μ§€λ” ν΄λμ¤λ” <u>κ°€μƒ ν•¨μ ν¬μΈν„°λ¥Ό μ¶”κ°€λ΅ κ°€μ§€κΈ° λ•λ¬Έμ— ν΄λμ¤ μ©λ‰μ΄ λ” ν¬λ‹¤</u> 

#### κ°€μƒ ν•¨μλ¥Ό κ°€μ§€κ³  μμ§€ μ•μ„ λ• 

```cpp
#include <iostream>

using namespace std;

class Base
{
public:
    void fun1() {};
    void fun2() {};
};

class Derived : public Base
{

};

int main()
{
    cout<< sizeof(Base) << endl;
    cout<< sizeof(Derived) << endl;

    return 0;
}
```
```
π’μ¶λ ¥π’

1
1
```

#### κ°€μƒ ν•¨μλ¥Ό κ°€μ§€κ³  μμ„ λ•

```cpp
#include <iostream>

using namespace std;

class Base
{
public:
    virtual void fun1() {};
    virtual void fun2() {};
};

class Derived : public Base
{

};

int main()
{
    cout<< sizeof(Base) << endl;
    cout<< sizeof(Derived) << endl;

    return 0;
}
```
```
π’μ¶λ ¥π’

4
4
```

- Baseλ” κ°€μƒ ν•¨μλ¥Ό κ°€μ§€λ―€λ΅ κ°€μƒ ν•¨μ ν¬μΈν„°λ¥Ό κ°€μ§€κ³  μλ‹¤. 
  - λ”°λΌμ„ κ°€μƒ ν•¨μ ν¬μΈν„° λ•λ¬Έμ— κ°€μƒ ν•¨μλ¥Ό κ°€μ§€μ§€ μ•μ•μ„ λ•λ³΄λ‹¤ ν¬κΈ°κ°€ λ” μ»¤μ΅λ‹¤.
- Derivedλ” Baseλ΅λ¶€ν„° κ°€μƒ ν•¨μ ν¬μΈν„°λ¥Ό μƒμ†λ°›κΈ° λ•λ¬Έμ— μ–λ„ λ‘κ°™μ΄ ν¬κΈ°κ°€ λ” μ»¤μ΅λ‹¤.


***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}
<br>