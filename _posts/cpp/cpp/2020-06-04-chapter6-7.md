---
title:  "C++ Chapter 6.7 : ν¬μΈν„°μ™€ μ •μ  λ°°μ—΄" 

categories:
  - Cpp
tags:
  - [Programming, Cpp]

toc: true
toc_sticky: true

date: 2020-06-04
last_modified_at: 2020-06-04
---
μΈν”„λ°μ— μλ” ν™μ •λ¨ κµμλ‹μ **ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€    
[π [ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++]κ°•μ λ“¤μΌλ¬ κ°€κΈ°!](https://www.inflearn.com/course/following-c-plus)
{: .notice--warning}

<br>


## ν¬μΈν„°μ™€ λ°°μ—΄ μ΄λ¦„μ€ μΌλ§¥μƒν†µν•λ”κ² μλ‹¤.
```cpp
int array[5] = {0, 1, 2, 3, 4}; 
int * ptr = array;
```

λ°°μ—΄μ μ΄λ¦„ π‘‰π» <u>ν¬μΈν„° μƒμ</u>λ‚ λ§μ°¬κ°€μ§€. (λ³€ν•μ§€ μ•λ” μ£Όμ† κ°’)
- `array`μ™€ `&array[0]`μ€ κ°™λ‹¤. 
  - λ°°μ—΄μ μ΄λ¦„ π‘‰π»λ°°μ—΄μ μ²«λ²μ§Έ μ›μ†μ μ£Όμ†

- `*array`μ™€ `array[0]`μ€ κ°™λ‹¤.
  - `*array` π‘‰π» λ°°μ—΄μ μ²«λ²μ§Έ μ›μ†λ¥Ό κ°„μ ‘ μ°Έμ΅°ν•¨.

- `int * ptr = array;`
  - ptr ν¬μΈν„° λ³€μκ°€ array λ°°μ—΄μ μ£Όμ†λ¥Ό λ‹΄κ² λμ—μΌλ‹ μ΄μ  ptrλ΅ array λ°°μ—΄μ— κ°„μ ‘μ°Έμ΅°κ°€ κ°€λ¥ν•΄μ§.
  - `*ptr` μ™€ `array[0]`μ€ κ°™λ‹¤. 
  - `*ptr = 100`μ€ `array[0]=100`κ³Ό κ°™λ‹¤.
    - λ°°μ—΄μ μ£Όμ†λ¥Ό λ³µμ‚¬ν•΄ λ‹΄μ€ ν¬μΈν„°λ΅ λ°°μ—΄μ μ›μ† κ°’μ„ μ΄λ ‡κ² λ°”κΏ€ μλ„ μμ§€λ§ <u>char * ν• ν¬μΈν„°μ— char [] λ¬Έμμ—΄ λ°°μ—΄μ μ›μ†λ¥Ό λ°”κΎΈλ ¤λ” μ‹λ„λ” λ¶κ°€λ¥ν•λ‹¤.</u> [λ‹¤λ‹¤μ ν¬μ¤νΈ μ°Έκ³ ]

<br>

## λ°°μ—΄μ μ΄λ¦„κ³Ό ν¬μΈν„°μ μ°¨μ΄
```cpp
int array[5] = {0, 1, 2, 3, 4}; 
int * ptr = array;

sizeof(array) // π‘‰π» 20
sizeof(ptr)) // π‘‰π» 4
```

- sizeofμ— λ°°μ—΄μ μ΄λ¦„μ„ λ„£μΌλ©΄ λ°°μ—΄μ μ΄ λ©”λ¨λ¦¬ ν¬κΈ°λ¥Ό μ•λ ¤μ£Όμ§€λ§
- sizeofμ— ν¬μΈν„°λ¥Ό λ„£μΌλ©΄ ν¬μΈν„°κ°€ λ°°μ—΄μ„ κ°€λ¦¬ν‚¤κ³  μλ”λΌλ„ ν¬μΈν„°μ ν¬κΈ°λ§ μ•λ ¤μ¤€λ‹¤.
  - ν¬μΈν„°μ ν¬κΈ°λ” int * λ“  double * λ“  λ°μ΄ν„° νƒ€μ…μ— μƒκ΄€μ—†μ΄ 4byte. (64 bit ν™κ²½μ—μ„  8byte)

<br>

## ν•¨μ νλΌλ―Έν„°λ΅ λ°°μ—΄μ„ λ„κΈΈ λ•

```cpp
void printArray(int * array)
{
    cout << sizeof(array) << endl;  
    // μ§€μ—­λ³€μ arrayμ— λ°°μ—΄μ μ΄λ¦„μ΄ λ“¤μ–΄μ¤λ“  ν¬μΈν„°κ°€ λ“¤μ–΄μ¤λ“  μ§€μ—­λ³€μ arrayλ” ν¬μΈν„°μ΄λ―€λ΅ μ–Έμ λ‚ 4κ°€ μ¶λ ¥λ  κ²ƒ. 
}

int main()
{
    int array[5] = {0, 1, 2, 3, 4}; 
    int * ptr = array;
    
    printArray(array);  // λ°°μ—΄μ μ£Όμ†κ°€ printArray ν•¨μ λ‚΄λ¶€μ array μ§€μ—­λ³€μμ— λ€μ…λλ‹¤. 
    printArray(ptr); // ν¬μΈν„° ptr κ°’μ΄ printArray ν•¨μμ μ§€μ—­λ³€μ arrayμ— λ€μ…λλ‹¤.
}
```

- <u>ν•¨μμ λ§¤κ°λ³€μλ΅ λ°°μ—΄μ„ μ „λ‹¬ν•  λ•λ” ν¬μΈν„°λ΅μ„ μ „λ‹¬ λλ‹¤.</u> (μ£Όμ†λ§ λ³µμ‚¬λμ–΄ λ„μ–΄κ°)
  - μ„±λ¥ μƒ μ΄μ λ΅ λ§¤κ°λ³€μ νƒ€μ… μμ²΄λ¥Ό λ°°μ—΄λ΅ ν•μ—¬ λ°°μ—΄μ„ ν†µμ§Έλ΅ λ³µμ‚¬ν•μ—¬ λ„κΈ°λ” κ²ƒμ€ κΈμ§€λμ–΄ μλ‹¤. 
  - λ°°μ—΄ ν¬κΈ°κ°€ ν΄λ•λ” λ°°μ—΄ λ³µμ‚¬ν•λ”λ° μ‹κ°„μ΄ λ§μ΄ μ†μ”λκΈ° λ•λ¬Έ.
  - λ§¤κ°λ³€μλ¥Ό ν¬μΈν„°λ΅ μ„ μ–Έν•΄μ„ λ°°μ—΄μ μ΄λ¦„ (= λ°°μ—΄μ μ²«λ²μ§Έ μ›μ†μ μ£Όμ†)λ§ λ³µμ‚¬ν•μ—¬ λ„κ²¨μ£Όλ©΄ ν¬μΈν„°λ΅ λ°°μ—΄ μ›μ†μ— μ ‘κ·Όν•  μ μμΌλ―€λ΅ ν¨μ¨μ μ΄λ‹¤.
    - μ–΄μ°¨ν”Ό λ°°μ—΄ μ›μ†λ“¤μ€ μ—°μ†λ λ©”λ¨λ¦¬ κ³µκ°„μΌλ΅ μ„μΉν•λ―€λ΅ μ²«λ²μ§Έ μ›μ† μ£Όμ†κ°’ (= λ°°μ—΄μ μ΄λ¦„)λ§ μ•λ©΄ λ‹¤λ¥Έ μ›μ†λ“¤λ„ 4 (int κΈ°μ¤€) μ”©λ§ λ”ν•΄μ£Όμ–΄ μ£Όμ†λ¥Ό μ•μ•„λ‚Ό μ μλ‹¤.
- μ΄μ²λΌ λ°°μ—΄μ μ£Όμ†λ¥Ό ν¬μΈν„° λ§¤κ°λ³€μλ΅ λ„κΈΈ λ• ν¬μΈν„° λ§¤κ°λ³€μλ§μΌλ΅λ” λ°°μ—΄μ ν¬κΈ°λ¥Ό μ• μ μ—†μΌλ―€λ΅ int len ν•νƒλ΅ λ°°μ—΄μ ν¬κΈ°λ¥Ό μ§μ ‘ κ°™μ΄ λ„κ²¨μ£Όμ–΄μ•Ό ν•λ‹¤. 
```cpp
void printArray(int * array, int len)
```

### λ§¤κ°λ³€μκ°€ λ°°μ—΄ κ°™μ•„ λ³΄μ—¬λ„ μ‚¬μ‹¤ ν¬μΈν„°λ‹¤.

```cpp
void printArray(int array [5])
{
    cout << sizeof(array) << endl;   
}

int main()
{
    int array[5] = {0, 1, 2, 3, 4}; 
    int * ptr = array;
    
    printArray(array);  
    printArray(ptr); 
}
```

`void printArray(int array [5])`

- λ§¤κ°λ³€μλ¥Ό <u>λ°°μ—΄λ΅ λ°›λ” κ²ƒ κ°™μ•„ λ³΄μ—¬λ„ μ‚¬μ‹¤ ν¬μΈν„°</u>λ‹¤.
  - λ°°μ—΄μ„ μ„ν• ν¬μΈν„°λΌκ³  `[]` λ€κ΄„νΈ κΈ°νΈλ¥Ό μ¨μ„ λ°°μ—΄μ μ£Όμ†λ¥Ό λ„κ²¨ λ°›μ„ κ²ƒμ„μ„ κ°•μ΅°ν•λ” κ²ƒ λΏ
  - μ¤μ§ λ§¤κ°λ³€μ νƒ€μ…μ—μ„λ§ `*`λ¥Ό `[]`λ΅ λ°”κΎΈλ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.
    - λ”λΈ”ν¬μΈν„°μ™€ κ°™μ΄ `*`κ°€ μ—¬λ¬κ°μΈ κ²½μ°μ—” ν•λ‚λ§ `[]`λ΅ λ°”κΏ€ μ μλ‹¤.
    ```cpp
    void func(int ** pArr) // κ°€λ¥
    void func(int * pArr[]) // κ°€λ¥
    void func(int pArr[][]) // λ¶κ°€λ¥
    ``` 
  - λ”°λΌμ„ `[]`κΈ°νΈ μ•μ μ«μλ„ μ•„λ¬΄ μλ―Έ μ—†λ‹¤. μ‹¤μ λ΅ 3 ν¬κΈ°μ λ°°μ—΄μ„ λ„κΈ°λ” κ²ƒμ΄λΌλ„ λ§¤κ°λ³€μμ— [5]λΌκ³  λμλ‹¤κ³  ν•΄μ„ μ¤λ¥κ°€ λ°μƒν•λ” κ²ƒλ„ μ•„λ‹λ‹¤. 
  - ν”„λ΅κ·Έλ¨μ—λ” μν–¥μ„ λ―ΈμΉμ§€ μ•κ³  λ‹¨μ 5 ν¬κΈ°μ λ°°μ—΄μ„ λ°›μ„ κ²ƒμ΄λΌλ” ν‘μ‹μΌλΏ.

<br>

## κµ¬μ΅°μ²΄ νΉμ€ ν΄λμ¤μ λ©¤λ²„λ΅ μ†ν• λ°°μ—΄μ„ λ§¤κ°λ³€μλ΅ λ„κΈΈ λ•

### μ΄ κ²½μ°μ—” ν¬μΈν„°λ΅ μ „ν™λμ§€ μ•κ³  λ°°μ—΄ μμ²΄κ°€ κ·Έλ€λ΅ λ„κ²¨μ§„λ‹¤.

```cpp
#include <iostream>
#include <cstring>

using namespace std;

struct Mystruct
{
	int array[5] = { 9, 7, 5, 3, 1 };
};

void doSomething(Mystruct * ms)
{
	cout << sizeof((*ms).array) << endl; // 4κ°€ μ•„λ‹ 20 μ¶λ ¥
}

int main()
{
	Mystruct ms;
	cout << ms.array[0] << endl;  // 9 μ¶λ ¥
	cout << sizeof(ms.array) << endl; // 20 μ¶λ ¥ (λ©¤λ²„κ°€ array λ°°μ—΄ ν•λ‚ λΏ)

	doSomething(ms);

	return 0;
}
```

- λ°°μ—΄μ΄ κµ¬μ΅°μ²΄λ‚ ν΄λμ¤μ λ©¤λ²„λ΅ μμ„ λ• 
  - νλΌλ―Έν„°κ°€ κµ¬μ΅°μ²΄ νƒ€μ…μΌλ΅ λ°›λ“  κµ¬μ΅°μ²΄ ν¬μΈν„°λ΅ λ°›λ“ 
  - **λ°°μ—΄ κ·Έ μμ²΄κ°€ λ„μ–΄κ°„λ‹¤**
    - μ„μ™€ κ°™μ΄ λ°°μ—΄μ μ£Όμ†κ°€ ν¬μΈν„°μ— λ³µμ‚¬λμ–΄ λ„μ–΄κ°€λ” κ²ƒμ΄ μ•„λ‹! 
    


***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}