---
title:  "C++ Chapter 7.7 : ν•¨μ ν¬μΈν„°" 

categories:
  - Cpp
tags:
  - [Programming, Cpp]

toc: true
toc_sticky: true

date: 2020-06-17
last_modified_at: 2020-06-17
---

μΈν”„λ°μ— μλ” ν™μ •λ¨ κµμλ‹μ **ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€    
[π [ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++]κ°•μ λ“¤μΌλ¬ κ°€κΈ°!](https://www.inflearn.com/course/following-c-plus)
{: .notice--warning}

<br>

# chapter 7. ν•¨μ : ν•¨μ ν¬μΈν„°

λ°°μ—΄μ μ΄λ¦„μ΄ λ°°μ—΄μ μ£Όμ† κ°’μ„ κ°€μ§€λ“―, <u>ν•¨μμ μ΄λ¦„</u>λ„ <u>ν•¨μμ μ£Όμ†</u>λ¥Ό κ°€μ§„λ‹¤.

<br>

## ν•¨μ ν¬μΈν„° μ •μ λ°©λ²•

```cpp
int func(int x)
{
    return x;
}

int main()
{
    cout << func << endl; // 01201084 μ¶λ ¥ (ν•¨μμ μ£Όμ†)
    
    int (*funcptr)(int) = func; // ν•¨μ ν¬μΈν„° funcptr μ„ μ–Έ λ° μ΄κΈ°ν™”

    cout << funcptr << endl; // 01201084 μ¶λ ¥  
}
```
- `int` : μ£Όμ†μ— μλ” ν•¨μμ λ¦¬ν„΄ νƒ€μ…
- `(*funcptr)` : ν•¨μ ν¬μΈν„° μ΄λ¦„ `funcptr`
- `(int)` : μ£Όμ†μ— μλ” ν•¨μμ λ§¤κ°λ³€μ νƒ€μ… μ μ–΄μ£Όλ” λ¶€λ¶„. μ—†μΌλ©΄ κ·Έλƒ¥ `()`
- `= func` : func ν•¨μμ μ£Όμ†λ΅ μ΄κΈ°ν™” ν•¨. ν•¨μμ μ΄λ¦„μ€ κ·Έ ν•¨μμ μ£Όμ† !

<br>

## ν•¨μ ν¬μΈν„° μ‚¬μ© λ°©λ²•

```cpp
int func(int x)
{
    return x;
}

int main()
{
    cout << func << endl; 
    int (*funcptr)(int) = func; 
    cout << funcptr << endl; 

    cout << funcptr(5) << endl;  // 5μ¶λ ¥. func ν•¨μμ μ£Όμ†λ¥Ό κ°€μ§€κ³  μλ” ν¬μΈν„° funcptrλ΅ fun ν•¨μλ¥Ό μ‚¬μ©ν•  μ μκ² λμ—μ
}
```
- `ν•¨μ ν¬μΈν„° μ΄λ¦„(νλΌλ―Έν„°)`
  - μ΄λ ‡κ² μ£Όμ†λ¥Ό λ‹΄κ³  μλ” ν•¨μμ κΈ°λ¥μ„ μ‚¬μ©ν•  μ μλ‹¤.
  - ν¬μΈν„° funcptr μ΄ ν•¨μ funcμ μ£Όμ†λ¥Ό κ°€μ§€κ³  μκΈ° λ•λ¬Έμ— `func(3)`μ€ `funcptr(3)` μ΄λ ‡κ²λ„ νΈμ¶ν•  μ μλ‹¤.
- `funcptr = func2`
  - μ΄λ ‡κ² ν•¨μ ν¬μΈν„°μ— λ‹¤λ¥Έ ν•¨μλ¥Ό λ€μ…μ„ ν•λ ¤λ©΄ <u>λ¦¬ν„΄νƒ€μ…, λ§¤κ°λ³€μνƒ€μ…, λ§¤κ°λ³€μμ κ°μ</u>κ°€ μ„λ΅ μΌμΉν•΄μ•Ό κ°€λ¥ν•λ‹¤.
    - funcptrμ€ `int (*funcptr)(int)` νƒ€μ…μ΄λ―€λ΅ func2 ν•¨μ λν• λ¦¬ν„΄νƒ€μ…μ΄ intκ³  λ§¤κ°λ³€μ νƒ€μ…λ„ intκ³  λ§¤κ°λ³€μλ„ 1κ°μ—¬μ•Ό funcptrμ— μ£Όμ† λ€μ…μ΄ κ°€λ¥ν•λ‹¤. 

<br>

## ν•¨μ ν¬μΈν„°λ¥Ό νλΌλ―Έν„°λ΅ λ„κΈ°κΈ°

```cpp
void printNumbers(const array<int, 10> &my_array, bool print_even)
{
    for (auto element : my_array)
    {
        if (print_even && element % 2 == 0) cout << element;
        if (!print_even && element % 2 == 1) cout << element;
    }
    cout << endl;
}
int main()
{
    std::array<int, 10> my_array{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };

    printNumbers(my_array, true); // μ§μμΈ μ›μ†λ§ μ¶λ ¥
    printNumbers(my_array, false); // ν™€μμΈ μ›μ†λ§ μ¶λ ¥
}
```

> <u>μ§μμ΄λ©΄ ture λ¦¬ν„΄ ν•¨μ</u>, <u>ν™€μμ΄λ©΄ ture λ¦¬ν„΄ ν•¨μ</u> μ΄λ ‡κ² λ§λ“¤μ–΄μ„ ν•¨μ μμ²΄λ¥Ό νλΌλ―Έν„°λ΅ λ„κ²¨ μ–΄λ–¤ ν•¨μμΈμ§€μ— λ”°λΌ λ‹¤λ¥΄κ² κ³„μ‚°ν•λ©΄ μ–΄λ–¨κΉ

```cpp
bool isEven(const int & number)
{
    if (number % 2 == 0) return true;
}
bool isOdd(const int & number)
{
    if (number % 2 == 1) return true;
}
void printNumbers(const array<int, 10> &my_array, bool(*check_fcn)(const int &))
{
    for (auto element : my_array)
    {
        if (check_fcn(element) == true) cout << element;
    }
    cout << endl;
}
int main()
{
    std::array<int, 10> my_array{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };

    printNumbers(my_array, isEven); // μ§μμΈ μ›μ†λ§ μ¶λ ¥
    printNumbers(my_array, isOdd); // ν™€μμΈ μ›μ†λ§ μ¶λ ¥
}
```

- *print_even* μλ¦¬λ” ν•¨μ μ΄λ¦„μ„ λ°›λ” *check_fcn*λ΅ λ€μ²΄ λλ‹¤.
  - μ¦‰, μ–΄λ–¤ <u>κΈ°λ¥</u>μ„ ν• μ§€ λ„κ²¨ μ£Όλ” κ²ƒ.
  - ν•¨μ μ΄λ¦„μ„ νλΌλ―Έν„°λ΅ λ„κ²¨ κΈ°λ¥μ„ λ…μ‹
- `check_fcn`λ” ν•¨μ ν¬μΈν„°μ΄κΈ° λ•λ¬Έμ— `ν•¨μ μ΄λ¦„`μ„ λ„κ²¨ λ°›μ•„μ•Ό ν•λ‹¤.
  - `isEven` <u>ν•¨μ μ΄λ¦„</u>μ„ λ„κΈ°λ©΄  `isEven(element)` λλ”κ±°λ‚ λ§μ°¬κ°€μ§€.
  - `isOdd` <u>ν•¨μ μ΄λ¦„</u>μ„ λ„κΈ°λ©΄  `isOdd(element)` λλ”κ±°λ‚ λ§μ°¬κ°€μ§€.

```cpp
bool(*check_fcn)(const int &) = isEven
```
λ§¤κ°λ³€μλ¥Ό μ„μ™€ κ°™μ΄ λ””ν΄νΈ κ°’μ„ isEvenμΌλ΅ μ„¤μ •ν•΄μ£Όλ©΄ `printNumbers(my_array)` μ΄λ ‡κ²λ§ νΈμ¶ν•λ©΄ μ§μμΈ μ›μ†λ§ μ¶λ ¥λλ‹¤.  

<br>

## ν•¨μ ν¬μΈν„° νƒ€μ… μ¤„μ—¬ μ“°κΈ°

### 1. using

```cpp
using check_fcn_t = bool(*)(const int &);

check_fcn_t funcptr = isEven; // bool(*funcptr)(const int &) = isEven κ³Ό κ°™λ‹¤.
```
- `bool(*)(const int &)`λΌλ” λ°μ΄ν„° νƒ€μ…μ„ `check_fcn_t` λ΅ μ¤„μ—¬ μ“Έ μ μκ² λμ—λ‹¤.

### 2. typedef

```cpp
typedef bool(*check_func_t)(const int &);

check_fcn_t funcptr = isEven; // bool(*funcptr)(const int &) = isEven κ³Ό κ°™λ‹¤.
```
- `bool(*)(const int &)`λΌλ” λ°μ΄ν„° νƒ€μ…μ„ `check_fcn_t` λ΅ μ¤„μ—¬ μ“Έ μ μκ² λμ—λ‹¤.

<br>

## std::function

- #include \<functional>
- C++11μ— μ²μ μ†κ°λ Function κΈ°λ¥μ„ ν•¨μ ν¬μΈν„°λ³΄λ‹¤λ„ λ” λ§μ΄ μ“΄λ‹¤.

```cpp
std::function<bool>(const int &) funcptr = isEven; // funcptr : bool νƒ€μ…μ„ λ¦¬ν„΄ν•κ³  const int & νƒ€μ…μ λ§¤κ°λ³€μλ¥Ό ν•„μ”λ΅ ν•λ” ν•¨μμ μ£Όμ†λ¥Ό λ‹΄μ„ μ μλ” λ³€μ
```

***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}
