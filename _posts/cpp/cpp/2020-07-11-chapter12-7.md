---
title:  "C++ Chapter 12.7 : μμ κ°€μƒν•¨μ, μ¶”μƒ ν΄λμ¤, μΈν„°νμ΄μ¤" 

categories:
  - Cpp
tags:
  - [Programming, Cpp]

toc: true
toc_sticky: true

date: 2020-07-11
last_modified_at: 2020-07-11
---

μΈν”„λ°μ— μλ” ν™μ •λ¨ κµμλ‹μ **ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€    
[π [ν™μ •λ¨μ λ”°λΌ ν•λ©° λ°°μ°λ” C++]κ°•μ λ“¤μΌλ¬ κ°€κΈ°!](https://www.inflearn.com/course/following-c-plus)
{: .notice--warning}

<br>

# chapter 12. κ°€μƒ ν•¨μλ“¤ : μμ κ°€μƒν•¨μ, μ¶”μƒ ν΄λμ¤, μΈν„°νμ΄μ¤

## π”” μμ κ°€μƒν•¨μ

```cpp
virtual void func() = 0;
```

> `μμ κ°€μ‚Ό ν•¨μ` : ν•¨μμ λ°”λ””κ°€ μ—†λ” κ°€μƒ ν•¨μ. μ¦‰, <u>μμ‹ ν΄λμ¤μ—μ„ λ°λ“μ‹ μ¤λ²„λΌμ΄λ”© ν•΄μ•Ό ν•λ” ν•¨μ.</u>

- κ·Έλƒ¥ **κ°€μƒ ν•¨μ**λ” μμ‹ν΄λμ¤μ—κ² μ¤λ²„λΌμ΄λ”©μ„ κ¶μ¥ν•  λΏ ν•„μλ” μ•„λ‹μ€μ—λ‹¤.
  - κ·Έμ € μμ‹μ΄ μ¤λ²„λΌμ΄λ”© ν•λ©΄ μμ‹ κ°μ²΄κ°€ μ¤λ²„λΌμ΄λ”© ν• λ°”λ””λ¥Ό νΈμ¶ν•κ³  
  - μμ‹μ΄ μ¤λ²„λΌμ΄λ”© ν•μ§€ μ•μΌλ©΄ μκΈ° μμ‹ (λ¶€λ¨)κ°€ κµ¬ν„ ν•΄λ†“μ€ κ°€μƒ ν•¨μμ λ°”λ””λ¥Ό νΈμ¶ν•λ©΄ λμ—λ‹¤.
- **μμ κ°€μƒ ν•¨μ**λ” λ°”λ””λ¥Ό λ‘κ³  μμ§€ μ•κΈ° λ•λ¬Έμ— <u>μμ‹ ν΄λμ¤μ—μ„ λ°λ“μ‹ μ¤λ²„λΌμ΄λ”© ν•΄μ•Ό ν•λ‹¤.</u>
  - μ„ μ–Έ π‘‰ λ°”λ”” μ—†μ΄ ν•¨μμ ν”„λ΅ν† νƒ€μ…λ§ μλ λμ— `= 0`μ„ λ¶™μ—¬μ¤€λ‹¤.

<br>

## π”” μ¶”μƒ κΈ°λ³Έ ν΄λμ¤ 

> `abstract class` : μμ κ°€μƒ ν•¨μλ¥Ό <u>ν¬ν•¨</u> ν•κ³  μλ” ν΄λμ¤.

- μμ κ°€μƒ ν•¨μλ¥Ό ν¬ν•¨ν•κ³  μμ–΄ μμ‹ ν΄λμ¤λ“¤μ΄ μ΄λ¥Ό μ¤λ²„λΌμ΄λ”© ν•  κ²ƒμ„ κ°•μ ν•λ‹¤.
- <u>μ¶”μƒ ν΄λμ¤λ” κ°μ²΄λ΅ μ°μ–΄λ‚Ό μ μ—†λ‹¤.</u> β­

```cpp
class Animal
{
protected:
    string m_name;
public:
    Animal(std::string name)
        :m_name(name)
    {}
public:
    string getName() { return m_name; }
    virtual void speak() const = 0;  // β­ μμ κ°€μƒ ν•¨μ
};


class Cow : public Animal
{
protected:
    string m_name;
public:
    Cow(std::string name)
        :Animal(name)
    {}
};


void Animal::speak() const
{
    cout << m_name << endl;
}


int main()
{
    Cow cow("hello");  // βμ—λ¬ λ°μƒ!β π‘‰ λ¶€λ¨μ μμ κ°€μƒ ν•¨μλ¥Ό μ¤λ²„λΌμ΄λ”© ν•μ§€ μ•μ•„μ„.
    Animal ani("Hi");  // βμ—λ¬ λ°μƒ!β π‘‰ μ¶”μƒ ν΄λμ¤λ΅ κ°μ²΄λ¥Ό λ§λ“¤μ–΄λ‚Ό μ μ—†μ–΄μ„.
}
```

- `Animal` ν΄λμ¤λ” <u>μ¶”μƒ ν΄λμ¤</u>μ΄λ‹¤.
  - **μμ κ°€μƒ ν•¨μ**μΈ speak λ¥Ό κ°€μ§€κ³  μκΈ° λ•λ¬Έμ—!
    - *void Animal::speak() const* μ΄λ ‡κ² ν΄λμ¤ λ°”κΉ¥μ—μ„ <u>λ°”λ””λ¥Ό κµ¬ν„ ν•΄μ£Όλ”λΌλ„ μ†μ© μ—†λ‹¤. μ λ€ μ“°μ΄μ§€ μ•λ”λ‹¤</u> μμ κ°€μƒ ν•¨μλ΅ ν•λ² μ„ μ–Έμ΄ λμ—λ‹¤λ©΄ λ°λ“μ‹ μμ‹ ν΄λμ¤μ—μ„ μ¤λ²„λΌμ΄λ”© ν•΄μ•Ό ν•λ‹¤.
- *Cow cow("hello");*  βμ—λ¬ λ°μƒ!β
  - λ¶€λ¨ ν΄λμ¤μ μμ κ°€μƒ ν•¨μμΈ speak()λ¥Ό μ¤λ²„λΌμ΄λ”© ν•΄μ£Όμ§€ μ•μ€ μ±„λ΅ κ°μ²΄λ¥Ό μƒμ„±ν•λ ¤κ³  ν•λ‹ μ—λ¬.
- *Animal ani("Hi");*  βμ—λ¬ λ°μƒ!β
  - μ¶”μƒ ν΄λμ¤μΈ Animalμ κ°μ²΄λ¥Ό λ§λ“λ ¤κ³  ν•λ‹ μ—λ¬ λ°μƒ.
  - μ¶”μƒ ν΄λμ¤λ” κ°μ²΄λ΅ λ§λ“¤ μ μ—†λ‹¤.
    - λ”°λΌμ„ μμ κ°€μƒ ν•¨μκ°€ μ•„λ‹ getName()κ°™μ€ <u>μ¶”μƒ ν΄λμ¤μ μΌλ° λ©¤λ²„ ν•¨μλ“¤μ€ μ ‘κ·Ό μ§€μ •μμ— λ”°λΌ λ³ΈμΈ ν΄λμ¤ λ‚΄λ¶€, νΉμ€ μμ‹ ν΄λμ¤ λ‚΄λ¶€(protected, public)μ—μ„λ§ μ‚¬μ©ν•  μ μλ‹¤.</u>

<br>

## π”” μΈν„°νμ΄μ¤ ν΄λμ¤ 

```cpp
class IErrorLog
{
public:
    virtual bool reportError(const char * error) = 0;
    virtual ~IErrorLog() {}
};
```

> `Interface` : <u>λ¨-λ“  ν•¨μκ°€ μμ κ°€μƒ ν•¨μμΈ ν΄λμ¤</u>. λ³ΈμΈλ§μ λ©¤λ²„ λ³€μλ” κ°€μ§€μ§€ μ•λ”λ‹¤.

- μΈν„°νμ΄μ¤λ¥Ό μƒμ† λ°›λ” ν΄λμ¤λ“¤μ€ <u>λ°λ“μ‹ μΈν„°νμ΄μ¤ μ•μ— μλ” λ¨λ“  ν•¨μλ“¤μ„ μ „λ¶€ μ¤λ²„λΌμ΄λ”© ν•΄μ•Ό ν•λ‹¤.</u>
  - μΈν„°νμ΄μ¤λ” μμ κ°€μƒ ν•¨μλ§ κ°€μ§€κ³  μκΈ° λ•λ¬Έμ΄λ‹¤.
    - ν•λ‚λΌλ„ λΉ λ¨λ¦¬λ©΄ μ—λ¬λ‚¨.
- μΈν„°νμ΄μ¤λ” λ³ΈμΈλ§μ λ©¤λ²„ λ³€μλ‚ κµ¬ν„λ λ©¤λ²„ ν•¨μλ” κ°€μ§€μ§€ μ•λ”λ‹¤.
  - μΈν„°νμ΄μ¤λ” ν•λ” μΌμ€ μ—†μ§€λ§ μμ‹λ“¤μ—κ² 'μ΄λ° κΈ°λ¥λ“¤μ„ λ°λ“μ‹ κ°€μ§€κ³  μμΌμ‹κ³  κΈ°λ¥μ λ‚΄μ©μ€ κ°μ μ•μ•„μ„ κµ¬ν„ν•μ„Έμ”'λΌλ” **μ„¤κ³„λ„ κ°™μ€ μ—­ν• **μ„ ν•λ‹¤.
- μΈν„°νμ΄μ¤λ„ μ¶”μƒν΄λμ¤μ ν• μΆ…λ¥λ‚ λ§μ°¬κ°€μ§€μ΄κΈ° λ•λ¬Έμ— <u>μΈν„°νμ΄μ¤λ΅ κ°μ²΄λ΅ μƒμ„±ν•  μλ” μ—†λ‹¤.</u>
- μΈν„°νμ΄μ¤ ν΄λμ¤μ μ΄λ¦„ μ•μ—” λ€λ¬Έμ `I`λ¥Ό λ¶™μ—¬μ£Όλ”κ² κ΄€μµμ΄λ‹¤.

```cpp
class IErrorLog
{
public:
    virtual bool reportError(const char * error) = 0;
    virtual ~IErrorLog() {}
};


class FileErrorLog : public IErrorLog
{
public:
    bool reportError(const char * errorMessage) override
    {
        cout << "Writing error to a file" << endl;
        return true;
    }
};


class ConsoleErrorLog : public IErrorLog
{
public:
    bool reportError(const char * errorMessage) override
    {
        cout << "Printing error to a console" << endl;
        return true;
    }
};


void doSomething(IErrorLog & log)
{
    log.reportError("Runtime error!!");
}


int main()
{
    FileErrorLog file_log;
    ConsoleErrorLog console_log;

    doSomething(file_log);   // β­λ‹¤ν•μ„±
    doSomething(console_log); // β­λ‹¤ν•μ„±
}
```

- μΈν„°νμ΄μ¤ `IErrorLog`λ¥Ό μƒμ† λ°›λ” λ‘ μμ‹ ν΄λμ¤ `ConsoleErrorLog`, `FileErrorLog`.
  - μΈν„°νμ΄μ¤μ *bool reportError(const char * errorMessage)* ν•¨μλ¥Ό κ°μ μ¤λ²„λΌμ΄λ”© ν•κ³  μλ‹¤.
  - μΈν„°νμ΄μ¤μ— κ°€μƒ μ†λ©Έμλ¥Ό λ‘μ–΄ λ¶€λ¨λ΅ μμ‹ κ°μ²΄λ¥Ό μ°Έμ΅°ν•κ³  μμ„ λ• λ©”λ¨λ¦¬ ν•΄μ μ‹ μμ‹λ“¤μ μ†λ©Έμκ°€ νΈμ¶λκ² ν•λ‹¤.
- **λ‹¤ν•μ„±**
  - *doSomething(file_log);* π‘‰ *IErrorLog & log = file_log*
    - <u>λ¶€λ¨μΈ μΈν„°νμ΄μ¤ νƒ€μ… ν•λ‚λ΅ μ—¬λ¬ μμ‹λ“¤μ„ μ°Έμ΅°ν•  μ μλ‹¤.</u>
      - λ¨λ‘ κ°€μƒ ν•¨μμ΄κΈ° λ•λ¬Έμ— λ¶€λ¨μΈ μΈν„°νμ΄μ¤ νƒ€μ… ν•λ‚λ΅ μμ‹λ“¤μ΄ κ°μ κµ¬ν„ν• ν•¨μ λ‚΄μ©λ€λ΅ κ°κ° λ‹¤λ¥΄κ² νΈμ¶ν•  μ μλ‹¤.
        - μ–΄λ–¤ νƒ€μ…μ μμ‹ κ°μ²΄κ°€ λ“¤μ–΄μ¤λƒμ— λ”°λΌ λ‹¤λ¥Έ λ‚΄μ©μΌλ΅ μ‹¤ν–‰λ¨ 

***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}
<br>