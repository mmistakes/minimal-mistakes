---
title:  "C++ Chapter 18.4 : íë¦„ ìƒíƒœì™€ ì…ë ¥ ìœ íš¨ì„±ì˜ ê²€ì¦" 

categories:
  - Cpp
tags:
  - [Programming, Cpp]

toc: true
toc_sticky: true

date: 2020-08-28
last_modified_at: 2020-08-28
---

ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ **í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€    
[ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/following-c-plus)
{: .notice--warning}

<br> 

# chapter 18. ì…ë ¥ê³¼ ì¶œë ¥

# íë¦„ ìƒíƒœì™€ ì…ë ¥ ìœ íš¨ì„±ì˜ ê²€ì¦

## ğŸ”” ë¬¸ìì—´ ìŠ¤íŠ¸ë¦¼ì˜ í˜„ì¬ ìƒíƒœ í™•ì¸í•˜ê¸°

### ì²« ë²ˆì§¸ ë°©ë²• ğŸ‘‰ iosì˜ í•¨ìˆ˜ë“¤ ì‚¬ìš©

> `std::ios` : ê°€ì¥ ë†’ì€ ì¡°ìƒ ì…ì¶œë ¥ í´ë˜ìŠ¤ë‹¤. 

![image](https://user-images.githubusercontent.com/42318591/91554137-7c08a280-e969-11ea-9750-cf52f1aa2885.png){: width="70%" height="70%"}{: .align-center}

- `const std::ios & stream`ì¼ ë•Œ
  - stream.`good()`
    - **std::ios::good**
    - ìŠ¤íŠ¸ë¦¼ì˜ í˜„ì¬ ìƒíƒœê°€ ì¢‹ìœ¼ë©´ true ì•ˆì¢‹ìœ¼ë©´ false ë¦¬í„´
    - ëª¨ë“  error state flagê°€ 0ì¼ ë•Œ flagê°€ trueê°€ ëœë‹¤.
- stream.eof()
    - **std::ios::eof**
    - eof ì¦‰ end of file ì— ë„ë‹¬í–ˆë‹¤ë©´ true ë¦¬í„´ ì•„ë‹ˆë©´ false ë¦¬í„´
    - íŒŒì¼ì„ ëê¹Œì§€ ë‹¤ ì½ì—ˆëŠ”ì§€
- stream.fail()
    - **std::ios::fail**
    - ìŠ¤íŠ¸ë¦¼ í˜„ì¬ ìƒíƒœê°€ ì‹¤íŒ¨ë©´ true ì„±ê³µì´ë©´ false ë¦¬í„´.
    - good()ì˜ ë°˜ëŒ€
    - error state flagê°€ í•˜ë‚˜ë¼ë„ 1ì¼ ê²½ìš° flagê°€ trueê°€ ëœë‹¤.
- stream.bad()
    - **std::ios::bad**
    - ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“¸ ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ flagê°€ trueê°€ ëœë‹¤.

```cpp

#include <iostream>
#include <string>

using namespace std;

void printStates(const std::ios& stream)
{
	cout << std::boolalpha;		// boolalpha option ON
	cout << "Good() = " << stream.good() << '\n';	// ëª¨ë“  error state flagê°€ 0ì¼ ë•Œ flagê°€ trueê°€ ëœë‹¤.
	cout << "eof() = " << stream.eof() << '\n';		// streamì˜ end of fileì— ë„ë‹¬í•˜ë©´ flagê°€ trueê°€ ëœë‹¤.
	cout << "fail() = " << stream.fail() << '\n';	// error state flagê°€ í•˜ë‚˜ë¼ë„ 1ì¼ ê²½ìš° flagê°€ trueê°€ ëœë‹¤.
	cout << "bad() = " << stream.bad() << '\n';		// ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“¸ ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ flagê°€ trueê°€ ëœë‹¤.
}

int main()
{
	while(true)
	{
	    int i;
	    cin >> i;
	    
	    printStates(cin);
	    
	    cin.clear();
	    cin.ignore(1024, '\n');
	    cout << endl;
	}

	return 0;
}
```
```
ğŸ’ì…ë ¥ğŸ’
123
abc
123.456

ğŸ’ì¶œë ¥ğŸ’
good() = true
eof() = false
fail() = false
bad() = false

good() = false
eof() = false
fail() = true
bad() = false

good() = true
eof() = false
fail() = false
bad() = false
```

- `printStates(cin)`
    - cin ìŠ¤íŠ¸ë¦¼ì„ ë„˜ê²¨ ì¤Œ.  `iostream`ì˜ ë¶€ëª¨í´ë˜ìŠ¤ì¸ `ios` íƒ€ì…ì˜ ì°¸ì¡° ë³€ìˆ˜ë¡œ `cin` ê°ì²´ë¥¼ ì°¸ì¡°
    - 123 ì…ë ¥
        - int i ì— 123ì´ ì˜ ë“¤ì–´ê°”ë‹¤.
        - good() = true. ì´ìƒ ì—†ìŒ
        - ë²„í¼ê°€ ë¹„ì›Œì§€ê³  ì´ì œ ë‹¤ì‹œ while ë°˜ë³µ
    - abc ì…ë ¥
        - abcëŠ” ë¬¸ìì—´ì´ë¯€ë¡œ int iì— ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤.
        - ë…¼ë¦¬ì  ì˜¤ë¥˜ fail() = true
        - good() = false
        - ë²„í¼ê°€ ì§€ì›Œì§€ê³  ì´ì œ ë‹¤ì‹œ while ë°˜ë³µ
    - 123.456 ì…ë ¥
        - 123.456ì€ doubleí˜•ì¸ë° int iì— 123ìœ¼ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŒ
        - good() = true ì´ìƒ ì—†ìŒ
        - ë²„í¼ê°€ ì§€ì›Œì§€ê³  ì´ì œ ë‹¤ì‹œ while ë°˜ë³µ

<br>

### ë‘ ë²ˆì§¸ ë°©ë²• ğŸ‘‰ bitmaskì™€ rdstateì„ ì‚¬ìš©í•˜ì—¬ ë¹„íŠ¸ë¡œ íë¦„ ìƒíƒœ í™•ì¸

> #include \<bitset>

```cpp
#include <iostream>
#include <string>
#include <bitset>

using namespace std;

int main()
{
	while (true)
	{
		int i;
		cin >> i;
													
		printStates(cin);    //   1ï¸âƒ£ ìŠ¤íŠ¸ë¦¼ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ì²«ë²ˆì§¸ ë°©ë²•  -> iosì˜ good(), bad(), fail(), eof() ì‚¬ìš© 

		/* 2ï¸âƒ£ ìŠ¤íŠ¸ë¦¼ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ë‘ë²ˆì§¸ ë°©ë²• ->	ì§ì ‘ goodbit, failbit ë“±ë“± bitë¥¼ ì‚¬ìš© */
		cout << boolalpha;
		cout << std::bitset<8>(cin.rdstate()) << endl;
		cout << std::bitset<8>(std::istream::goodbit) << endl;
		cout << std::bitset<8>(std::istream::failbit) << endl;
		cout << !bool((cin.rdstate() & std::istream::failbit) != 0) << endl;

		cin.clear();
		cin.ignore(1024, '\n');  // ë²„í¼ì— ë‚¨ì€ê±° ì§€ìš°ê¸° 
		cout << endl;
	}
}
```

- ë¹„íŠ¸ë¥¼ ì´ìš©í•˜ë¯€ë¡œ ì„±ëŠ¥ì´ ì¢‹ê³  ë¹ ë¥´ì§€ë§Œ ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.
- `std::bitset<8>(cin.rdstate())`
    - `cin.rdstate()`
        - `ios`ì˜ í•¨ìˆ˜ì´ë‹¤.
        - í˜„ì¬ì˜ ì—ëŸ¬ ìƒíƒœì˜ flag ìƒíƒœë¥¼ ë¦¬í„´í•œë‹¤.
            - ì´ ë•Œì˜ flag ëŠ” ë¹„íŠ¸ ë§ˆìŠ¤í¬ ë°©ì‹ (bitmask)
- `std::bitset<8>(std::istream::goodbit)`
        - good bitmask  = 00000000
- `std::bitset<8>(std::istream::failbit)`
        - fail bitmask = 00000010
- `!bool((cin.rdstate() & std::istream::failbit) != 0)`
        - goodbitê°€ ì•„ë‹Œ failbitë¡œ `&` ì—°ì‚° í•˜ëŠ” ì´ìœ 
            - goodbitëŠ” 00000000 ì´ë¼ì„œ.. ì—ëŸ¬ê°€ ë‚œì ì´ ì—†ìœ¼ë¯€ë¡œ ê·¸ëƒ¥ 00000000ì´ë‹¤.
        - `rdstate`ê°€ failë¹„íŠ¸ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ <u>ì„±ê³µì¸ ìƒíƒœ.</u>
            - good ìƒíƒœ.
            - `&`ì—°ì‚° ê²°ê³¼ `0`ì´ ë‚˜ì˜¬ ê²ƒ.
            - 0 = 0 ì´ë¯€ë¡œ `cin.rdstate() & std::istream::failbit) != 0` ê²°ê³¼ëŠ” false
            - ì„±ê³µì¸ ìƒíƒœ ì¦‰ trueë¡œ ë¦¬í„´í•´ì£¼ì–´ì•¼ í•˜ë‹ˆê¹Œ ì•ì— ! ë¶™ì´ëŠ” ê²ƒì´ë‹¤.
                - `!`bool((cin.rdstate() & std::istream::failbit) != 0)
        - `rdstate`ê°€ failë¹„íŠ¸ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ <u>ì‹¤íŒ¨ì¸ ìƒíƒœ</u>
            - failì¸ ìƒíƒœ.
            - 0ì´ ì•„ë‹Œ ìˆ˜ê°€ ë‚˜ì˜¬ ê²ƒ. `&`ì—°ì‚° ê²°ê³¼ê°€ fail ë¹„íŠ¸ë¡œ ë‚˜ì˜¬ ê²ƒì´ë‹¤.
            - 0 â‰  0 ì´ë¯€ë¡œ ê²°ê³¼ëŠ” true
            - ì‹¤íŒ¨ì¸ ìƒíƒœ ì¦‰ falseë¡œ ë¦¬í„´í•´ì£¼ì–´ì•¼ í•˜ë‹ˆê¹Œ ì•ì— `!` ë¶™ì´ê¸°
        - ì´ ë¹„íŠ¸ ì—°ì‚° ê²°ê³¼ë¥¼ boolë¡œ í˜•ë³€í™˜
        - `cin.rdstate() == std::istream::goodbit;` ì´ë ‡ê²Œ í•˜ëŠ”  ë°©ë²•ë„ ìˆìŒ.

<br>

## ğŸ”” ì…ë ¥ ìœ íš¨ì„± ê²€ì¦

> #include \<cctype> í—¤ë” íŒŒì¼ë¡œë¶€í„° `isalpha`, `isalnum`, `isblank` ë“±ë“œìœ¼ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ <u>ë‚´ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ì…ë ¥ì´ ì˜ ë“¤ì–´ê°”ëŠ”ì§€ë¥¼ ê²€ì¦</u>

- `#include <cctype>`
    - `isalpha`, `isalnum`, `isblank`, ë“±ë“±...
    - ë¦¬í„´ê°’ì´ integer ì •ìˆ˜ë‹¤.
        - 0ì´ ì•„ë‹Œ ì •ìˆ˜ë©´ trueë¡œ ê°„ì£¼
        - 0ì´ë©´ falseë¡œ ê°„ì£¼

### ì˜ˆì œ 1

```cpp
void printCaracterClassification(const char& input)
{
	cout << std::boolalpha;
	cout << "isalpha = " << bool(std::isalpha(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ë¬¸ìì¸ì§€?
	cout << "isalnum = " << bool(std::isalnum(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ë¬¸ì ë˜ëŠ” ìˆ«ìì¸ì§€?
	cout << "isblank = " << bool(std::isblank(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ê³µë°±ì¸ì§€?
	cout << "isdigit = " << bool(std::isdigit(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ìˆ«ìì¸ì§€?
	cout << "islower = " << bool(std::islower(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ì†Œë¬¸ìì¸ì§€?
	cout << "isupper = " << bool(std::isupper(input)) << '\n';	// ì…ë ¥ë°›ì€ ê²Œ ëŒ€ë¬¸ìì¸ì§€?
}
```

- ê²°ê³¼ë¥¼ ì •ìˆ˜ë¡œ ë¦¬í„´í•˜ë¯€ë¡œ `bool`ë¡œ í˜•ë³€í™˜ í•˜ì—¬ ì¶œë ¥í•˜ì˜€ë‹¤.

### ì˜ˆì œ 2

```cpp
bool isAllDigit(const string& str)
{
	bool ok_flag = true;

	for (auto e : str)
		if (!bool(std::isdigit(e)))
		{
			ok_flag = false;
			break;
		}
	return ok_flag;
}

int main()
{
	cout << std::boolalpha;
	cout << bool(isAllDigit("12345")) << '\n';   // true ì¶œë ¥
	cout << bool(isAllDigit("12a34")) << '\n';   // false ì¶œë ¥
}
```

- `isAlldigit` ğŸ‘‰ ì…ë ¥ ë°›ì€ ë¬¸ìì—´ì´ ëª¨ë‘ ìˆ«ìëƒ
- bool isAllDigit(const string& str)
    - ì…ë ¥ë°›ì€ ë¬¸ìì—´ strì„ í•œë¬¸ìì”© ë‹¤ ëœ¯ì–´ì„œ ë¬¸ìì¸ì§€ í™•ì¸


***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
<br>