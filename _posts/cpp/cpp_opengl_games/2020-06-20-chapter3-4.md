---
title:  "[C++] 3.4 íŒŒí‹°í´ ì‹œìŠ¤í…œ" 

categories:
  - C++ games
tags:
  - [Programming, Cpp, OpenGL, Graphics]

toc: true
toc_sticky: true

date: 2020-06-20
last_modified_at: 2020-06-20
---

ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ **í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤.ğŸ˜€   
[ğŸŒœ ê³µë¶€ì— ì‚¬ìš©ëœ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ì½”ë“œë“¤ ë³´ëŸ¬ê°€ê¸°](https://github.com/jmhong-simulation/GameDevPracticePackage)   
[ğŸŒœ [í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/c-2)
{: .notice--warning}

<br>

# Chapter 3. ê²Œì„ ë¬¼ë¦¬ ë§›ë³´ê¸° : íŒŒí‹°í´ ì‹œìŠ¤í…œ

![image](https://user-images.githubusercontent.com/42318591/85256113-89536d80-b49e-11ea-8f33-4d2ddcbe72d4.png){: width="30%" height="30%"}{: .align-center}

## ğŸ“œ Particle.h

```cpp
#include "Game2D.h"
#include "Examples/PrimitivesGallery.h"
#include "RandomNumberGenerator.h"
#include "RigidCircle.h"
#include <vector>
#include <memory>

namespace jm
{
	using namespace std;

	static const auto gravity = vec2(0.0f, -9.8f);

	class Particle
	{
	public:
		vec2 pos;
		vec2 vel;
		RGB  color;

		void update(const float & dt)
		{
			const auto acc = gravity; //assumes GA only.

			vel += acc * dt;
			pos += vel * dt;

			// update age.
			// update color (blend with background color)
		}
	};
}
```

- `Particle`
  - <u>íŒŒí‹°í´ 1ê°œ ì…ì</u>
    - pos ìœ„ì¹˜
    - vel ì†ë„
    - color ìƒ‰ìƒ
- *const auto acc = gravity;*
    - íŒŒí‹°í´ ì…ìì˜ ê°€ì†ë„ì— ì˜í–¥ ë¯¸ì¹˜ëŠ”ê±´ ì¤‘ë ¥ë¿ì´ë¼ê³  ê°€ì •.
- *void update(const float & dt)*
  - íŒŒí‹°í´ ì…ì 1ê°œì˜ ì†ë„ì™€ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ 

<br>

## ğŸ“œParticleSystem.h

```cpp
	class ParticleSystem
	{
	public:
		vector<Particle> particles;

		RandomNumberGenerator rn;

		ParticleSystem()
		{
			reset();
		}

		auto getRandomUnitVector()
		{
			const float theta = rn.getFloat(0.0f, 3.141592f * 2.0f); // 0.0 ~ 2pi

			return vec2{cos(theta), -sin(theta)};
		}

		auto getRandomColor()
		{
			return RGB{ rn.getFloat(0.0f, 1.0f), rn.getFloat(0.0f, 1.0f), rn.getFloat(0.0f, 1.0f) };
		}

		void reset()
		{
			particles.clear();

			// initialize particles
			for (int i = 0; i < 1000; ++i)
			{
				Particle new_particle;
				new_particle.pos = vec2(0.0f, 0.5f) + getRandomUnitVector() * rn.getFloat(0.001f, 0.03f);
				new_particle.vel = getRandomUnitVector() * rn.getFloat(0.01f, 2.0f);
				new_particle.color = getRandomColor();

				particles.push_back(new_particle);
			}
		}

		void update(const float & dt)
		{
			for (auto & pt : particles)
			{
				pt.update(dt);

				// remove particles when they are 1. too old, 2. out of screen.
			}
		}

		void draw()
		{
			beginTransformation();

			for (const auto & pt : particles)
			{
				drawPoint(pt.color, pt.pos, 3.0f);
			}

			endTransformation();
		}
	};
}
```

- `ParticleSystem`
  - <u>ì—¬ëŸ¬ íŒŒí‹°í´ ì…ìë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œ</u>
  - *vector\<Particle> particles*
    - íŒŒí‹°í´ ì…ì ê°ì²´ë“¤ì´ ë²¡í„°ì— ë“¤ì–´ìˆë‹¤.
      - íŒŒí‹°í´ ê°ì²´ë¥¼ êµ³ì´ ì‚­ì œí•  ì¼ì´ ì—†ë‹¤ë©´ ì´ë ‡ê²Œ ê·¸ëƒ¥ ê°ì²´ ë³€ìˆ˜ë¡œ ë„£ì
      - íŒŒí‹°í´ ê°ì²´ë¥¼ ì‚­ì œí•  ì¼ì´ ìˆë‹¤ë©´ `Particle*` í¬ì¸í„° íƒ€ì… ë²¡í„°ë¡œ ë§Œë“¤ì–´ íŒŒí‹°í´ ì…ìë“¤ ë™ì í• ë‹¹ ë°›ì•„ ë„£ì–´ ì£¼ê¸°
- *RandomNumberGenerator rn*
    - íŒŒí‹°í´ì€ ëœë¤í•œ ìœ„ì¹˜ + ëœë¤í•œ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ½ê¸° ë•Œë¬¸ì— ëœë¤ ë„˜ë²„ ìƒì„± í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ë“¤ ì‚¬ìš©í•  ê²ƒ
- *auto getRandomUnitVector()*
    - 0ë„ ~ 2Ï€ë„ ì‚¬ì´ì—ì„œ ëœë¤í•œ ê°ë„ thetaë¥¼ ë¦¬í„´
    - <u>ê¸¸ì´ê°€ 1</u>ì¸ ëœë¤í•œ ë²¡í„°Vec2, ì¦‰ `ë‹¨ìœ„ë²¡í„°`ë¥¼ ë¦¬í„´í•œë‹¤.
      - ê¸¸ì´ê°€ 1ì¼ ë•Œì˜ x, y ì¢Œí‘œ 
        - ![image](https://user-images.githubusercontent.com/42318591/85262087-38487700-b4a8-11ea-92fd-436f8b2f3077.png){: width="30%" height="30%"}{: .align-center}
        - x ì¢Œí‘œ : cos(theta)
        - y ì¢Œí‘œ : -sin(theta)
    - ëœë¤í•œ ë°©í–¥ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ìœ„ë²¡í„°
- *auto getRandomColor()*
  - ëœë¤í•œ ìƒ‰ìƒ ë¦¬í„´
- *void reset()*
  - *particles.clear();* : ê¸°ì¡´ ë²¡í„°ì— ë“  íŒŒí‹°í´ ì…ì ì›ì†Œë“¤ì„ ì‹¹ ì§€ìš´ë‹¤.
  - íŒŒí‹°í´ ì´ˆê¸°í™”
    - *Particle new_particle* : íŒŒí‹°í´ ì…ì ê°ì²´ 1ê°œ ë§Œë“¤ê¸°
      - new_particle.pos = vec2(0.0f, 0.5f) + getRandomUnitVector() * rn.getFloat(0.001f, 0.03f);
        - *vec2(0.0f, 0.5f)*
          - íŒŒí‹°í´ì˜ ì´ˆê¸° ìœ„ì¹˜ëŠ” ì—¬ê¸°.
        - *getRandomUnitVector() * rn.getFloat(0.001f, 0.03f)*
          - ë‹¨ìœ„ë²¡í„° * ëœë¤í•œ float ìŠ¤ì¹¼ë¼ê°’ (0.001f~ 0.03f ì‚¬ì´ì˜)
          - `ëœë¤í•œ ë°©í–¥`ìœ¼ë¡œ `ëœë¤í•œ ê¸¸ì´`ë¡œ <u>ê¸°ë³¸ ìœ„ì¹˜</u>ë¡œë¶€í„° ë”í•´ì§
        - ì¦‰ basic ìœ„ì¹˜ vec2(0.0f, 0.5f) ë¡œë¶€í„° ëœë¤í•œ ë²¡í„°ê°€ ë”í•´ì ¸ ê° íŒŒí‹°í´ë§ˆë‹¤ ì´ˆê¸° ìƒì„± ìœ„ì¹˜ê°€ ë‹¤ë¥´ê²Œ ëœë‹¤.
      - *new_particle.vel*
        - *getRandomUnitVector() * rn.getFloat(0.01f, 2.0f);*
            - ë‹¨ìœ„ë²¡í„° * ëœë¤í•œ float ìŠ¤ì¹¼ë¼ê°’ (0.001f~ 0.03f ì‚¬ì´ì˜)
            - `ëœë¤í•œ ë°©í–¥`ìœ¼ë¡œ `ëœë¤í•œ ê¸¸ì´`ë¡œ <u>ì†ë„ê°’</u>ì´ ì„¤ì •ë¨.
      - *new_particle.color*
        - *getRandomColor();*
            - ëœë¤í•œ ìƒ‰ìƒ
      - *particles.push_back(new_particle);*
        - ì´ë ‡ê²Œ ìƒì„±ìœ„ì¹˜ (pos), ì†ë„(vel), ìƒ‰ìƒ(color) ë©¤ë²„ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì¤€ í›„ <u>ë²¡í„°ì— ë„£ê¸°</u>
- *void update(const float & dt)*
  - íŒŒí‹°í´ ë²¡í„°ë“¤ì˜ ëª¨ë“  ì›ì†Œì— ì‹œê°„ dtë¥¼ ë„˜ê²¨ ì†ë„ì™€ ìœ„ì¹˜ë¥¼ ì—…ëƒí•œë‹¤
  - pt.update(dt);
    - `Particle` ì˜ í•¨ìˆ˜ updateë¥¼ ì†Œí™˜í•¨
- *void draw()*
  - ë²¡í„° ì•ˆì— ë“  íŒŒí‹°í´ ì…ìë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ê·¸ë ¤ì¤€ë‹¤.
  - âœ¨ draw() í•¨ìˆ˜ë¥¼ `Particle` í´ë˜ìŠ¤ê°€ ì•„ë‹Œ `ParticleSystem` í´ë˜ìŠ¤ì— êµ¬í˜„í•œ ì´ìœ 
    - Particle í´ë˜ìŠ¤ ì•ˆì— ì •ì˜í•´ë„ ë˜ì§€ë§Œ ê·¸ë ‡ê²Œ ë˜ë©´ í˜¸ì¶œí•  ë•Œ íŒŒí‹°í´ ì…ì í•˜ë‚˜ ê·¸ë¦´ ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ 1000ë²ˆ í˜¸ì¶œí•´ì•¼ í•˜ë¯€ë¡œ ì„±ëŠ¥ë©´ì—ì„œ ë„ˆë¬´ ì•ˆì¢‹ë‹¤.
    - ê·¸ëƒ¥ íŒŒí‹°í´ 1000ê°œë¥¼ ê´€ë¦¬í•˜ëŠ” ParticleSystem í´ë˜ìŠ¤ ì•ˆì— êµ¬í˜„í•˜ë©´ draw() í•¨ìˆ˜ë¥¼ ë”± í•œë²ˆ í˜¸ì¶œí•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì²œê°œë¥¼ ë‹¤ ê·¸ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ.. forë¬¸ìœ¼ë¡œ ë²¡í„°ì˜ ëª¨ë“  íŒŒí‹°í´ì„ ë‹¤ ê·¸ë¦¬ëŠ” í•¨ìˆ˜ë¥¼ ParticleSystem ì•ˆì— ì •ì˜í•¨.

### ğŸ“œ main

```cpp
class Example : public Game2D
	{
	public:
		ParticleSystem ps;

		Example()
			: Game2D()
		{
			reset();
		}

		void reset()
		{
			ps.reset();
		}

		void update() override
		{
			const float dt = getTimeStep() * 0.4f;

			ps.update(dt);

			ps.draw();

			// reset button
			if (isKeyPressedAndReleased(GLFW_KEY_R)) reset();
		}

	};
}

int main(void)
{
	jm::Example().run();

	return 0;
}
```

- ParticleSystem ps
  - `ParticleSystem` íŒŒí‹°í´ ì‹œìŠ¤í…œ ê°ì²´ë§Œ ìƒì„±ë©´ ëœë‹¤.

<br>

## ğŸ”” íŒŒí‹°í´ì— ìˆ˜ëª…ì„ ë„£ì–´ë³´ì.

- ê° `Particle` ì…ì ê°ì²´ë§ˆë‹¤ ìˆ˜ëª…ì´ ë‹¤í•˜ë©´ ì‚¬ë¼ì§€ë„ë¡
- ê° `Particle` ì…ì ê°ì²´ë§ˆë‹¤ ìˆ˜ëª…ì´ ë‹¤ë¥´ë„ë¡

### ğŸ“œParticle.h

```cpp
#include "Game2D.h"
#include "Examples/PrimitivesGallery.h"
#include "RandomNumberGenerator.h"
#include "RigidCircle.h"
#include <vector>
#include <memory>

namespace jm
{
	using namespace std;

	static const auto gravity = vec2(0.0f, -9.8f);

	class Particle
	{
	public:
		vec2 pos;
		vec2 vel;
		RGB  color;

		float age;
		float life;

		void update(const float & dt)
		{
			const auto acc = gravity; //assumes GA only.

			vel += acc * dt;
			pos += vel * dt;

			// update age
			age += dt;

			// update age.
			// update color (blend with background color)
		}
	};
}
```

- ***class Particle***
  - `age`ì™€ `life`ë¥¼ ì¶”ê°€í–ˆë‹¤.
  - *float age*
    - í˜„ì¬ ë‚˜ì´ ì €ì¥
    - ë‹¨ìœ„ëŠ” ì‹œê°„
  - *float life*
    - ìˆ˜ëª… ì €ì¥
    - ë‹¨ìœ„ëŠ” ì‹œê°„
  - *void update(const float & dt)*
    - age += dt;
      - <u>ë‚˜ì´ ì—…ë°ì´íŠ¸</u>


### ğŸ“œParticleSystem.h

```cpp
	class ParticleSystem
	{
	public:
		vector<Particle> particles;

		RandomNumberGenerator rn;

		ParticleSystem()
		{
			reset();
		}

		auto getRandomUnitVector()
		{
			const float theta = rn.getFloat(0.0f, 3.141592f * 2.0f); // 0.0 ~ 2pi

			return vec2{cos(theta), -sin(theta)};
		}

		auto getRandomColor()
		{
			return RGB{ rn.getFloat(0.0f, 1.0f), rn.getFloat(0.0f, 1.0f), rn.getFloat(0.0f, 1.0f) };
		}

		void reset()
		{
			particles.clear();

			// initialize particles
			for (int i = 0; i < 1000; ++i)
			{
				Particle new_particle;
				new_particle.pos = vec2(0.0f, 0.5f) + getRandomUnitVector() * rn.getFloat(0.001f, 0.03f);
				new_particle.vel = getRandomUnitVector() * rn.getFloat(0.01f, 2.0f);
				new_particle.color = getRandomColor();
				new_particle.age = 0.0f;
				new_particle.life = rn.getFloat(0.1f, 1.0f);

				particles.push_back(new_particle);
			}
		}

		void update(const float & dt)
		{
			for (auto & pt : particles)
			{
				pt.update(dt);

				// remove particles when they are 1. too old, 2. out of screen.
			}
		}

		void draw()
		{
			beginTransformation();

			for (const auto & pt : particles)
			{
				if (pt.age > pt.life) continue;
				drawPoint(pt.color, pt.pos, 3.0f);
			}

			endTransformation();
		}
	};
}
```

- `ParticleSystem`
  - *void reset()*
    - *new_particle.age = 0.0f;*
      - íŒŒí‹°í´ì˜ í˜„ì¬ ë‚˜ì´ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”
    - *new_particle.life = rn.getFloat(0.1f,1.0f);*
      - íŒŒí‹°í´ì˜ ìˆ˜ëª…ì€ 0.1ì´ˆ~1ì´ˆ ì¤‘ ëœë¤í•˜ê²Œ
  - *void draw()*
    - <u>ë‚˜ì´ê°€ ìˆ˜ëª…ì— ë‹¤ë‹¤ë¥´ë©´ íŒŒí‹°í´ ì…ìë¥¼ ê·¸ë§Œ ê·¸ë¦¬ë„ë¡.</u>
      - *if (pt.age > pt.life) continue;*
        - ë‚˜ì´ê°€ ìˆ˜ëª…ì„ ë„˜ì–´ë²„ë¦° `Particle`ì€ ê·¸ë¦¬ì§€ ì•Šê³  ê·¸ëƒ¥ continue í•´ë²„ë¦¼


<br>

## ğŸ”” Fade out íš¨ê³¼, ë¸”ë Œë”© íš¨ê³¼ ì£¼ê¸°

### ğŸ“œParticleSystem.h ì˜ draw()í•¨ìˆ˜

```cpp
void draw()
{
	for (const auto & pt : particles)
	{
		if (pt.age > pt.life) continue;

		const float alpha = 1.0f - pt.age / pt.life;
		const RGB blended_color = {
			pt.color.r * alpha + 1.0f * (1.0f - alpha),
			pt.color.g * alpha + 1.0f * (1.0f - alpha),
			pt.color.b * alpha + 1.0f * (1.0f - alpha) };

		beginTransformation();
		translate(pt.pos);
		drawFilledStar(blended_color, 0.03f, 0.01f);
		endTransformation();
			}
		}
```

1. ë°°ê²½(í°ìƒ‰)ê³¼ íŒŒí‹°í´ ì…ìì˜ ìƒ‰ìƒì´ ë¹„ìŠ·í•´ì§€ë„ë¡ ì ì  ë¸”ë Œë”©
2. ë‚˜ì´ê°€ ìˆ˜ëª…ì— ë‹¤ë‹¤ë¥¼ìˆ˜ë¡ ì ì  í¬ë¯¸í•˜ê²Œ ê·¸ë ¤ì§€ë„ë¡
  - íŒŒí‹°í´ ì…ìê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì‚¬ë¼ì§€ê¸° ìœ„í•´
- *void draw()*
  - *const float `alpha` = 1.0f - pt.age / pt.life;*
    - ë‚¨ì€ ìˆ˜ëª…ì´ ì–¼ë§ˆë‚˜ ë˜ëŠ”ì§€ë¥¼ 0~1 ì‚¬ì´ì˜ ìˆ«ìë¡œ í‘œí˜„í•œë‹¤.
    - ê°“ ë§Œë“¤ì–´ì§„ age=0 ì˜ íŒŒí‹°í´ ì…ìë¼ë©´ alphaê°’ì€ 1ì´ ë  ê²ƒ.
    - ë°˜ëŒ€ë¡œ ìˆ˜ëª…ì´ ë‹¤í–ˆë‹¤ë©´ alpha=0 ì´ ë  ê²ƒ. ìˆ˜ëª…ì— ë‹¤ë‹¤ë¥¼ìˆ˜ë¡ alpha ê°’ì€ 0ì— ê°€ê¹Œì›Œì§„ë‹¤.
  - *const RGB blended_color *
    - í°ìƒ‰ì˜ RGBê°’ì€ (1, 1, 1) ì´ë‹¤.
      - ìˆ˜ëª…ì— ë‹¤ë‹¤ë¥¼ ìˆ˜ë¡ alphaëŠ” 0ì— ê°€ê¹Œì›Œì§€ë¯€ë¡œ ìˆ˜ëª…ì´ ë‹¤í•˜ë©´ ê¸°ì¡´ íŒŒí‹°í´ ìƒ‰ìƒì¸ pt.color.r,g,b ê°’ì€ 0ì´ ë˜ê°ˆ ê²ƒì´ê³  (1,1,1) ì— ê°€ê¹Œì›Œì§ˆ ê²ƒ.
    - ë³„ì„ ê·¸ë¦¬ë„ë¡ ë°”ê¿”ë³´ì•˜ë‹¤.
3. ê°ê°ì˜ íŒŒí‹°í´ ë³„ ê°ì²´ê°€ ëœë¤ ê°ë„ë¡œ íšŒì „í•˜ë©´ì„œ ë–¨ì–´ì§€ë„ë¡.

<br>

## ğŸ”” ë³„ì´ ëœë¤ìœ¼ë¡œ íšŒì „í•˜ë„ë¡

![image](https://user-images.githubusercontent.com/42318591/85284611-7787bf80-b4ca-11ea-8652-028d59a1a12c.png){: width="30%" height="30%"}{: .align-center}

### ğŸ“œParticle.h

```cpp
#include "Game2D.h"
#include "Examples/PrimitivesGallery.h"
#include "RandomNumberGenerator.h"
#include "RigidCircle.h"
#include <vector>
#include <memory>

namespace jm
{
	using namespace std;

	static const auto gravity = vec2(0.0f, -9.8f);

	class Particle
	{
	public:
		vec2 pos;
		vec2 vel;
		RGB  color;

		float rot;  // ì¶”ê°€
		float angular_velocity; //ì¶”ê°€

		float age;
		float life;

		void update(const float & dt)
		{
			const auto acc = gravity; //assumes GA only.

			vel += acc * dt;
			pos += vel * dt;

			rot += angular_velocity * dt; // ì¶”ê°€

			// update age
			age += dt;

			// update age.
			// update color (blend with background color)
		}
	};
}
```

- *float rot;*
  - `íšŒì „ ê°ë„`
    - ìœ„ì¹˜ê°€ ì†ë„ì— ì˜í•´ ë°”ë€Œë“¯ì´ 
    - íšŒì „ë„ ì†ë„ì— ì˜í•´ ë°”ë€Œë„ë¡.
- *float angular_velocity;*
  - `íšŒì „ ì†ë„`
    - **rot - angular_velocity** ê´€ê³„ëŠ” pos - vec ê´€ê³„ì™€ ë™ì¼
      - rotì— angular_velocityë¥¼ ë”í•´ rotì„ ê³„ì† ì—…ë°ì´íŠ¸
    - ~~cf)angularê°€ì†ë„ë„ ìˆë‹¤. ë³¸ ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•ŠìŒ~~
- void update(const float & dt)
    - rot += angular_velocity * dt;
    - íšŒì „ê°ë„ë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤.

### ğŸ“œParticleSystem.h ì˜ *reset()*, *draw()* í•¨ìˆ˜

```cpp
void reset()
{
	particles.clear();

	// initialize particles
	for (int i = 0; i < 1000; ++i)
	{
		Particle new_particle;
		new_particle.pos = vec2(0.0f, 0.5f) + getRandomUnitVector() * rn.getFloat(0.001f, 0.03f);
		new_particle.vel = getRandomUnitVector() * rn.getFloat(0.01f, 2.0f);
		new_particle.color = getRandomColor();
		new_particle.age = 0.0f;
		new_particle.life = rn.getFloat(0.1f, 1.0f);
		new_particle.rot = rn.getFloat(0.0f, 360.0f);
		new_particle.angular_velocity = 0.0f;

		particles.push_back(new_particle);
	}
}

void draw()
{
	for (const auto & pt : particles)
	{
		if (pt.age > pt.life) continue;

		const float alpha = 1.0f - pt.age / pt.life;
		const RGB blended_color = {
					pt.color.r * alpha + 1.0f * (1.0f - alpha),
					pt.color.g * alpha + 1.0f * (1.0f - alpha),
					pt.color.b * alpha + 1.0f * (1.0f - alpha) };

		beginTransformation();
		translate(pt.pos);
		rotate(pt.rot);
		drawFilledStar(blended_color, 0.03f, 0.01f);
		endTransformation();
	}
}
```

- *void reset()*
  - rotì˜ ì´ˆê¸°ê°’
    - 0 ~ 360 ì¤‘ ëœë¤í•œ floatê°’
  - angular_velocity
    - rn.getFloat(-1.0f, 1.0f) * 360.0 * 4.0ff;
      - -1 ~ 1 ì‚¬ì´ì˜ ëœë¤í•œ ì‹¤ìˆ˜ ë½‘ê¸°
        - ìŒìˆ˜ë©´ ë°˜ì‹œê³„ë°©í–¥, ì–‘ìˆ˜ë©´ ì‹œê³„ë°©í–¥
        - 360ì„ ê³±í•´ ì†ë„ê° ì •í•˜ê¸°.
        - ëœë¤í•œ ìˆ˜ë¡œ 0.1fê°€ ë‚˜ì™”ë‹¤ë©´ 0.1 * 360 = 36. ì‹œê°„ë‹¹ 36ê°ë„ë¡œ ëŒ ê²ƒ.
        - 4.0fëŠ” ê·¸ëƒ¥ ë” ë¹ ë¥´ê²Œ ëŒë¼ê³  ë§ë¶™ì„.
- *void draw()*
  - rotate(pt.rot)

### cf. 3ì°¨ì›ì—ì„œì˜ íšŒì „ 

- `ììœ ë„ ê°œë…`
  - í˜„ì¬ rotationì„ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ê°€ rot 1ê°œ
    - `1 ììœ ë„`
    - í•œ ë°©í–¥ìœ¼ë¡œë§Œ íšŒì „í•  ìˆ˜ ìˆìŒ
      - ì‹œê³„ë°©í–¥ or ë°˜ì‹œê³„ë°©í–¥(ì‹œê³„ë°©í–¥ì˜ ìŒìˆ˜)
      - ë°˜ì‹œê³„ ë°©í–¥ íšŒì „ì€ ì‹œê³„ë°©í–¥ì˜ ìŒìˆ˜ ê°ë„ë§Œí¼ íšŒì „í•œê²ƒì´ë¼ê³  ë³´ê¸° ë•Œë¬¸ì— ë‘ ê²½ìš°ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ë„ 1 ììœ ë„.
  - `2ì°¨ì›`ì—ì„  `1 ììœ ë„`, ì¦‰ íšŒì „ ë³€ìˆ˜ê°€ 1ê°œì—¬ë„ ê´œì°®ì§€ë§Œ `3ì°¨ì›`ì—ì„  2 ììœ ë„ê°€ ì•„ë‹Œ `3 ììœ ë„`ë¡œ ëŠ˜ì–´ë‚œë‹¤. 
    - ë”°ë¼ì„œ `2ì°¨ì›`ì¸ ì§€ê¸ˆì€ `float`ìœ¼ë¡œ íšŒì „ê°ê³¼ íšŒì „ì†ë„ë¥¼ í‘œí˜„í•˜ì§€ë§Œ
    - `3ì°¨ì›`ì—ì„  íšŒì „ê°ê³¼ íšŒì „ì†ë„ë¥¼ `ë²¡í„°ë¡œ í‘œì‹œ`í•´ì•¼ í•œë‹¤.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}