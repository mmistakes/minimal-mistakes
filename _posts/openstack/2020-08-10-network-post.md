---
title: "Cloud에서 알아야할 network"
escerpt: "Cloud에서 알아야할 network"

categories:
  - Openstack
tags:
  - [Openstack,devops]

toc: true
toc_sticky: true

breadcrumbs: true

date: 2020-08-10 13:12
last_modified_at: 2020-08-10 13:12

comments: true
---

# Fixed Ip Range
    - 사설IP
    - host 내부에서만 통신 가능

# Floating IP Range
    - 공인 IP
    - 외부에서 접속 할수 있도록 할당해주는 것.

# subnet
Network IP (And연산) Subnet Mask = Subnet
IP의 범위는 크게 다음과 같은 세가지 클래스로 구분이 된다.

 클래스 명 | 클래스 범위 | 서브넷 마스크  | 서브넷마스크 Bit 수 | 호스트 Bit수 | 사용가능 호스트 수 
 A Class  | 1.0.0.0 ~ 126.0.0.0  | 255.0.0.0  | 8 Bit | 24 Bit | 약 1,600 만개 
 B Class  | 127.0.0.0 ~ 191.0.0.0 | 255.255.0.0 |  16 Bit | 16 Bit | 약 65,000 개 
 C Class  | 192.0.0.0 ~ 223.0.0.0  | 255.255.255.0 |  24 Bit | 8 Bit  |  254 개


대표적으로 오픈스택을 설치할때 메뉴얼에 가장 많이 등장하는 Fixed Range 범위는 10.0.4.0/20,  10.0.0.0/24  이다. 

예제의 IP는 A Class에 해당되지만, 뒤에 나오는 /20은 서브네마스크 Bit 수를 의미하므로 B Class를 좀더 세분화했다고 할 수 있다. 

10.0.4.0 이라는 IP를 이진수로 표현하면 아래와 같다. 
그런데 서브넷 마스크로 20 bit를 사용한다고 했으니 앞에서 부터 20 bit를 1로 채우면 그게 바로 서브네 마스크가 되는 것이다.

0000 1010 . 0000 0000 . 0000 0100 . 0000 0000 | Network IP (10.0.4.0)
1111 1111 . 1111 1111 . 1111 0000 . 0000 0000 | Subnet Mask (255.255.240.0)
------------------------------------------------------------  (And 연산)
0000 1010 . 0000 0000 . 0000 0000 . 0000 0000 | Subnet (10.0.0.0)

여기서 사용되는 10.0.4.0의 서브넷 마스크는 255.255.240.0 이 되며, 서브넷은 10.0.0.0 이 된다. 
그리고, 호스트 IP 범위는 10.0.4.1 ~ 10.0.255.254 까지가 되는 것이다. 
10.0.255.255는 왜 빼는거지? 10.0.255.255는 브로드캐스트용 주소라고 한다~!! 
그렇게 되면 사용가능한 Network Size는 4,094 개가 되는 것이다.

그럼 이번에는 10.0.0.0/24 도 한번 더 해 볼까? /24는 서브넷 마스크 Bit수니까

0000 1010 . 0000 0000 . 0000 0000 . 0000 0000 | Network IP (10.0.0.0)
1111 1111 . 1111 1111 . 1111 1111 . 0000 0000 | Subnet Mask (255.255.255.0)
----------------------------------------------------------- (And 연산)
0000 1010 . 0000 0000 . 0000 0000 . 0000 0000 | Subnet (10.0.0.0)

10.0.0.0/24 의 네트워크 IP는 10.0.0.0 이고, 서브넷 마스크는 255.255.255.0, 서브넷은 10.0.0.0 이다.
이때 사용 가능한 호스트 IP 범위는 10.0.0.1 ~ 10.0.0.254 가 되며, 호스트 수는 254개이다.