---
title:  "Unity C# > μ»΄ν¬λ„νΈ : Animation κ΄€λ ¨ μ»΄ν¬λ„νΈλ“¤κ³Ό ν”„λ΅νΌν‹°/ν•¨μ λ¨μ" 

categories:
  -  UnityDocs
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2021-01-17
last_modified_at: 2021-01-17
---

κ³µλ¶€ν•λ©΄μ„ μ•κ²λ κ²ƒλ§ μ •λ¦¬ν•©λ‹λ‹¤.π€
{: .notice--warning}

# π‘©β€π¦° Animator

μƒνƒ λ¨Έμ‹ μΌλ΅ μ§μ—¬μ§„ μ• λ‹λ©”μ΄μ… μ»¨νΈλ΅¤λ¬λ¥Ό μ¬μƒμ‹ν‚¤λ” μ»΄ν¬λ„νΈ

## π€ λ³€μ/ν”„λ΅νΌν‹°

### β applyRootMotion

- `true`λ΅ ν•΄μ£Όλ©΄ λ£¨νΈ λ¨μ…μ„ μΌμ¤€λ‹¤.

<br>

## π€ ν•¨μ

### β Play

> public void Play(string stateName, int layer = -1, float normalizedTime = float.NegativeInfinity);

> public void Play(int stateNameHash, int layer = -1, float normalizedTime = float.NegativeInfinity);

```c#
anim.Play("WAIT");
anim.Play("RUN");
```

ν•΄λ‹Ή μ• λ‹λ©”μ΄μ… `state`λ¥Ό κ·Έλ€λ΅ μ¬μƒμ‹ν‚΄.

<br>

### β CrossFade

> public void CrossFade(int stateHashName, float normalizedTransitionDuration, int layer = -1, float normalizedTimeOffset = 0.0f, float normalizedTransitionTime = 0.0f);

```c#
anim.CrossFade("RUN", 0.1f);
anim.CrossFade("ATTACK", 0.1f, -1, 0f); // layer -1 , λ°λ³µ μ¬μƒ.(0μ΄λ΅ λμ•„κ°)
```

  - *anim.CrossFade* 
    - *anim.Play* λ¥Ό λ¶€λ“λ½κ² ν•λ” κ²ƒμ΄λΌκ³  λ³΄λ©΄ λλ‹¤. λ¶€λ“λ½κ³  μμ—°μ¤λ½κ² λΈ”λ λ”©λλ“― μ• λ‹λ©”μ΄μ…μ΄ μ¬μƒλλ‹¤.
      - *anim.Play*λ¥Ό μ‚¬μ©ν•λ©΄ μ¬μƒν•  μ• λ‹λ©”μ΄μ… ν΄λ¦½μ΄ λ°”λ€” λ• λλ λκΈ°λ“―μ΄ λ°”λ€μ–΄ λ¶€μμ—°μ¤λ½λ‹¤. *anim.CrossFade* λ” μ• λ‹λ©”μ΄μ…μ΄ μ•„μ£Ό μμ—°μ¤λ½κ² λ°”λ€κ² λλ‹¤.
    - μ²« λ²μ§Έ μΈμ : μ¬μƒν•  ν΄λ¦½ μ΄λ¦„
    - λ‘ λ²μ§Έ μΈμ : μ§€μ—° μ‹κ°„ (λ‹¤μ μ• λ‹λ©”μ΄μ…μΌλ΅ λ°”λ€λ”λ° κ±Έλ¦¬λ” fade μ‹κ°„)
      - 0.1f λΌλ©΄ λ°”λ€” μ• λ‹λ©”μ΄μ…μ 10 %λ” λ¶€λ“λ½κ² μ• λ‹λ©”μ΄μ…μ΄ μ΄μ–΄μ§€λ”λ° μ“΄λ‹¤.
    - μ„Έ λ²μ§Έ μΈμ : layer. μ• λ‹λ©”μ΄μ… λ μ΄μ–΄
    - λ„¤ λ²μ§Έ μΈμ(normalizedTimeOffset) : μ• λ‹λ©”μ΄μ…μ μ¬μƒ μ‹μ‘ μ‹μ  (0~1 λΉ„μ¨)
      - 0.0f λ΅ μ„Έν…ν•λ©΄ λ‹¤μ‹ μ²μμΌλ΅ λμ•„κ°€ μ¬μƒν•λ‹¤. 
      - ν΄λ¦½μ `Loop Time`μ΄ μ²΄ν¬λμ–΄ μμ§€ μ•λ”λΌλ„ μ΄λ ‡κ² μ½”λ“λ΅ λ°λ³µ μ¬μƒ μ‹ν‚¬ μ μλ‹¤.

![image](https://user-images.githubusercontent.com/42318591/94799473-228b0c00-041e-11eb-89f1-9ae3994abffa.png)


μΈμλ΅ λ“¤μ–΄κ°„ μ• λ‹λ©”μ΄μ… ν΄λ¦½μ„ μ¬μƒμ‹ν‚¨λ‹¤.(μ• λ‹λ©”μ΄ν„° μ»¨νΈλ΅¤λ¬μ μ¬μƒ μ‹ν‚¬ μƒνƒμ μ΄λ¦„)

<br>

### β νλΌλ―Έν„° κ΄€λ ¨ : SetFloat, SetBool, SetInteger, SetTrigger

> public void SetInteger(string name, int value); public void SetInteger(int id, int value);

  - `SetFloat("νλΌλ―Έν„° μ΄λ¦„", floatκ°’)` : ν•΄λ‹Ή νλΌλ―Έν„°μ— μΈμλ΅ λ„κΈ΄ float κ°’μ„ μ¤€λ‹¤. κ·Έλ¬λ©΄ μ΄ μ΅°κ±΄μ— λ§λ” μ• λ‹λ©”μ΄μ… νΈλμ§€μ…μ΄ μ•μ•„μ„ λ°λ™ν•λ‹¤.
    - `SetFloat("νλΌλ―Έν„° μ΄λ¦„", κ°’, μ§€μ—° μ‹κ°„, μ‹κ°„κ°„κ²©)`
      - ex) **SetFloat("Horizontal Move", moveInput.x * animationSpeedPercent, 0.05f, Time.deltaTime);**
        - μ΄μ „μ— μ„¤μ •ν• νλΌλ―Έν„° κ°’μ—μ„ λ°©κΈ μ„¤μ •ν• νλΌλ―Έν„° κ°’μΌλ΅ 0.05μ΄μ μ§€μ—°μ‹κ°„μ„ κ±°μ³ μ΄ `Time.deltaTime` μ‹κ°„ κ°„κ²©λ™μ• λ¶€λ“λ½κ² λ³€κ²½ν•΄μ£Όλ„λ΅ ν•λ‹¤.
    - `SetBool`, `SetInt`λ„ μ‚¬μ©λ²• λ§μ°¬κ°€μ§€

> public void SetTrigger(string name);  public void SetTrigger(int id);

  - `SetTrigger("νλΌλ―Έν„° μ΄λ¦„")` : Trigger νƒ€μ…μΈ ν•΄λ‹Ή νλΌλ―Έν„°λ¥Ό λ°λ™μ‹ν‚¨λ‹¤. κ·Έλ¬λ©΄ μ΄ Triggerλ¥Ό κ°€μ§„ μ• λ‹λ©”μ΄μ… νΈλμ§€μ…μ΄ μ•μ•„μ„ λ°λ™ν•λ‹¤.

<br>

### β νλΌλ―Έν„° κ΄€λ ¨ : GetFloat, GetBool, GetIntger

> public float GetFloat(string name); public float GetFloat(int id);

μΈμλ” μ• λ‹λ©”μ΄μ… νλΌλ―Έν„°κ°€ λλ‹¤. μΈμμ— ν•΄λ‹Ήν•λ” μ• λ‹λ©”μ΄μ… νλΌλ―Έν„°μ κ°’μ„ κ°€μ Έ μ¨λ‹¤.

<br>

### β IK κ΄€λ ¨ : SetIKPositionWeight

> public void SetIKPositionWeight(AvatarIKGoal goal, float value);

- κ΄€μ  κΊΎμ„ λ€μƒκ³Ό ν•¨κ» Positionλ©΄μ— μμ–΄ IKμ μ°μ„ μμ„λ¥Ό κ²°μ •ν•λ‹¤.
- float κ°’μ΄ 1.0μ— κ°€κΉμΈμλ΅ IKκ°€ λ” κ°•ν•κ² μ μ©λ¨

<br>

### β IK κ΄€λ ¨ : SetIKRotationnWeight

> public void SetIKRotationWeight(AvatarIKGoal goal, float value);

- κ΄€μ  κΊΎμ„ λ€μƒκ³Ό ν•¨κ» Rotationλ©΄μ— μμ–΄ IKμ μ°μ„ μμ„λ¥Ό κ²°μ •ν•λ‹¤.
- float κ°’μ΄ 1.0μ— κ°€κΉμΈμλ΅ IKκ°€ λ” κ°•ν•κ² μ μ©λ¨

<br>

### β IK κ΄€λ ¨ : SetLookAtWeight

> public void SetLookAtWeight(float weight, float bodyWeight = 0.0f, float headWeight = 1.0f, float eyesWeight = 0.0f, float clampWeight = 0.5f);

- μ‹μ„  μ²λ¦¬
- float κ°’μ΄ 1.0μ— κ°€κΉμΈμλ΅ IKκ°€ λ” κ°•ν•κ² μ μ©λ¨

<br>

### β IK κ΄€λ ¨ : SetIKPosition

> public void SetIKPosition(AvatarIKGoal goal, Vector3 goalPosition);

- Positionλ©΄μ— μμ–΄ κ΄€μ  κΊΎμ„ λ€μƒκ³Ό μ¤‘μ‹¬μ΄ λλ” μ„μΉ 
- ν•΄λ‹Ή μ„μΉλ¥Ό μ¤‘μ‹¬μΌλ΅ ν•΄λ‹Ή μ•„λ°”νƒ€μ κ΄€μ μ„ κΊΎμ–΄ μ΄λ™μ‹ν‚΄

<br>

### β IK κ΄€λ ¨ : SetIKRotation

> public void SetIKRotation(AvatarIKGoal goal, Quaternion goalRotation);

- Rotationλ©΄μ— μμ–΄ κ΄€μ  κΊΎμ„ λ€μƒκ³Ό μ¤‘μ‹¬μ΄ λλ” μ„μΉ 
- ν•΄λ‹Ή μ„μΉλ¥Ό μ¤‘μ‹¬μΌλ΅ ν•΄λ‹Ή μ•„λ°”νƒ€μ κ΄€μ μ„ κΊΎμ–΄ νμ „μ‹ν‚΄

<br>

### β IK κ΄€λ ¨ : SetLookAtPosition

> public void SetLookAtPosition(Vector3 lookAtPosition);

- **μ‹μ„ **μ„ ν•΄λ‹Ή νƒ€κ²μ μ„μΉλ΅ μ΄λ™μ‹ν‚¨λ‹¤.



***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}