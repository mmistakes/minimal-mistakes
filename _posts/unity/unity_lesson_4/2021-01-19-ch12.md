---
title:  "Ch 12. ì˜¤ë””ì˜¤ ë§¤ë‹ˆì €(í’€ë§ ê°œë…)" 

categories:
  -  Unity Lesson 4
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2021-01-19
last_modified_at: 2021-01-19
---

ì¼€ì´ë””ë‹˜ì˜ **[ìœ ë‹ˆí‹° ê°•ì¢Œ] ë¦¬ë“¬ ê²Œì„** ìœ íŠœë¸Œ ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.youtube.com/watch?v=eLdiOCWPfPc&list=PLUZ5gNInsv_MCnum4bOQRI72LdGkIY3tY&index=2&t=231s)
{: .notice--warning}

## ğŸš€ Audio Manager

![image](https://user-images.githubusercontent.com/42318591/105036275-9d486780-5a9f-11eb-9421-c2c25281cc61.png)

- `BGMPlayer` ğŸ‘‰ Audio Source 1ê°œ
- `SFXPlayer` ğŸ‘‰ Audio Source 8ê°œ

BGM ì€ ê²Œì„ ë‹¹ í•˜ë‚˜ì˜ BGM ë§Œ ì¬ìƒë˜ëŠ” ë°˜ë©´, íš¨ê³¼ìŒì€ ë™ì‹œì— ì—¬ëŸ¬ê°œê°€ ì¬ìƒë  ìˆ˜ ìˆìœ¼ë©° 1 íšŒì„±ìœ¼ë¡œ ì¬ìƒì´ ëœë‹¤. ê·¸ë˜ì„œ ì˜¤ë¸Œì íŠ¸ë“¤ ë§ˆë‹¤ íš¨ê³¼ìŒì„ ìœ„í•œ AudioSource ë“¤ì„ ë¶™ì—¬ì£¼ê¸°ë³´ë‹¤ëŠ” í•˜ë‚˜ì˜ `Audio Manager` ì˜¤ë¸Œì íŠ¸ë¥¼ static ì‹±ê¸€í†¤ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ê±°ê¸°ì— Audio Sourceë¥¼ ë¯¸ë¦¬ ì—¬ëŸ¬ê°œ ë¶™ì—¬ë†“ê³  íš¨ê³¼ìŒ ì¬ìƒí•  ë•Œë§ˆë‹¤ `SFXPlayer` ì‹±ê¸€í†¤ ì˜¤ë¸Œì íŠ¸ì˜ ì¬ìƒ ì¤‘ì´ì§€ ì•Šì€ Audio Sourceì—ì„œ ì¬ìƒì„ ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤. ì•„ì§ ì¬ìƒ ì¤‘ì´ì§€ ì•Šì€ Audio Source ë¥¼ ë¹Œë ¤ì„œ ì´ë¥¼ í†µí•´ íš¨ê³¼ìŒ ì¬ìƒ. Audio SOurceë“¤ì„ ì˜¤ë¸Œì íŠ¸ í’€ë§ì²˜ëŸ¼ í™œìš©í•˜ëŠ” ëŠë‚Œì´ë‹¤. 

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[System.Serializable]
public class Sound
{
    public string name;
    public AudioClip clip;
}

public class AudioManager : MonoBehaviour
{
    public static AudioManager instance;

    [SerializeField] Sound[] sfx = null;
    [SerializeField] Sound[] bgm = null;

    [SerializeField] AudioSource bgmPlayer = null;
    [SerializeField] AudioSource[] sfxPlayer = null;

    private void Start()
    {
        instance = this;
    }

    public void PlayBGM(string p_bgmName)
    {
        for (int i = 0; i < bgm.Length; i++)
        {
            if (p_bgmName == bgm[i].name)
            {
                bgmPlayer.clip = bgm[i].clip;
                bgmPlayer.Play();
            }
        }
    }

    public void StopBGM()
    {
        bgmPlayer.Stop();
    }

    public void PlaySFX(string p_sfxName)
    {
        for (int i = 0; i < sfx.Length; i++)
        {
            if (p_sfxName == sfx[i].name)
            {
                for (int j = 0; j < sfxPlayer.Length; j++)
                {
                    // SFXPlayerì—ì„œ ì¬ìƒ ì¤‘ì´ì§€ ì•Šì€ Audio Sourceë¥¼ ë°œê²¬í–ˆë‹¤ë©´ 
                    if (!sfxPlayer[j].isPlaying)
                    {
                        sfxPlayer[j].clip = sfx[i].clip;
                        sfxPlayer[j].Play();
                        return;
                    }
                }
                Debug.Log("ëª¨ë“  ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ê°€ ì¬ìƒì¤‘ì…ë‹ˆë‹¤.");
                return;
            }
        }
        Debug.Log(p_sfxName + " ì´ë¦„ì˜ íš¨ê³¼ìŒì´ ì—†ìŠµë‹ˆë‹¤.");
        return;
    }
}

```

![image](https://user-images.githubusercontent.com/42318591/105037216-ffee3300-5aa0-11eb-9538-5bb31f08119f.png)



### âœˆ ì¬ìƒ

```c#
AudioManager.instance.PlayBGM("BGM0");
```

ì‹±ê¸€í†¤ í˜¸ì¶œ! 

```c#
AudioManager theAudio;
theAudio = AudioManager.instance;
theAudio.PlaySFX("Clap");
```

í˜¸ì¶œì´ ì¦ì„ ì˜ˆì •ì´ë¼ë©´ ë¯¸ë¦¬ ìºì‹±í•´ë‘ê¸°

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}