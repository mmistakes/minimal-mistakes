---
title:  "Chapter 1. ì‹±ê¸€í†¤" 

categories:
  -  Unity Lesson 2
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-09-15
last_modified_at: 2020-09-15
---

ì¸í”„ëŸ°ì— ìˆëŠ” Rookissë‹˜ì˜ **[C#ê³¼ ìœ ë‹ˆí‹°ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ] Part3: ìœ ë‹ˆí‹° ì—”ì§„** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/MMORPG-ìœ ë‹ˆí‹°)
{: .notice--warning}

## ğŸ™‹â€â™€ï¸ ê²Œì„ ë§¤ë‹ˆì €

- <u>ì „ì—­ìœ¼ë¡œ ê²Œì„ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸</u>ë¡œ ë§Œë“  ê²ƒ.
- ì‚¬ì‹¤ ê²Œì„ ë§¤ë‹ˆì €ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œì„œ ì–´ë–¤ ì˜¤ë¸Œì íŠ¸ì— ê¼­ ë¶™ì–´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì—†ì§€ë§Œ ì‹¤ì²´ëŠ” ì—†ì§€ë§Œ Sceneì— ì¡´ì¬í•˜ê¸´ í•˜ëŠ” ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ë§¤ë‹ˆì € ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œì„œ ë¶™ì´ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.
  - ë§¤ë‹ˆì € ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì¼ ìš©ë„ì˜ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì.

<br>

## ğŸ™‹â€â™€ï¸ ì‹±ê¸€í†¤

### ê²Œì„ ë§¤ë‹ˆì € ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ ì˜¤ë¸Œì íŠ¸ ê°€ì ¸ì˜¤ê¸°

> í˜„ì¬ "@Managers" ë¼ëŠ” ë¹ˆ ì˜¤ë¸Œì íŠ¸ì— ê²Œì„ ë§¤ë‹ˆì €ë¡œ ì“¸ Managers ë¼ëŠ” C# ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ì¤€ ìƒíƒœ.

#### ğŸ“œPlayer.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    void Start()
    {
        GameObject obj = GameObject.Find("@Managers");
        Managers mag = obj.GetComponent<Managers>();
    }

    void Update()
    {
        
    }
}
```

- `obj` ğŸ‘‰ í˜„ì¬ ì”¬ì— ì¡´ì¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸(GameObject)ë“¤ ä¸­ì—ì„œ ì´ë¦„ì´ "@Managers"ì¸ ì˜¤ë¸Œì íŠ¸.
  - Find í•¨ìˆ˜
    - GameObject íƒ€ì…ì˜ í•¨ìˆ˜ë¡œì„œ í´ë˜ìŠ¤ í•¨ìˆ˜ë¼ *GameObject.Find(String)* ì‹ìœ¼ë¡œ ì‚¬ìš© ëœë‹¤. í˜„ì¬ ì”¬ì—ì„œ ì¸ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ” ì´ë¦„ì„ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ ë¦¬í„´í•´ì¤€ë‹¤. 
    - ë‹¨, í™œì„±í™” ë˜ì–´ìˆëŠ”(Active) ì˜¤ë¸Œì íŠ¸ë“¤ ì¤‘ì—ì„œë§Œ ì°¾ì•„ì¤€ë‹¤.
- `mag` ğŸ‘‰ `obj` ì˜¤ë¸Œì íŠ¸ì˜ Managers ì»´í¬ë„ŒíŠ¸ë¥¼ `mag`ì— ë‹´ì•˜ë‹¤. 
  - C# ìŠ¤í¬ë¦½íŠ¸ë„ ì»´í¬ë„ŒíŠ¸ë‹¤. 
  - ì¦‰, @Managers ì˜¤ë¸Œì íŠ¸ì˜ Managers ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.

<br>

### ì‹±ê¸€í†¤ êµ¬í˜„í•˜ê¸°

> ê²Œì„ ë§¤ë‹ˆì €ëŠ” ê²Œì„ ì „ë°˜ì„ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê²Œì„ ë§¤ë‹ˆì € ìŠ¤í¬ë¦½íŠ¸ëŠ” ë”± í•˜ë‚˜ë§Œ staticìœ¼ë¡œ ë§Œë“¤ì–´ ë‘ê³  ì—¬ëŸ¬ ê³³ì—ì„œ ì´ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•œë‹¤. 

- ê²Œì„ ë§¤ë‹ˆì € ì˜¤ë¸Œì íŠ¸ì˜ ìŠ¤í¬ë¦½íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—¬ëŸ¬ ê³³ì—ì„œ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ `static` ìœ¼ë¡œ ë§Œë“¤ì–´ ë‘”ë‹¤.
- ë‹¨ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ” ì´ ê²Œì„ ë§¤ë‹ˆì € ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬í„´ ë°›ì„ ìˆ˜ ìˆëŠ” `static` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‘”ë‹¤.
  - ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ *public*ì´ì–´ì•¼ í•œë‹¤.

<br>

#### ì²«ë²ˆì§¸ ë°©ë²•

##### ğŸ“œManagers.cs

> ê²Œì„ ë§¤ë‹ˆì €ë¡œì„œ ë™ì‘í•  ìŠ¤í¬ë¦½íŠ¸

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Managers : MonoBehaviour
{
    static Managers Instance;  // ìœ ì¼ì„±ì´ ë³´ì¥ëœë‹¤.
    public static Managers GetInstance() { return Instance; }  // ìœ ì¼í•œ ë§¤ë‹ˆì €ë¥¼ ê°–ê³  ì˜¨ë‹¤.

    void Start()
    {
        GameObject obj = GameObject.Find("@Managers");
        Instance = obj.GetComponent<Managers>();   // Instanceì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ í• ë‹¹í•˜ëŠ” ê³³
    }

    void Update()
    {
        
    }
}
```

- ì‹±ê¸€í†¤ìœ¼ë¡œ ë§Œë“¤ ëŒ€ìƒì€ "@Managers" ì˜¤ë¸Œì íŠ¸ì— ë¶™ì–´ ìˆëŠ” ğŸ“œManagers.cs
  - ì—¬ëŸ¬ ê³³ì—ì„œ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ `static`ìœ¼ë¡œ ì„ ì–¸í•œë‹¤. 
    - *static Managers Instance*
  - ì—¬ëŸ¬ ê³³ì—ì„œ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´í•˜ëŠ” `static` public í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë‘”ë‹¤.
    - í´ë˜ìŠ¤ í•¨ìˆ˜ê°€ ë˜ë¯€ë¡œ ë‹¤ë¥¸ ì—¬ëŸ¬ ê³³ì—ì„œ `í´ë˜ìŠ¤ì´ë¦„.GetInstance()` ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
- Instanceì— ğŸ“œManagers.cs í• ë‹¹í•˜ëŠ” ê²ƒì„ ë”± í•œêµ°ë°ì—ì„œë§Œ í•´ì£¼ë©´ ë‹¨ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ”ê²Œ ë³´ì¥ëœë‹¤.
  - ğŸ“œManagers.csì—ì„œ í• ë‹¹í•´ì¤€ë‹¤.
    ```c#
        GameObject obj = GameObject.Find("@Managers");
        Instance = obj.GetComponent<Managers>();   // Instanceì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ í• ë‹¹í•˜ëŠ” ê³³ 
    ```

##### ğŸ“œPlayer.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    void Start()
    {
        Managers mag = Managers.GetInstance();  // Instance ë¦¬í„´ ë°›ì•„ ì‚¬ìš©
    }

    void Update()
    {
        
    }
}
```

- "@Managers" ì˜¤ë¸Œì íŠ¸ì— ë¶™ì–´ ìˆëŠ” ğŸ“œManagers.csê°€ í• ë‹¹ ë˜ì–´ ìˆëŠ” Instanceë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 
  - *Managers.GetInstance()*

##### ì´ ë°©ë²•ì˜ ë¬¸ì œì 

- ë§Œì•½ @Managers ì˜¤ë¸Œì íŠ¸ê°€ ì—†ë‹¤ë©´ `ob`jê°€ nullì´ ëœë‹¤. 
  - ì´ëŸ° ê²½ìš° ì½”ë“œë¡¤ í†µí•˜ì—¬ @Managers ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ ì£¼ì.
- @Managersê°€ ìˆê¸´ ìˆì–´ë„ ğŸ“œManagers.cs ê°€ ë¶™ì–´ìˆì§€ ì•Šë‹¤ë©´ `Instance` ê°€ nullì´ ëœë‹¤.
  - ì´ëŸ° ê²½ìš° ì½”ë“œë¡¤ í†µí•˜ì—¬ @Managers ì˜¤ë¸Œì íŠ¸ì— ğŸ“œManagers.cs ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì—¬ì£¼ì.

<br>


#### ë‘ ë²ˆì§¸ ë°©ë²• : ê°œì„ 

##### ğŸ“œManagers.cs

> ê²Œì„ ë§¤ë‹ˆì €ë¡œì„œ ë™ì‘í•  ìŠ¤í¬ë¦½íŠ¸

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Managers : MonoBehaviour
{
    static Managers Instance;  // ìœ ì¼ì„±ì´ ë³´ì¥ëœë‹¤.
    public static Managers GetInstance() // ìœ ì¼í•œ ë§¤ë‹ˆì €ë¥¼ ê°–ê³  ì˜¨ë‹¤.
    {
        Init();
        return Instance;
    }  

    void Start()
    {
        Init();
    }

    void Update()
    {
        
    }

    static void Init()
    {
        if (Instance == null)
        {
            GameObject obj = GameObject.Find("@Managers");
            if (obj == null)
            {
                obj = new GameObject { name = "@Managers" };
                obj.AddComponent<Managers>();
            }

            DontDestroyOnLoad(obj);
            Instance = obj.GetComponent<Managers>();
        }
    }
}
```

- *GetInstance()*, *Start()* ë‘ í•¨ìˆ˜ì—ì„œ ***Init()***ì„ í˜¸ì¶œí•˜ëŠ” ì´ìœ 
  - ğŸ“œManagers.csì˜ *Start()* í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê¸°ë„ ì „ì— ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê²Œì„ ë§¤ë‹ˆì € `Instance`ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ì¼ì´ ìƒê¸´ë‹¤ë©´ ë¨¼ì € ê·¸ ê³³ì—ì„œ `Instance`ë¥¼ ë§Œë“¤ì–´ ë‘ë„ë¡ í•˜ê¸° ìœ„í•˜ì—¬. 
- `Instance`ê°€ ì•„ì§ ì—†ë‹¤ë©´ ë§Œë“¤ì. ìˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ë¬´ì‹œí•˜ê³  ì§€ë‚˜ê°€ë©´ ëœë‹¤. ğŸ‘‰ *if (Instance == null)*
  - `Instance`ê°€ ë‹¨ í•˜ë‚˜ë§Œ ì¡´ì¬í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥ì´ ëœë‹¤.
  - `Instance` ë§Œë“¤ê¸°
    - @Managersë¼ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ì—†ë‹¤ë©´ ğŸ‘‰ *if (obj == null)*
      - ì§ì ‘ ë§Œë“¤ê³  ğŸ“œManagers.cs ì»´í¬ë„ŒíŠ¸ë„ ë¶™ì—¬ì£¼ì.
        ```c#
        obj = new GameObject { name = "@Managers" };
        obj.AddComponent<Managers>();
        ```
    - "@Managers" ì˜¤ë¸Œì íŠ¸ê°€ ì”¬ì´ ë³€ê²½ë˜ë„ ì‚­ì œë˜ì§€ ì•Šê³  ìœ ì§€ ë˜ë„ë¡ ì•ˆì „ ì¥ì¹˜ë¥¼ ê±¸ì–´ì£¼ì. ğŸ‘‰ *DontDestroyOnLoad(obj)*
  - `Instance`ì— "@Managers" ì˜¤ë¸Œì íŠ¸ì— ë¶™ì–´ ìˆëŠ” ğŸ“œManagers.cs ê°€ì ¸ì˜¤ê¸°

##### ğŸ“œPlayer.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    void Start()
    {
        Managers mag = Managers.GetInstance();
    }

    void Update()
    {
        
    }
}

```

<br>


#### ì„¸ ë²ˆì§¸ ë°©ë²• : í”„ë¡œí¼í‹° ì‚¬ìš©

##### ğŸ“œManagers.cs

> ê²Œì„ ë§¤ë‹ˆì €ë¡œì„œ ë™ì‘í•  ìŠ¤í¬ë¦½íŠ¸

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Managers : MonoBehaviour
{
    static Managers s_instace;  
    public static Managers Instance
    {
        get
        {
            Init();
            return s_instace;
        }
    }

    void Start()
    {
        Init();
    }

    void Update()
    {
        
    }

    static void Init()
    {
        if (s_instace == null)
        {
            GameObject obj = GameObject.Find("@Managers");
            if (obj == null)
            {
                obj = new GameObject { name = "@Managers" };
                obj.AddComponent<Managers>();
            }

            DontDestroyOnLoad(obj);
            s_instace = obj.GetComponent<Managers>();
        }
    }
}

```

*GetInstance()* í•¨ìˆ˜ë¥¼ í”„ë¡œí¼í‹°ë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤.

##### ğŸ“œPlayer.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    void Start()
    {
        Managers mag = Managers.Instance;
    }

    void Update()
    {
        
    }
}

```

- Managers mag = **Managers.Instance**

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}