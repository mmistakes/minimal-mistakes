---
title:  "Chapter 7-7. UI : ì¸ë²¤í† ë¦¬ ì‹¤ìŠµ" 

categories:
  -  Unity Lesson 2
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2021-01-02
last_modified_at: 2021-01-02
---

ì¸í”„ëŸ°ì— ìˆëŠ” Rookissë‹˜ì˜ **[C#ê³¼ ìœ ë‹ˆí‹°ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ] Part3: ìœ ë‹ˆí‹° ì—”ì§„** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/MMORPG-ìœ ë‹ˆí‹°)
{: .notice--warning}

# Chapter 7. UI

## ğŸš€ ì¸ë²¤í† ë¦¬(ê³ ì •UI)

### ğŸ“œUI_Inven_Item

> `UI_Inven` ìº”ë²„ìŠ¤ UI í”„ë¦¬íŒ¹ì˜ ì•„ì´í…œ í•˜ë‚˜í•˜ë‚˜ë¥¼ ì´ë£¨ëŠ” ê·¸ ì•„ì´í…œì— ë¶™ëŠ”ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/103451690-5706b080-4d0a-11eb-96ed-7726347f4c33.png)

```c#
public class UI_Inven_Item : UI_Base
{
    enum GameObjects // êµ¬ì„± UI ì˜¤ë¸Œì íŠ¸ê°€ 2ê°œ ë¿ì´ë¼ ê·¸ëƒ¥ GameObjects í•œ ê³³ì— ë¬¶ìŒ
    {
        ItemIcon,
        ItemNameText,
    }

    string _name;

    void Start()
    {
        Init();
    }

    public override void Init()
    {
        Bind<GameObject>(typeof(GameObjects)); // ItemIcon, ItemNameText ì˜¤ë¸Œì íŠ¸ ë°”ì¸ë”©í•˜ì—¬ ìƒì†ë°›ì€ Dictionary _objectsì— ì €ì¥.
        Get<GameObject>((int)GameObjects.ItemNameText).GetComponent<Text>().text = _name; // ItemNameText í…ìŠ¤íŠ¸ UIì˜ í…ìŠ¤íŠ¸ë¥¼ _name ìœ¼ë¡œ ë³€ê²½

        Get<GameObject>((int)GameObjects.ItemIcon).BindEvent((PointerEventData) => { Debug.Log($"ì•„ì´í…œ í´ë¦­! {_name}"); }); // í™•ì¥ ë©”ì†Œë“œ BindEvent ì‚¬ìš©. ItemIcon í´ë¦­ì‹œ í•´ë‹¹ ëŒë‹¤í•¨ìˆ˜ ì‹¤í–‰í•˜ê²Œ ì´ë²¤íŠ¸ ë°”ì¸ë”©
    }

    public void SetInfo(string name)
    {
        _name = name;
    }
}
```

<br>


### ğŸ“œUIManager


```c#
	public T MakeSubItem<T>(Transform parent = null, string name = null) where T : UI_Base
	{
		if (string.IsNullOrEmpty(name))
			name = typeof(T).Name;
         
		GameObject go = Managers.Resource.Instantiate($"UI/SubItem/{name}");
		if (parent != null)
			go.transform.SetParent(parent);

		return Util.GetOrAddComponent<T>(go);
	}
```

ì¸ë²¤í† ë¦¬ ìŠ¬ë¡¯ í”„ë¦¬íŒ¹ ìƒì„±í•˜ëŠ” í•¨ìˆ˜


<br>



### ğŸ“œUI_Inven

> `UI_Inven` ìº”ë²„ìŠ¤ UI í”„ë¦¬íŒ¹ì— ë¶™ëŠ”ë‹¤.

- UI ì—ì…‹ë„ ì—ì…‹ìŠ¤í† ì–´ì— ë§ë‹¤. ì°¸ê³ í•˜ì.
- ğŸ“œUI_Inven ì¸ë²¤í† ë¦¬ëŠ” ê³ ì • UI ë¼ëŠ” ì„¤ì •ì´ë¼ ğŸ“œUI_Scene
- ì¸ë²¤í† ë¦¬ UIëŠ” ì•„ì´í…œ ìŠ¬ë¡¯ë“¤ì„ `GridPanel`ë¡œ ë¬¶ì–´ Grid Layout Group ì»´í¬ë„ŒíŠ¸ë¡œ ê´€ë¦¬í•œë‹¤.

![image](https://user-images.githubusercontent.com/42318591/103451680-3e969600-4d0a-11eb-9653-cca9ee7f4344.png)


```c#
public class UI_Inven : UI_Scene
{
    enum GameObjects
    {
        GridPanel
    }

    void Start()
    {
        Init();
    }

    public override void Init()
    {
        base.Init();

        Bind<GameObject>(typeof(GameObjects)); // GridPanel ì˜¤ë¸Œì íŠ¸ ë°”ì¸ë”©

        GameObject gridPanel = Get<GameObject>((int)GameObjects.GridPanel);
        foreach (Transform child in gridPanel.transform) // ëª¨ë“  ì•„ì´í…œ ìŠ¬ë¡¯ë“¤ íŒŒê´´ (ë¯¸ë¦¬ íŒŒê´´í•˜ê³  ì‹œì‘)
            Managers.Resource.Destroy(child.gameObject);

        // ì‹¤ì œ ì¸ë²¤í† ë¦¬ ì •ë³´ë¥¼ ì°¸ê³ í•´ì„œ
        for (int i = 0; i < 8; i++)
        {
            GameObject item = Managers.UI.MakeSubItem<UI_Inven_Item>(gridPanel.transform).gameObject; // GridPanelì˜ ìì‹ìœ¼ë¡œí•˜ì—¬ ì¸ë²¤íŠ¸ë¦¬ ìŠ¬ë¡¯ë“¤ í”„ë¦¬íŒ¹ ìƒì„±           
            UI_Inven_Item invenItem = item.GetOrAddComponent<UI_Inven_Item>(); // ğŸ“œUI_Inven_Item ë„ ë¶™ì—¬ì¤Œ
            invenItem.SetInfo($"ì§‘í–‰ê²€{i}ë²ˆ");
        }
    }
}
```





<br>

### ğŸ“œPlayerController 

```c#
Managers.UI.ShowSceneUI<UI_Inven>();
```


<br>


## ğŸš€ Instantiateìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ì—ì„œ ë’¤ì— ë¶™ëŠ” (Clone) ë¹¼ê¸°

### ğŸ“œResourceManager

```c#
        GameObject go = Object.Instantiate(prefab, parent);
        int index = go.name.IndexOf("(Clone)"); // stringì˜ IndexOf
        if (index > 0) // ë°œê²¬í–ˆë‹¤ë©´
            go.name = go.name.Substring(0, index); // (Clone)ì „ê¹Œì§€ë§Œì„ nameìœ¼ë¡œ ì„¤ì •

        return go;
```

ê·¸ëƒ¥ `go.name = prefab.name` í•´ì¤˜ë„ ëœë‹¤.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}