---
title:  "Chapter 7-4. UI : UI ìë™í™”" 

categories:
  -  Unity Lesson 2
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-12-28
last_modified_at: 2020-12-28
---

ì¸í”„ëŸ°ì— ìˆëŠ” Rookissë‹˜ì˜ **[C#ê³¼ ìœ ë‹ˆí‹°ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ] Part3: ìœ ë‹ˆí‹° ì—”ì§„** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/MMORPG-ìœ ë‹ˆí‹°)
{: .notice--warning}

# Chapter 7. UI

<br>

## ğŸš€ UI ìë™í™”

### âœˆ UI ìë™í™”ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ êµ¬ì¡°

> UI êµ¬ì¡°

- ğŸ“œUI_Base ğŸ‘‰ ëª¨ë“  UI ì˜ ì¡°ìƒ, ëª¨ë“  UI ìº”ë²„ìŠ¤ë“¤ì´ ê°€ì§€ê³  ìˆëŠ” ê³µí†µì ì¸ ë¶€ë¶„ë“¤. 
  - ğŸ“œUI_Scene ğŸ‘‰ ì”¬ UI ì˜ ì¡°ìƒ, íŒì—…ì²˜ëŸ¼ ì°¨ë¡€ëŒ€ë¡œ ëœ¨ëŠ”ê²Œ ì•„ë‹ˆë¼ ì›ë˜ ìë¦¬ì¡ê³  ìˆëŠ” ê³ ì •ì ì¸ UI ìº”ë²„ìŠ¤ë“¤ì˜ ê³µí†µì ì¸ ë¶€ë¶„ë“¤.
  - ğŸ“œUI_PopUp ğŸ‘‰ íŒì—… UI ì˜ ì¡°ìƒ, íŒì—… UI ìº”ë²„ìŠ¤ë“¤ì˜ ê³µí†µì ì¸ ë¶€ë¶„ë“¤.
    - ğŸ“œUI_Button 
  
UI Canvas ì˜ ì¢…ë¥˜ë¥¼ ê³ ì •ì ì¸ í˜•íƒœì˜ 1ï¸âƒ£Scene, ìŠ¤íƒìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” íŒì—… í˜•íƒœì˜ 2ï¸âƒ£PopUp ë¡œ êµ¬ë¶„í•  ê²ƒ.

> ë°”ì¸ë”©, ì´ë²¤íŠ¸ ê´€ë ¨ í•¨ìˆ˜

- ğŸ“œUtil
- ğŸ“œUI_EventHandler
- ğŸ“œDefine

<br>

### âœˆ Bind : ì´ë¦„ìœ¼ë¡œ UI ì˜¤ë¸Œì íŠ¸ ì°¾ì•„ì™€ ìë™ í• ë‹¹

#### ğŸ“œUI_Button

> `UI_Button`ì´ë¼ëŠ” ì´ë¦„ì˜ Canvas ì— ë¶™ì¸ë‹¤. 

- ìº”ë²„ìŠ¤ í”„ë¦¬íŒ¹ì´ë‹¤. 
  - íŒì—… UI í˜•íƒœ. ğŸ“œUI_PopUp ìƒì† ë°›ìŒ


```c#
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;
using UnityEngine.UI;

public class UI_Button : UI_Popup
{
    enum Buttons
    {
        PointButton
    }

    enum Texts
    {
        PointText,
        ScoreText,
    }

    enum GameObjects
    {
        TestObject,
    }

    enum Images
    {
        ItemIcon,
    }
```
```c#
		    Bind<Button>(typeof(Buttons));
		    Bind<Text>(typeof(Texts));
		    Bind<GameObject>(typeof(GameObjects));
		    Bind<Image>(typeof(Images));
```

![image](https://user-images.githubusercontent.com/42318591/103340575-ba54d080-4ac7-11eb-9799-95e7a07ff4c3.png)

- `UI_Button` ìº”ë²„ìŠ¤ í”„ë¦¬íŒ¹ì€ ì•„ë˜ì™€ ê°™ì€ ì´ë¦„ì˜ ì˜¤ë¸Œì íŠ¸ë“¤ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤. (ì‚¬ì§„ì°¸ê³ )
  - 1 ê°œì˜ UI Button (`PointButton`), 2 ê°œì˜ UI Text (`PointText`, `ScoreText`), 1 ê°œì˜ GameObject (`TestObject`), 1 ê°œì˜ UI Image (`ItemIcon`) 
    - `Blocker`ì˜ ì •ì²´ëŠ” [ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—!!](https://ansohxxn.github.io/unity%20lesson%202/ch7-5/)
  - ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ë“¤ì„ ê°ê° ê°™ì€ ì¢…ë¥˜ì˜ enum ìœ¼ë¡œ ë¬¶ì–´ ê´€ë¦¬í•œë‹¤.
    - í‰ì†Œê°™ìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ public í˜¹ì€ [SerializeField]ë¥¼ í†µí•´ ìœ ë‹ˆí‹° íˆ´ì—ì„œ ì§ì ‘ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë°”ì¸ë”© í•´ì£¼ì–´ì•¼ í–ˆê² ì§€ë§Œ! íˆ´ì—ì„œ ë°”ì¸ë”©ì„ í•˜ì§€ ì•Šê³  ì½”ë“œë¥¼ í†µí•´ ë°”ì¸ë”© ë˜ë„ë¡ UI ìë™í™”ë¥¼ í•  ê²ƒì´ë‹¤.
      ```c#
      // í‰ì†Œê°™ìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì¼ì¼ì´ ì„ ì–¸í•´ì£¼ê³  ìœ ë‹ˆí‹° íˆ´ì—ì„œ ì—°ê²°í•´ì£¼ì–´ì•¼ í–ˆì„ ê²ƒ. ì‘ì€ ê²Œì„ì´ë©´ ê´œì°®ì§€ë§Œ í”„ë¡œê·¸ë¨ ê·œëª¨ê°€ ì»¤ì§€ë©´ ë¹„íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.
      [SerializeField] private Button pointButton; // "PointButton" UI ì˜¤ë¸Œì íŠ¸ ì—°ê²°
      [SerializeField] private Text pointText; // "PointText" UI ì˜¤ë¸Œì íŠ¸ ì—°ê²°
      [SerializeField] private Text scoreText; // "ScoreText" UI ì˜¤ë¸Œì íŠ¸ ì—°ê²°
      [SerializeField] private GameObject go; // "TestObject" ì˜¤ë¸Œì íŠ¸ ì—°ê²°
      [SerializeField] private Image itemIcon; // "ItemIcon" UI ì˜¤ë¸Œì íŠ¸ ì—°ê²°
      ``` 
    - ë”°ë¼ì„œ <u>ì—¬ëŸ¬ íƒ€ì…ì˜ Bind í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ enum ë³„ë¡œ, ì¦‰ ì˜¤ë¸Œì íŠ¸ ì¢…ë¥˜ë³„ë¡œ ì‹¤ì œ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë¡œë“œí•˜ì—¬ Dictionary (ì¡°ìƒì¸ ğŸ“œUI_Base ë¡œë¶€í„° ìƒì† ë°›ìŒ) ìë£Œêµ¬ì¡°ì— ë‹´ì„ ìˆ˜ ìˆë„ë¡ ë°”ì¸ë”© í•  ê²ƒì´ë‹¤.</u> 
      - ìœ ë‹ˆí‹° íˆ´ì—ì„œ ì—°ê²°í•´ì¤„ í•„ìš” ì—†ì´ ì½”ë“œë¡œ ë¡œë”©í•´ì£¼ëŠ” ê²ƒ!
      - C# ì€ **Reflection** ê¸°ëŠ¥ì´ ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ í†µí•´ enum ì— ë“¤ì–´ìˆëŠ” ê²ƒë“¤ì˜ ì´ë¦„ë„ string ìœ¼ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤. C++ì—ëŠ” ì—†ëŠ” ê¸°ëŠ¥..
        - `typeof(Buttons)` ğŸ‘‰ `Type`ì—ëŠ” ëª¨ë“  ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤. `Buttons` Enum ì— ê´€í•œ ëª¨ë“  ì •ë³´ê°€ `Type` ê°ì²´ë¡œ ë¦¬í„´ëœë‹¤. 
          - `typeof`ëŠ” í´ë˜ìŠ¤ ìì²´ì˜ `Type`ì„ ê°€ì ¸ì˜¨ë‹¤. `GetType()` í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ì˜ `Type`ì„ ê°€ì ¸ì˜¨ë‹¤.
        - [Reflection í¬ìŠ¤íŠ¸ ì°¸ê³ ](https://ansohxxn.github.io/c%20sharp/ch9-8/)


<br>

#### ğŸ“œUI_Base

- ğŸ“œUI_Base ğŸ‘‰ ëª¨ë“  UI ì˜ ì¡°ìƒ, ëª¨ë“  UIë“¤ì´ ê°€ì§€ê³  ìˆëŠ” ê³µí†µì ì¸ ë¶€ë¶„ë“¤. 
  - `Bind` UI ì˜¤ë¸Œì íŠ¸ ì´ë¦„ìœ¼ë¡œ ì°¾ì•„ ë°”ì¸ë”©í•´ì£¼ê¸°
  - `Get` UI ì˜¤ë¸Œì íŠ¸ ê°€ì ¸ì˜¤ê¸°
  - `BindEvent` UI ì˜¤ë¸Œì íŠ¸ì— ì´ë²¤íŠ¸ ë“±ë¡í•˜ê¸°

```c#
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;
using UnityEngine.UI;

public abstract class UI_Base : MonoBehaviour
{
	protected Dictionary<Type, UnityEngine.Object[]> _objects = new Dictionary<Type, UnityEngine.Object[]>();

	public abstract void Init();
```

- `_objects` ğŸ‘‰ *Key*ëŠ” `Type`ì´ë©°, *Value*ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì´ ë‹´ê¸´ ë°°ì—´ì¸ *Dictionary*
  - <u>ìœ ë‹ˆí‹° ì”¬ ìƒì— ì¡´ì¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë¡œë“œí•˜ì—¬ ì´ ê³³ì— ë°”ì¸ë”©í•˜ì—¬ ë³´ê´€</u> 
  - ğŸ“œUI_Button ì—ì„œ UI_Button ìº”ë²„ìŠ¤ì˜ êµ¬ì„± ì˜¤ë¸Œì íŠ¸ë“¤ì˜ ì´ë¦„ì„ Enum ë³„ë¡œ ë¶„ë¥˜í•´ ì •ì˜í–ˆì—ˆë‹¤. ì´ Enum `Type`ì„ Key ë¡œ í•˜ì—¬ ê·¸ Enum ì— ë‹´ê¸´ ì´ë¦„ë“¤ì— í•´ë‹¹í•˜ëŠ” ì‹¤ì œ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë°°ì—´ë¡œ ë‹´ì•„ Value ë¡œ í•  ê²ƒì´ë‹¤. 
    - Buttons ê°€ Key ë¼ë©´ ë²„íŠ¼ UI ì˜¤ë¸Œì íŠ¸ë“¤ì´ ë‹´ê¸´ ë°°ì—´ì´ Value. 
  - ğŸ“œUI_Button ëŠ” ğŸ“œUI_Base ë¥¼ ìƒì†ë°›ëŠ”ë‹¤. ì¦‰, ìº”ë²„ìŠ¤ UI í”„ë¦¬íŒ¹ë“¤ì— ë¶™ì„ ìŠ¤í¬ë¦½íŠ¸ëŠ” ëª¨ë‘ ì´ ğŸ“œUI_Base ë¥¼ ìƒì†ë°›ê²Œ í•  ê²ƒì´ë¯€ë¡œ ìº”ë²„ìŠ¤ í”„ë¦¬íŒ¹ë“¤ ê°ê° ë³¸ì¸ë“¤ì˜ `_objects`ì—ì„œ ìì‹ ë“¤ì„ êµ¬ì„±í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë°”ì¸ë”©í•˜ì—¬ ë‹´ê²Œ ëœë‹¤!
  - `UnityEngine.Object`ëŠ” ëª¨~ë“  ì˜¤ë¸Œì íŠ¸ì™€ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì¡°ìƒì´ë¼ `UnityEngine.Object`ë¡œ ëª¨ë“  ì˜¤ë¸Œì íŠ¸, ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì—…ìºìŠ¤íŒ…í•˜ëŠ”ê²Œ ê°€ëŠ¥í•˜ë‹¤.

```c#
	protected void Bind<T>(Type type) where T : UnityEngine.Object
	{
		string[] names = Enum.GetNames(type);
		UnityEngine.Object[] objects = new UnityEngine.Object[names.Length];
		_objects.Add(typeof(T), objects); // Dictionary ì— ì¶”ê°€

    // T ì— ì†í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì„ Dictionaryì˜ Valueì¸ objects ë°°ì—´ì˜ ì›ì†Œë“¤ì— í•˜ë‚˜í•˜ë‚˜ ì¶”ê°€
		for (int i = 0; i < names.Length; i++)
		{
			if (typeof(T) == typeof(GameObject))
				objects[i] = Util.FindChild(gameObject, names[i], true);
			else
				objects[i] = Util.FindChild<T>(gameObject, names[i], true);

			if (objects[i] == null)
				Debug.Log($"Failed to bind({names[i]})");
		}
	}
```

- `_objects`ëŠ” Dictionary ê³ , `objects`ëŠ” `_objects` Dictionaryì— Valueë¡œ ë‹´ê¸° ìœ„í•œ ë°°ì—´ì´ë‹¤. 
- ***Bind*** í•¨ìˆ˜
  - ğŸ“œUI_Base ë¥¼ ìƒì† ë°›ëŠ” ëª¨ë“  ìº”ë²„ìŠ¤ UI ë“¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ protected
  - í”„ë¡œí† íƒ€ì…
    - `T`ì—ëŠ” ì»´í¬ë„ŒíŠ¸ í˜¹ì€ ì˜¤ë¸Œì íŠ¸ê°€ ë“¤ì–´ê°„ë‹¤. Button, GameObject, Image ê°™ì€! 
      - `where T : UnityEngine.Object` : `T`ëŠ” `UnityEngine.Object`ë¥¼ ìƒì†ë°›ëŠ” ê²ƒì´ì–´ì•¼ í•œë‹¤.
        - <u>ì»´í¬ë„ŒíŠ¸ë„ Object ë¥¼ ìƒì† ë°›ëŠ”ë‹¤. Object - Component - Behaviour - MonoBehaviour</u>
    - `type`ì—ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì˜ ì´ë¦„ì„ ë‹´ì•„ ì¢…ë¥˜ë³„ë¡œ êµ¬ë¶„í•œ Enum í´ë˜ìŠ¤ë“¤ì˜ Reflection ì •ë³´ê°€ ë“¤ì–´ê°„ë‹¤. 
      - *Bind\<Button>(typeof(Buttons));* `Buttons` enum í´ë˜ìŠ¤ì˜ ì •ë³´ë¥¼ ë„˜ê¸´ë‹¤.
        - `Buttons` enum í´ë˜ìŠ¤ì— Button ì˜¤ë¸Œì íŠ¸ë“¤ì˜ ì´ë¦„ì´ ì •ì˜ë˜ì–´ìˆìœ¼ë‹ˆ ì´ ì´ë¦„ì— ë§¤ì¹˜ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì„ ì”¬ìƒì—ì„œ ì°¾ì•„ Valueì¸ ë°°ì—´ì˜ ì›ì†Œ í•˜ë‚˜í•˜ë‚˜ì— ë¡œë“œí•  ê²ƒì´ë‹¤. `T`ì¸ Button ì„ Key ë¡œ í•˜ì—¬ ì˜¤ë¸Œì íŠ¸ë“¤ì„ `_objects` Dictionary ì˜ Valueë¡œì„œ ì €ì¥
  - `Enum.GetNames` í•¨ìˆ˜ 
    - C# ì˜ Enum ì€ Stringì²˜ëŸ¼ ê·¸ ìì²´ì˜ í•¨ìˆ˜ë“¤ì„ ì§€ì›í•œë‹¤. Enum ì—ì„œ GetNames í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ Enum í´ë˜ìŠ¤ì˜ ìš”ì†Œë“¤ì˜ ì´ë¦„ì„ **string ë°°ì—´**ë¡œ ë¦¬í„´í•œë‹¤.
    - ê°ê°ì˜ Enum ì—ëŠ” Enum ì´ë¦„ì— ê±¸ë§ëŠ” ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ë“¤ì´ ìˆìœ¼ë‹ˆ ì´ë¥¼ `Enum.GetNames` í•¨ìˆ˜ë¡œ ì´ ì´ë¦„ë“¤ì„ ë‹´ì€ **string ë°°ì—´**ì„ `names` ë°°ì—´ì— ë‹´ëŠ”ë‹¤.
  - ë¡œë“œ
    - `T`ê°€ ì£¼ë¡œ ì»´í¬ë„ŒíŠ¸ì´ê² ì§€ë§Œ (Button, Image ë“±ë“±) ì»´í¬ë„ŒíŠ¸ê°€ ì—†ëŠ” ë¹ˆ ì˜¤ë¸Œì íŠ¸ `GameObject`ì¼ ìˆ˜ë„ ìˆë‹¤. *GetComponent*ë¡œ ì°¾ì•„ì„œ ë¡œë“œí•  ê²ƒì´ê¸° ë•Œë¬¸ì— ì¼€ì´ìŠ¤ë¥¼ ë‚˜ëˆˆë‹¤. *Util.FindChild* ì™€ *Util.FindChild\<T>*
    - *Util.FindChild* í•¨ìˆ˜ì˜ ì—­í• 
      - íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ ìê¸° ìì‹  `gameObject`(ìº”ë²„ìŠ¤)ì˜ ëª¨~~~ë“  ìì‹ ì˜¤ë¸Œì íŠ¸ë“¤ì— ì ‘ê·¼í•˜ì—¬ `names[i]` ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë¡œë“œí•´ì˜¨ë‹¤.
      - `names[i]` ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì”¬ì—ì„œ ì°¾ì•„ì„œ  `_objects` Dictionaryì˜ Valueì¸ ë°°ì—´ì˜ ì›ì†Œ í•˜ë‚˜í•˜ë‚˜ `objects[i]`ì— ë¡œë“œí•œë‹¤. 


<br>

#### ğŸ“œUtil


```c#
    public static T FindChild<T>(GameObject go, string name = null, bool recursive = false) where T : UnityEngine.Object
    {
        if (go == null)
            return null;

        if (recursive == false)
        {
            for (int i = 0; i < go.transform.childCount; i++)
            {
                Transform transform = go.transform.GetChild(i);
                if (string.IsNullOrEmpty(name) || transform.name == name)
                {
                    T component = transform.GetComponent<T>();
                    if (component != null)
                        return component;
                }
            }
		}
        else
        {
            foreach (T component in go.GetComponentsInChildren<T>())
            {
                if (string.IsNullOrEmpty(name) || component.name == name)
                    return component;
            }
        }

        return null;
    }
```

- *FindChild* ê°€ í•˜ëŠ” ì¼
  - `go` ì˜¤ë¸Œì íŠ¸ì˜ ëª¨ë“  ìì‹ë“¤ ì¤‘ `T` <u>ì»´í¬ë„ŒíŠ¸</u>ë¥¼ ê°€ì§€ë©°, `name`ê³¼ ì´ë¦„ì´ ì¼ì¹˜í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ ë¦¬í„´í•œë‹¤.
    - ë§Œì•½ `name`ì´ nullì´ë©´ (ì¦‰, í˜¸ì¶œì‹œ ì•ˆë„˜ê²¨ì¤¬ë‹¤ë©´) ê·¸ëƒ¥ ë°”ë¡œ ê·¸ `T`ì»´í¬ë„ŒíŠ¸ì— í•´ë‹¹ ë˜ëŠ” ê²ƒë§Œ ì°¾ìœ¼ë©´ ëœë‹¤. *if (string.IsNullOrEmpty(name) || component.name == name)*
  - `recursive`ë¥¼ trueë¡œ ë°›ì•˜ë‹¤ë©´ `go`ì˜ ì†ìë“¤ ì¦ì†ìë“¤ê¹Œì§€ recursiveí•˜ê²Œ ëª¨~~~~ë“  ìì‹ë“¤ ì¤‘ì—ì„œ `T`ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§„ ìì‹ ì°¾ìŒ
    - *GetComponentsInChildren* í•¨ìˆ˜ë¥¼ í†µí•´ `T` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§„ ëª¨~~~~~ë“ ! ìì‹ë“¤ ê²€ì‚¬
  - `recursive`ë¥¼ falseë¡œ ë°›ì•˜ë‹¤ë©´ `go`ì˜ ì§ì† ìì‹ë“¤ ì¤‘ì—ì„œë§Œ `T`ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§„ ìì‹ ì°¾ìŒ
    - *GetChild(int)* í•¨ìˆ˜ë¥¼ í†µí•´ ì§ì† ìì‹ì„ Transform íƒ€ì…ìœ¼ë¡œ ë¦¬í„´ë°›ì„ ìˆ˜ ìˆìŒ. ëª‡ ë²ˆì§¸ ìì‹ì¸ì§€ ì¸ë±ìŠ¤ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¹€.


```c#
public class Util
{
    public static GameObject FindChild(GameObject go, string name = null, bool recursive = false)
    {
        Transform transform = FindChild<Transform>(go, name, recursive);
        if (transform == null)
            return null;

        return transform.gameObject;
    }
```

- ì»´í¬ë„ŒíŠ¸ ì—†ëŠ” `GameObject` ì˜¤ë¸Œì íŠ¸ë§Œ (`go`) ë„˜ê²¨ ë°›ì„ ì˜ˆì •ì¸ *public static GameObject FindChild*
  - ë§ˆì°¬ê°€ì§€ë¡œ static ì´ë¼ ì™¸ë¶€ì—ì„œ ê·¸ëƒ¥ `Util.FindChild`ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
  - `where T : UnityEngine.Object` Genericì´ ì•„ë‹ˆë‹ˆê¹Œ ì œì•½ì´ í•„ìš” ì—†ë‹¤. 
    - ì»´í¬ë„ŒíŠ¸ ì—†ëŠ” ë¹ˆ ì˜¤ë¸Œì íŠ¸ë§Œ ì´ í•¨ìˆ˜ì— ë„˜ê¸¸ ê²ƒì´ë¼ì„œ Genericìœ¼ë¡œ êµ¬í˜„í•  í•„ìš”ê°€ X
  - ë¹ˆ ì˜¤ë¸Œì íŠ¸ í¬í•¨ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ëŠ” Transform ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ë¯€ë¡œ ì´ Transform ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ì˜¤ë„ë¡ *FindChild\<Transform>*ë¥¼ í˜¸ì¶œí•œë‹¤.

<br>

### âœˆ Get : ì˜¤ë¸Œì íŠ¸ ê°€ì ¸ì˜¤ê¸°

#### ğŸ“œUI_Base

```c#
	protected T Get<T>(int idx) where T : UnityEngine.Object
	{
		UnityEngine.Object[] objects = null;
		if (_objects.TryGetValue(typeof(T), out objects) == false)
			return null;

		return objects[idx] as T;
	}

	protected GameObject GetObject(int idx) { return Get<GameObject>(idx); } // ì˜¤ë¸Œì íŠ¸ë¡œì„œ ê°€ì ¸ì˜¤ê¸°
	protected Text GetText(int idx) { return Get<Text>(idx); } // Textë¡œì„œ ê°€ì ¸ì˜¤ê¸°
	protected Button GetButton(int idx) { return Get<Button>(idx); } // Buttonë¡œì„œ ê°€ì ¸ì˜¤ê¸°
	protected Image GetImage(int idx) { return Get<Image>(idx); } // Imageë¡œì„œ ê°€ì ¸ì˜¤ê¸°
```

#### ğŸ“œUI_Button

```c#
GameObject go = GetImage((int)Images.ItemIcon).gameObject;
```

- *Get*ì´ í•˜ëŠ” ì¼
  - `T` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° (í˜¹ì€ ì˜¤ë¸Œì íŠ¸) íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ `int` (ì˜ˆë¥¼ë“¤ì–´ "Images.ItemIcon"ì„ int ë¡œ í˜•ë³€í™˜í•˜ë©´ enum ë‹µê²Œ ê·¸ ì •ìˆ˜ê°€ ë¦¬í„´ëœë‹¤.) ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ `T` íƒ€ì…ìœ¼ë¡œ ë¦¬í„´í•¨ 
    - `_objects` Dictionaryì—ì„œ `T` Keyì— ëŒ€ì‘í•˜ëŠ” ë°°ì—´ì—ì„œ ì°¾ì•„ë³´ë©´ ë¨!
      - `_objects` Dictionaryì˜ Valueì¸ ë°°ì—´ì€ Enum ì•ˆì— ì •ì˜ëœ ìˆœì„œëŒ€ë¡œ ë“¤ì–´ê°€ ìˆìœ¼ë¯€ë¡œ ì´ë ‡ê²Œ `(int)Images.ItemIcon` ì´ëŸ°ì‹ìœ¼ë¡œ ì°¾ì•„ë„ ì¸ë±ìŠ¤ì— ëŒ€ì‘ë  ê²ƒì´ë‹¤.
      - `objects[idx] as T`
- *_objects.TryGetValue(typeof(T), out objects)*
  - `_objects` Dictionaryì— `typeof(T)` Key ê°€ ì¡´ì¬í•˜ë©´ True ë¦¬í„´ + `objects` ë°°ì—´ì— ê·¸ `typeof(T)` Key ì˜ Value ë¥¼ ì €ì¥.

<br>

### âœˆ Event ì—°ë™ 

#### ğŸ“œUtil

```c#
    public static T GetOrAddComponent<T>(GameObject go) where T : UnityEngine.Component
    {
        T component = go.GetComponent<T>();
		    if (component == null)
            component = go.AddComponent<T>();
        return component;
	}
```

- *GetOrAddComponent*
  - `go` ì˜¤ë¸Œì íŠ¸ì˜ `T` ì»´í¬ë„ŒíŠ¸ë¥¼ *GetComponent* ê°€ì ¸ì˜¨ë‹¤. `T` ì»´í¬ë„ŒíŠ¸ê°€ ì—†ë‹¤ë©´ *AddComponent* ë¶™ì—¬ì¤€ í›„ ê°€ì ¸ì˜¨ë‹¤. 
  - `T`ì—ëŠ” ì»´í¬ë„ŒíŠ¸ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤. ì˜¤ë¸Œì íŠ¸ëŠ” ì˜¬ ìˆ˜ ì—†ë‹¤. `where T : UnityEngine.Component`
    - Object - Component - Behaviour - MonoBehaviour


<br>


#### ğŸ“œUI_EventHandler

```c#
public class UI_EventHandler : MonoBehaviour, IPointerClickHandler, IDragHandler
{
    public Action<PointerEventData> OnClickHandler = null;
    public Action<PointerEventData> OnDragHandler = null;

	public void OnPointerClick(PointerEventData eventData) // í´ë¦­ ì´ë²¤íŠ¸ ì˜¤ë²„ë¼ì´ë”©
	{
		if (OnClickHandler != null)
			  OnClickHandler.Invoke(eventData); // í´ë¦­ì™€ ê´€ë ¨ëœ ì•¡ì…˜ ì‹¤í–‰
	}

	public void OnDrag(PointerEventData eventData) // ë“œë˜ê·¸ ì´ë²¤íŠ¸ ì˜¤ë²„ë¼ì´ë”©
    {
		if (OnDragHandler != null)
        OnDragHandler.Invoke(eventData); // ë“œë˜ê·¸ì™€ ê´€ë ¨ëœ ì•¡ì…˜ ì‹¤í–‰
	}
}
```

> `IPointerClickHandler`, `IDragHandler` ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì† ë°›ì•„ ì˜¤ë²„ë¼ì´ë”© í•˜ë©´, <u>í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ìë™ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.</u>

- ì´ë²¤íŠ¸ í•¨ìˆ˜ 
  - ì½œë°± í•¨ìˆ˜ë¡œ, ìœ ë‹ˆí‹° ìƒì—ì„œ í•´ë‹¹ ì´ë²¤íŠ¸ ë°œìƒì‹œ ë©”ì„¸ì§€ë¥¼ ì«™ ë¿Œë¦°ë‹¤. 
  - `PointerEventData eventData`ì— ì˜¨ê°– í•´ë‹¹ ì´ë²¤íŠ¸ì™€ ê´€ë ¨ ì •ë³´ê°€ ìë™ìœ¼ë¡œ ë‹´ê¸´ë‹¤. (ë§ˆìš°ìŠ¤ë¼ë©´ ë§ˆìš°ìŠ¤ì˜ ìœ„ì¹˜ ì¢Œí‘œë¼ë˜ê°€..)
- *IPointerClickHandler*
  - ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
  - `OnClickHandler` ì•¡ì…˜ì— ë“±ë¡ëœ í•¨ìˆ˜ë“¤ì´ ëª¨ë‘ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.
    - Actionì€ ë¯¸ë¦¬ C# ë‚´ì—ì„œ ì„ ì–¸ì´ ë˜ì–´ ìˆëŠ” ë¸ë¦¬ì¼€ì´íŠ¸ë¡œ, <u>ë¦¬í„´ íƒ€ì…</u>ì´ ì—†ëŠ” í•¨ìˆ˜ë§Œì„ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ì œë„¤ë¦­ ë¸ë¦¬ê²Œì´íŠ¸ì´ë‹¤.
    - `PointerEventData` íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë°›ëŠ” í•¨ìˆ˜ë“¤ë§Œ ì•¡ì…˜ì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤. 
- *OnDrag*
  - ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
  - `OnDragHandler` ì•¡ì…˜ì— ë“±ë¡ëœ í•¨ìˆ˜ë“¤ì´ ëª¨ë‘ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.

ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì€ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì´ ì´ë²¤íŠ¸ë¥¼ í•„ìš”í•œ ì˜¤ë¸Œì íŠ¸ì— ë¶™ì—¬ì£¼ëŠ” ì‘ì—… ë˜í•œ ë°‘ì—ì„œ í•  ê²ƒì´ë‹¤. ìœ ë‹ˆí‹° íˆ´ì—ì„œ í•˜ì§€ ì•Šê³  ì½”ë“œë¡œ í•œë‹¤! 


<br>

#### ğŸ“œDefine

```c#
public class Define
{
    public enum UIEvent
    {
        Click,
        Drag,
    }

    public enum MouseEvent
    {
        Press,
        Click,
    }

    public enum CameraMode
    {
        QuarterView,
    }
}
```

ì´ë²¤íŠ¸ë„ ì¢…ë¥˜ë³„ë¡œ Enum ìœ¼ë¡œ ë¬¶ì–´ ğŸ“œDefine ì— ì •ë¦¬í•˜ì˜€ë‹¤.

<br>

#### ğŸ“œUI_Base

```c#
	public static void BindEvent(GameObject go, Action<PointerEventData> action, Define.UIEvent type = Define.UIEvent.Click)
	{
		UI_EventHandler evt = Util.GetOrAddComponent<UI_EventHandler>(go);

		switch (type)
		{
			case Define.UIEvent.Click:
				evt.OnClickHandler -= action; // í˜¹ì‹œë‚˜ ì´ë¯¸ ìˆì„ê¹Œë´ ë¹¼ì¤Œ
				evt.OnClickHandler += action;
				break;
			case Define.UIEvent.Drag:
				evt.OnDragHandler -= action; // í˜¹ì‹œë‚˜ ì´ë¯¸ ìˆì„ê¹Œë´ ë¹¼ì¤Œ
				evt.OnDragHandler += action;
				break;
		}
	}
```

- *BindEvent* ê°€ í•˜ëŠ” ì¼
  - `go` ì˜¤ë¸Œì íŠ¸ì— ğŸ“œUI_EventHandlerë¥¼ ë¶™ì—¬ `go` ì˜¤ë¸Œì íŠ¸ê°€ ì´ë²¤íŠ¸ ì½œë°±ì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•œë‹¤. 
  - ğŸ“œUI_EventHandler ì— ì •ì˜ë˜ì–´ ìˆëŠ” ì´ë²¤íŠ¸ë“¤ì´ ë°œìƒí•˜ë©´ `action` ì•¡ì…˜ì— ë“±ë¡ëœ ê²ƒë“¤ì´ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤. ğŸ‘‰ ğŸ“œUI_EventHandlerì˜ ì•¡ì…˜ ë©¤ë²„ `OnClickHandler`, `OnDragHandler`
    - ëŒë‹¤ í•¨ìˆ˜ë‚˜ í•¨ìˆ˜ ì´ë¦„, ì¦‰ í•¨ìˆ˜ í¬ì¸í„°ê°€ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì§€ê³  ì´ë¥¼ ë§¤ê°œë³€ìˆ˜ `action`ì—ì„œ ë°›ëŠ”ë‹¤.
  - ğŸ“œDefineì— ì •ì˜ëœ ì´ë²¤íŠ¸ ì¢…ë¥˜ë³„ enum ë„ ê°™ì´ ë„˜ê²¨ì„œ ì–´ë–¤ ì•¡ì…˜ì— ë“±ë¡í•  ê²ƒì¸ì§€ë¥¼ ë°›ëŠ”ë‹¤.
    - `Define.UIEvent.Click` í´ë¦­ ì´ë²¤íŠ¸ë¼ë©´ `OnClickHandler`ì— `action`ì´ ë“±ë¡ëœë‹¤. ì´ì œ `go`ì— ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ `OnClickHandler`ì— ë“±ë¡ëœ ì•¡ì…˜ì´ ì‹¤í–‰ëœë‹¤.

1. ì•¡ì…˜ì— ì•¡ì…˜ì„ ë”í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.
2. ë§Œì•½ ì´ë²¤íŠ¸ì— í•´ë‹¹ í•¨ìˆ˜ê°€ ì—†ëŠ”ë°ë„ ë¹¼ë ¤í•˜ëŠ”ê±´ ì—ëŸ¬ ì•ˆë‚œë‹¤. ê·¸ëƒ¥ ë¬´ì‹œë  ë¿!



<br>


#### ğŸ“œExtension (C# ë¬¸ë²• ì¤‘ í•˜ë‚˜ì¸ í™•ì¥ë©”ì„œë“œ)

> íŠ¹ìˆ˜í•œ ì¢…ë¥˜ì˜ `static` ë©”ì„œë“œì¸ë°, ë§ˆì¹˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì¸ ê²ƒ ì²˜ëŸ¼ í˜¸ì¶œí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- í™•ì¥ ë©”ì„œë“œëŠ” `static` í´ë˜ìŠ¤ ì•ˆì— `static` ë©”ì„œë“œë¡œ ì •ì˜í•œë‹¤.
- í™•ì¥ ë©”ì„œë“œì˜ ì²« ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ê°€ ë°”ë¡œ ê·¸ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì¸ ê²ƒì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê·¸ í˜¸ì¶œì˜ ì£¼ì²´ë¡œ ì •ì˜í•œë‹¤. 
  - ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ ì•ì— `this`ë¥¼ ì¨ì¤€ë‹¤. 

```c#
public static class Extension
{
  // í™•ì¥ ë©”ì„œë“œ
	public static T GetOrAddComponent<T>(this GameObject go) where T : UnityEngine.Component 
	{
		return Util.GetOrAddComponent<T>(go);
	}

  // í™•ì¥ë©”ì„œë“œ
	public static void BindEvent(this GameObject go, Action<PointerEventData> action, Define.UIEvent type = Define.UIEvent.Click) 
	{
		UI_Base.BindEvent(go, action, type);
	}
}
```

- Extension í´ë˜ìŠ¤ê°€ `"staic" class Extension`ì¸ ê²ƒê³¼ í•¨ìˆ˜ë“¤ì´ `static`ì¸ ê²ƒì— ì£¼ëª©! ğŸ‘‰ í™•ì¥ ë©”ì„œë“œ
  - í´ë˜ìŠ¤ëŠ” Monobehavior ìƒì† X 
- *GetOrAddComponent* 
  - ë§¤ê°œ ë³€ìˆ˜ê°€ ì—†ëŠ” í•¨ìˆ˜ë‹¤! 
  - `GameObject` íŒŒë¼ë¯¸í„°ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ë§ˆì¹˜ `GameObject`ì˜ ë©”ì„œë“œì¸ ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë¨.
    - `this GameObject go`
- *GetOrAddComponent* 
  - ë§¤ê°œ ë³€ìˆ˜ê°€ action, Define 2 ê°œì¸ í•¨ìˆ˜ë‹¤!
  - `GameObject` íŒŒë¼ë¯¸í„°ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ë§ˆì¹˜ `GameObject`ì˜ ë©”ì„œë“œì¸ ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë¨.
    - `this GameObject go`

```c#
GetButton((int)Buttons.PointButton).gameObject.BindEvent(OnButtonClicked);
```

ë°”ë¡œ *GetButton* í•¨ìˆ˜ë¡œ ë¶€í„° ë¦¬í„´ë°›ì€ ë²„íŠ¼ ì˜¤ë¸Œì íŠ¸ì—ì„œ ë°”~~~ë¡œ `BindEvent(OnButtonClicked)` ì´ë ‡ê²Œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ë§ˆì¹˜ GameObject ì— ì›ë˜ ìˆë˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ëœ ê²ƒì´ë‹¤. 


<br>


#### ğŸ“œUI_Button

```c#
    private void Start()
    {
        Init();
    }

    public override void Init()
    {
        base.Init(); // ğŸ“œUI_Button ì˜ ë¶€ëª¨ì¸ ğŸ“œUI_PopUp ì˜ Init() í˜¸ì¶œ

		    Bind<Button>(typeof(Buttons)); // ë²„íŠ¼ ì˜¤ë¸Œì íŠ¸ë“¤ ê°€ì ¸ì™€ dictionaryì¸ _objectsì— ë°”ì¸ë”©. 
		    Bind<Text>(typeof(Texts));  // í…ìŠ¤íŠ¸ ì˜¤ë¸Œì íŠ¸ë“¤ ê°€ì ¸ì™€ dictionaryì¸ _objectsì— ë°”ì¸ë”©. 
		    Bind<GameObject>(typeof(GameObjects));  // ë¹ˆ ì˜¤ë¸Œì íŠ¸ë“¤ ê°€ì ¸ì™€ dictionaryì¸ _objectsì— ë°”ì¸ë”©. 
		    Bind<Image>(typeof(Images));  // ì´ë¯¸ì§€ ì˜¤ë¸Œì íŠ¸ë“¤ ê°€ì ¸ì™€ dictionaryì¸ _objectsì— ë°”ì¸ë”©. 

        // (í™•ì¥ ë©”ì„œë“œ) ë²„íŠ¼(go)ì— ğŸ“œUI_EventHandlerë¥¼ ë¶™ì´ê³  ì•¡ì…˜ì— OnButtonClicked í•¨ìˆ˜ë¥¼ OnClickHandler (ë””í´íŠ¸)ë“±ë¡í•œë‹¤.
		    GetButton((int)Buttons.PointButton).gameObject.BindEvent(OnButtonClicked); 

        // ì´ë¯¸ì§€(go)ì— ğŸ“œUI_EventHandlerë¥¼ ë¶™ì´ê³  íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ ëŒë‹¤ í•¨ìˆ˜ë¥¼ OnDragHandler ì•¡ì…˜ì— ë“±ë¡í•œë‹¤.
		    GameObject go = GetImage((int)Images.ItemIcon).gameObject;
		    BindEvent(go, (PointerEventData data) => { go.transform.position = data.position; }, Define.UIEvent.Drag);
	  }

    int _score = 0;
 
    public void OnButtonClicked(PointerEventData data)
    {
        _score++;
        GetText((int)Texts.ScoreText).text = $"ì ìˆ˜ : {_score}";
    }

```

- ì£¼ì„ë“¤ ì°¸ê³ 
- <u>Recttransformë„ Trasnformì„ ìƒì†ë°›ëŠ”ë‹¤.</u> 
  - ê·¸ë˜ì„œ UI ì˜¤ë¸Œì íŠ¸ë“¤ë„ `go.transform`ì„ í†µí•´ Recttransformë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
- *OnButtonClicked*
  - PointerEventData data ë¥¼ ì“°ì§„ ì•Šì„ê±°ë¼ë„, ë§¤ê°œ ë³€ìˆ˜ë¡œ ì„¤ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤. ì™œëƒë©´ `OnClickHandler` ì•¡ì…˜ì— ë“±ë¡í• ê±´ë° ì´ ì•¡ì…˜ì€ PointerEventData data ë§¤ê°œ ë³€ìˆ˜ë¥¼ ê°–ê³  ìˆëŠ” í•¨ìˆ˜ë§Œ ë“±ë¡í•  ìˆ˜ ìˆê¸° ë–„ë¬¸.

        
***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}