---
title:  "Chapter 11-2. í¬ì…˜ ì œì¡° : í¬ì…˜ ì œì‘ UI ë§Œë“¤ê¸° (+ í”„ë¦¬íŒ¹ ì£¼ì˜ì‚¬í•­)" 

categories:
  -  Unity Lesson 3 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-12-11
last_modified_at: 2020-12-11
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì¼€ì´ë””ë‹˜ì˜ **[ìœ ë‹ˆí‹° 3D] ì‹¤ì „! ìƒì¡´ê²Œì„ ë§Œë“¤ê¸° - Advanced** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/unity-2#)
{: .notice--warning}


# í¬ì…˜ ì œì¡° : í¬ì…˜ ì œì‘ UI ë§Œë“¤ê¸°

## ğŸš€ ì—°ê¸ˆ í…Œì´ë¸”

![image](https://user-images.githubusercontent.com/42318591/101981272-f659fa00-3cae-11eb-93ff-f62ffeda057d.png)

- íƒœê·¸ "ArchemyTable"
- ë ˆì´ì–´ "Building"
- Box Collider 3ê°œ 
  - í¬ì…˜ì´ ìƒì„±ë˜ëŠ” ì•„ë˜ìª½ ê²€ì€ êµ¬ë© ë¹¼ê³  ë‹¤ Colliderë¡œ ê°ì‹¸ì£¼ì—ˆë‹¤.
  - ì´ ê³³ì—ì„œ í¬ì…˜ì´ ìƒì„±ë˜ì–´ ë¹ ì ¸ë‚˜ì˜¤ê²Œ í• ê±°ë¼ ë‹¤ë¥¸ ê³³ë“¤ì€ Colliderë¡œ ë§‰ì•„ì¤€ ê²ƒ!
- ğŸ“œArchemyTable ë¶™ì„
  - ë°‘ì— í›„ìˆ 
- ìì‹ ì˜¤ë¸Œì íŠ¸ë¡œ í¬ì…˜ ë‚˜ì˜¤ëŠ” êµ¬ë©ìª½ì— ë¹ˆ ì˜¤ë¸Œì íŠ¸ `Potion Appear Pos`ë¥¼ ë‘ì—ˆë‹¤.
  - í¬ì…˜ ë‚˜ì˜¬ ìœ„ì¹˜ íŠ¸ëœìŠ¤í¼

ê·¸ë¦¬ê³  ì´ë¥¼ í”„ë¦¬íŒ¹ìœ¼ë¡œ ë§Œë“ ë‹¤.

<br>

## ğŸš€ í¬ì…˜ ì œì¡° UI ë§Œë“¤ê¸°

![image](https://user-images.githubusercontent.com/42318591/101982137-2e643b80-3cb5-11eb-8be6-75af2da20121.png)

![image](https://user-images.githubusercontent.com/42318591/101982145-39b76700-3cb5-11eb-8eeb-14b6a6158ecf.png)

- ì—°ê¸ˆ í…Œì´ë¸”ì— ë‹¤ê°€ê°€ë©´ ì•¡ì…˜í…ìŠ¤íŠ¸ê°€ ëœ¨ê³  `E`í‚¤ë¥¼ ëˆ„ë¥´ë©´ ì´ë ‡ê²Œ í¬ì…˜ ì œì¡° UI ê°€ ëœ¨ê²Œ í•  ê²ƒì´ë‹¤.
  - ğŸ“œActionController í•„ìš”
- Create ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ í¬ì…˜ì´ ìƒì„±ë˜ì–´ ë‚˜ì˜¤ê²Œ í•  ê²ƒì´ë‹¤.
  - í¬ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ì´ ë²„íŠ¼ ì´ë²¤íŠ¸ë¡œ ì—°ê²°ì‹œì¼œì¤„ ê²ƒ

<br>

## ğŸš€ í¬ì…˜ ì•„ì´í…œ

![image](https://user-images.githubusercontent.com/42318591/101982293-31136080-3cb6-11eb-8c57-f5a9fd4ce129.png)

ìš”ë¡œì½”ë¡¬ í¬ì…˜ 3 ê°œ ì•„ì´í…œ í”„ë¦¬íŒ¹ì„ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤. 

- Box Collider
- Rigidbody
- ğŸ“œItemPickUp
- íƒœê·¸ì™€ ë ˆì´ì–´ ëª¨ë‘ "Item"

ê·¸ë¦¬ê³  `Item` ì—ì…‹ë„ 3 ê°œ ê°ê° ë§Œë“¤ì–´ì£¼ì–´ ğŸ“œItemPickUp ì˜ `Item`ì— í• ë‹¹

<br>

## ğŸš€ í¬ì…˜ ìƒì„±í•˜ê¸°

### ğŸ“œGameManager

```c#
    public static bool isOpenArchemyTable = false; // ì—°ê¸ˆí…Œì´ë¸” ì°½ í™œì„±í™”

    void Update()
    {
        if (isOpenInventory || isOpenCraftManual || isOnComputer || isOpenArchemyTable)
        {
            Cursor.lockState = CursorLockMode.None;
            Cursor.visible = true;

            canPlayerMove = false;
        }
        else
        {
            Cursor.lockState = CursorLockMode.Locked;
            Cursor.visible = false;

            canPlayerMove = true;
        }
            
    }
```

ì™¸ë¶€ ì»´í¬ë„ŒíŠ¸ì¸ ğŸ“œArchemyTable ì—ì„œ `isOpenArchemyTable`ë¥¼ True ë¡œ ë°”ê¿” ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ í™œì„±í™” í•˜ê³  í”Œë ˆì´ì–´ì˜ ì›€ì§ì„ì„ ì œí•œí•  ê²ƒì´ê³ , Falseë¡œ ë°”ê¿” ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ë¹„í™œì„±í™” í•˜ê³  í”Œë ˆì´ì–´ì˜ ì›€ì§ì„ì„ í™œì„±í™”í•  ê²ƒì´ë‹¤.

<br>

### ğŸ“œArchemyTable

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[System.Serializable]
public class ArchemyItem
{
    public string itemName;
    public string itemDescription;
    public Sprite itemImage;

    public GameObject go_ItemPrefab; // ì‹¤ì œ ìƒì„±ë  í¬ì…˜
}

public class ArchemyTable : MonoBehaviour
{
    private bool isOpen = false;

    [SerializeField] private ArchemyItem[] archemyItems;  // ì œì‘í•  ìˆ˜ ìˆëŠ” ì—°ê¸ˆ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸
    [SerializeField] private Transform tf_BaseUI; // ì—°ê¸ˆ ì•„ì´í…œ ë² ì´ìŠ¤ UI
    [SerializeField] private Transform tf_PotionAppearPos; // í¬ì…˜ì´ ìƒì„±ë  ìœ„ì¹˜
```

- ì—°ê¸ˆ í…Œì´ë¸”ì—ì„œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í¬ì…˜ ì•„ì´í…œë“¤ì´ ê°€ì§€ëŠ” ì†ì„± ë¬¶ìŒ ğŸ‘‰ `ArchemyItem`
  - ì´ë¦„, ì„¤ëª…, ì´ë¯¸ì§€, ì‹¤ì œ ìƒì„±ë  í¬ì…˜ í”„ë¦¬íŒ¹
    - ì´ë ‡ê²Œ 4 ê°€ì§€ ì†ì„±ì„ ê°€ì§€ëŠ” ì•„ì´í…œì´ì—¬ì•¼ í•œë‹¤.
  - ì´ íƒ€ì…ì˜ ë°°ì—´ì„ ë§Œë“ ë‹¤. ì¦‰, ì´ ì—°ê¸ˆí…Œì´ë¸”ì´ ë§Œë“¤ ìˆ˜ ìˆëŠ” í¬ì…˜ ì•„ì´í…œë“¤ `ArchemyItem[] archemyItems`
- `isOpen` 
  - ì—°ê¸ˆ í…Œì´ë¸” (í¬ì…˜ ì œì¡°) UIë¥¼ í‚¤ë©´ true, ë‹«ìœ¼ë©´ false
  

```c#
    void Update()
    {
        if (isOpen)
            if (Input.GetKeyDown(KeyCode.Escape))
                CloseWindow();
    }

    public void Window()
    {
        isOpen = !isOpen;
        if (isOpen)
            OpenWindow();
        else
            CloseWindow();
    }

    private void OpenWindow()
    {
        isOpen = true;
        GameManager.isOpenArchemyTable = true;
        tf_BaseUI.localScale = new Vector3(1f, 1f, 1f);
    }

    private void CloseWindow()
    {
        isOpen = false;
        GameManager.isOpenArchemyTable = false;
        tf_BaseUI.localScale = new Vector3(0f, 0f, 0f); // ê¼¼ìˆ˜ â­ ì°½ ë¹„í™œì„±í™” í•˜ë©´ ì•ˆë¨. ì•„ì§ í¬ì…˜ ì œì¡°ì¤‘ì¼ ìˆ˜ ìˆì–´ì„œ í¬ê¸°ë§Œ ì¤„ì—¬ ë‘ 
    }

    public void Buttonclick(int _buttonNum)
    {
        ProductionComplete(_buttonNum);
    }

    private void ProductionComplete(int _buttonNum)
    {
        Instantiate(archemyItems[_buttonNum].go_ItemPrefab, tf_PotionAppearPos.position, Quaternion.identity);
    }
}

```

- *OpenWindow*
  - `tf_BaseUI.localScale = new Vector3(1f, 1f, 1f);`
- *CloseWindow*
  - `tf_BaseUI.localScale = new Vector3(0f, 0f, 0f);`

í¬ì…˜ ì œì¡° UI ë¥¼ í™œì„±í™”/ë¹„í™œì„±í™” í•˜ì§€ ì•Šê³  ì´ë ‡ê²Œ ê¼¼ìˆ˜ë¥¼ ì¨ì„œ í¬ì…˜ ì œì¡° UI ë¥¼ ì—´ ë• `localSacle` í¬ê¸°ë¥¼ ì›ë˜ëŒ€ë¡œ (1, 1, 1)ë¡œ í•œë‹¤. ë°˜ëŒ€ë¡œ í¬ì…˜ ì œì¡° UIë¥¼ ë‹«ì„ ë• ì•ˆë³´ì´ë„ë¡ `localSacle` í¬ê¸°ë¥¼ (0, 0, 0)ìœ¼ë¡œ í•œë‹¤. ì´ë ‡ê²Œ í•˜ëŠ” ì´ìœ ëŠ” í¬ì…˜ ì œì¡° UI ë¥¼ **ì•„ì˜ˆ SetActive(false) í•˜ì—¬ ë¹„í™œì„±í™” í•´ë²„ë¦¬ë©´ í˜„ì¬ ì œì‘ì´ ì§„í–‰ì¤‘ì¸ í¬ì…˜ì˜ ì œì‘ë„ ì´ˆê¸°í™” ë˜ì–´ë²„ë¦¬ê¸° ë•Œë¬¸ì´ë‹¤.** í¬ì…˜ ìƒì‚°ì„ í•œë²ˆ ì‹œì‘í•˜ë©´ í¬ì…˜ ì œì¡° UI ê°€ ë‹«íˆë”ë¼ë„ ì§„í–‰ë˜ê²Œ í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ëˆˆì†ì„ í•´ì¤€ ê²ƒì´ë‹¤.

- *Buttonclick*
  - í¬ì…˜ ì œì¡° UI ì˜ CREATE ë²„íŠ¼ ì´ë²¤íŠ¸ì— ë“±ë¡í•  í•¨ìˆ˜
  - *ProductionComplete* í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ í¬ì…˜ì„ ìƒì„±í•œë‹¤.
- *ProductionComplete*
  - í¬ì…˜ ì•„ì´í…œì„ ìƒì„±í•œë‹¤.

![image](https://user-images.githubusercontent.com/42318591/101982362-b9920100-3cb6-11eb-8176-1e9effe0e31d.png)

ìš°ì„  í¬ì…˜ ì•„ì´í…œ 1 ê°œë§Œ ë§Œë“¤ì–´ë‘ì—ˆë‹¤. 

- `tf_BaseUI`ì—ëŠ” ì¼œê³  ë‹«ì„ í¬ì…˜ ì œì¡° UI ì´ë¯¸ì§€ 
- `tf_PotionAppearPos`ì—ëŠ” í¬ì…˜ ìƒì„±ë  ìœ„ì¹˜ë¡œ ì“°ê¸° ìœ„í•´ ë§Œë“¤ì–´ë’€ë˜ ë¹ˆ ì˜¤ë¸Œì íŠ¸ `Potion Appear Pos` ì˜¤ë¸Œì íŠ¸ í• ë‹¹

![image](https://user-images.githubusercontent.com/42318591/101982478-856b1000-3cb7-11eb-9256-6b6c30fcaad0.png)

ì²«ë²ˆì§¸ ìŠ¬ë¡¯ì˜ ë²„íŠ¼ ì´ë²¤íŠ¸ì— *Buttonclick(0)* ë¥¼ í˜¸ì¶œí•˜ì˜€ë‹¤. ì¦‰ ì²«ë²ˆì§¸ CREATE ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìœ„ì˜ `archemyItmes` ë°°ì—´ì˜ 0 ì¸ë±ìŠ¤ ì›ì†Œì¸ ë¹¨ê°„ í¬ì…˜ì´ ìƒì„±ë  ê²ƒì´ë‹¤.

### í”„ë¦¬íŒ¹í™”ì‹œ ì£¼ì˜ì‚¬í•­

ì—°ê¸ˆ í…Œì´ë¸” í”„ë¦¬íŒ¹ì˜ ğŸ“œArchemyTable ì˜ `tf_BaseUI`ì™€ `tf_PotionAppearPos`ì— Hierarchy ìƒì— ì¡´ì¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ í• ë‹¹í•´ì£¼ì—ˆë‹¤. ì´ë¯¸ Hierarchy ìƒì— ì¡´ì¬í•˜ëŠ” ì—°ê¸ˆ í…Œì´ë¸” ì˜¤ë¸Œì íŠ¸ì˜ ê²½ìš°ì—” ë¬¸ì œê°€ ì—†ì§€ë§Œ ê²Œì„ ì¤‘ ì‹¤ì‹œê°„ìœ¼ë¡œ í”„ë¦¬íŒ¹ì„ í†µí•´ ì˜¤ë¸Œì íŠ¸ë¥¼ ì°ì–´ë‚´ëŠ” ê²½ìš°ì—” `tf_BaseUI`ì™€ `tf_PotionAppearPos`ì— ì•„ë¬´ê²ƒë„ í• ë‹¹ë˜ì–´ ìˆì§€ ì•Šê³  None ìƒíƒœì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.(ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ ìœ„í—˜í•¨) ì´ ì´ìœ ëŠ” <u>í”„ë¦¬íŒ¹ì€ ë¡œì»¬ í´ë”ì— ìë¦¬ì¡ëŠ” ì™¸ë¶€ ì—ì…‹ì´ê¸° ë•Œë¬¸ì— Hierarchy ìƒì— ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì—ê²Œ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.</u> í• ë‹¹í•´ì£¼ë”ë¼ë„ ê²Œì„ì´ ì‹œì‘ë˜ë©´ í”„ë¦¬íŒ¹ì˜ `tf_BaseUI`ì™€ `tf_PotionAppearPos`ì€ None ì´ ë˜ë²„ë¦´ ê²ƒì´ë‹¤. 

- í•´ê²° ë°©ë²•
  - 1ï¸âƒ£ í• ë‹¹í•  ì˜¤ë¸Œì íŠ¸ë¥¼ ê·¸ëƒ¥ í”„ë¦¬íŒ¹ì— ì†í•œ ìì‹ìœ¼ë¡œ ë„£ì–´ ê°™ì´ í”„ë¦¬íŒ¹í™” ì‹œì¼œë²„ë¦°ë‹¤. 
  - 2ï¸âƒ£ *Start*, *Awake* ì—ì„œ *FindObjectOfType* í•¨ìˆ˜ë¥¼ í†µí•´ ì§ì ‘ ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ í• ë‹¹í•´ì¤€ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/101982374-d1698500-3cb6-11eb-9721-f368411fff12.png)

ì²« ë²ˆì§¸ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ `Canvas`ë¥¼ ì—°ê¸ˆ í…Œì´ë¸” í”„ë¦¬íŒ¹ì˜ ìì‹ìœ¼ë¡œ í•˜ë‚˜ ë§Œë“¤ì–´ì£¼ê³  ê·¸ ê³³ì— í¬ì…˜ ì œì¡° UI ë“¤ì„ ë„£ì–´ì£¼ì—ˆë‹¤. ì¦‰ í¬ì…˜ ì œì¡° UI ë“¤ì„ ì—°ê¸ˆ í…Œì´ë¸” í”„ë¦¬íŒ¹ì˜ ì¼ë¶€ë¡œì„œ ê°™ì´ í”„ë¦¬íŒ¹í™” ì‹œì¼œë²„ë ¤ì„œ í•´ê²°í–ˆë‹¤.

**ë˜ ì´ë ‡ê²Œ í•´ì„œ ì¢‹ì€ ì ì€.. ì—¬ëŸ¬ ì—°ê¸ˆí…Œì´ë¸”ë“¤ì´ í•˜ë‚˜ì˜ í¬ì…˜ ì œì¡° UI ë¥¼ ê³µìœ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.** ì´ë ‡ê²Œ í•˜ê¸° ì´ì „ì— í¬ì…˜ ì œì¡° UI ëŠ” Hierarchy ìƒì—ì„œ í•˜ë‚˜ì˜€ê¸° ë•Œë¬¸ì— ì—°ê¸ˆ í…Œì´ë¸” ì—¬ëŸ¬ê°œë¥¼ ì°ì–´ë‚¸ë‹¤ë©´ ì´ í¬ì…˜ ì œì¡° UI í•˜ë‚˜ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ìƒê²¼ì„ ê²ƒì´ë‹¤. UI ìƒì—ì„  A í…Œì´ë¸”ì—ì„œ a í¬ì…˜ ë§Œë“œëŠ”ë° B í…Œì´ë¸”ì—ì„œë„ a í¬ì…˜ ë§Œë“œëŠ” ì¤‘ì¸ ì…ˆì´ ë˜ì—ˆì„ ê²ƒ.. ë”°ë¼ì„œ ì´ë ‡ê²Œ UI ê¹Œì§€ë„ í”„ë¦¬íŒ¹í™”í•˜ì—¬ ë‚˜ì¤‘ì— Hierarchy ì— ì‹¤ì¡´í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¡œ ì°ì–´ë‚¼ ë•Œ ê°ê° ì—°ê¸ˆ í…Œì´ë¸”ì— ì¢…ì†ëœ UI ë“¤ì´ ìƒê¸°ê²Œ ë  ê²ƒì´ë‹¤. í…Œì´ë¸”ë§ˆë‹¤ ë”°ë¡œë”°ë¡œ í¬ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ ëœë‹¤.

<br>

### ğŸ“œActionController

```c#
    private void TryAction()
    {
        if(Input.GetKeyDown(KeyCode.E))
        {
            CheckAction();
            CanPickUp();
            CanMeat();
            CanDropFire();
            CanComputerPowerOn();
            CanArchemyTableOpen();
        }
    }

    private void CheckAction()
    {
        if (Physics.Raycast(transform.position, transform.forward, out hitInfo, range, layerMask))
        {
            if (hitInfo.transform.tag == "Item")
                ItemInfoAppear();
            else if (hitInfo.transform.tag == "Weak_Animal")
                MeatInfoAppear();
            else if (hitInfo.transform.tag == "Fire")
                FireInfoAppear();
            else if (hitInfo.transform.tag == "Computer")
                ComputerInfoAppear();
            else if (hitInfo.transform.tag == "ArchemyTable")
                ArchemyInfoAppear();
            else
                InfoDisappear();
        }
        else
            InfoDisappear();
    }

    private void ArchemyInfoAppear()
    {
        Reset();
        lookArchemyTable = true;
        actionText.gameObject.SetActive(true);
        actionText.text = "ì—°ê¸ˆ í…Œì´ë¸” ì¡°ì‘ " + "<color=yellow>" + "(E)" + "</color>";
    }

    private void CanArchemyTableOpen()
    {
        if (lookArchemyTable)
        {
            if (hitInfo.transform != null)
            {
                hitInfo.transform.GetComponent<ArchemyTable>().Window();
                InfoDisappear();
            }
        }
    }
```

![image](https://user-images.githubusercontent.com/42318591/101982380-e8a87280-3cb6-11eb-8d45-d8d9a64288a2.png)

ì—°ê¸ˆ í…Œì´ë¸” ë˜í•œ í”Œë ˆì´ì–´ê°€ ê°€ê¹Œì´ ê°€ì„œ ì³ë‹¤ë³´ë©´ ì•¡ì…˜ í…ìŠ¤íŠ¸ë¥¼ ë„ìš°ê³  `E`í‚¤ë¥¼ ëˆ„ë¥´ë©´ í¬ì…˜ ì œì¡° UI ê°€ ëœ° ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆë‹¤. ì—°ê¸ˆ í…Œì´ë¸”ì˜ ë ˆì´ì–´ëŠ” "Building"ì´ê¸° ë•Œë¬¸ì— ë©”ì¸ ì¹´ë©”ë¼ê°€ Raycast ì¶©ëŒ ì¸ì‹ì„ í•  ìˆ˜ ìˆë„ë¡ `layerMask`ì—ì„œ "Building"ë„ ì¶”ê°€í•´ì¤€ë‹¤. 

<br>

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}