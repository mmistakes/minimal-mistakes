---
title:  "Chapter 3-3. íŒŒê´´ ê°€ëŠ¥í•œ í™˜ê²½ë“¤ : ë‚˜ë­‡ ê°€ì§€ ë² ê¸°, í’€ ë² ê¸°" 

categories:
  -  Unity Lesson 3 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-09-30
last_modified_at: 2020-09-30
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì¼€ì´ë””ë‹˜ì˜ **[ìœ ë‹ˆí‹° 3D] ì‹¤ì „! ìƒì¡´ê²Œì„ ë§Œë“¤ê¸° - Advanced** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/unity-2#)
{: .notice--warning}


# Chapter 3. íŒŒê´´ ê°€ëŠ¥í•œ í™˜ê²½ë“¤


<br>

# ë‚˜ë­‡ê°€ì§€ ë² ê¸°

## ğŸš– ë‚˜ë­‡ ê°€ì§€ ì˜¤ë¸Œì íŠ¸

ë¹ˆ ì˜¤ë¸Œì íŠ¸ `Branch`ë¥¼ ë§Œë“¤ê³  Transform ìœ„ì¹˜ íšŒì „ ê°’ì€ ë¶€ëª¨ì¸ ì–˜ê°€ ë‹´ë‹¹í•˜ê²Œ í•œë‹¤. 

![image](https://user-images.githubusercontent.com/42318591/94637458-9213d500-0312-11eb-812f-44b2ba006ebf.png)

`branch` ë‚˜ë­‡ê°€ì§€ 3 D ëª¨ë¸ì„ ì„í¬íŠ¸. 

- ë‚˜ë­‡ ê°€ì§€ê°€ ë§ì•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ Box Colliderë„ ë¶™ì—¬ ì¤€ë‹¤.
  - <u>Is Trigger</u>ì— ì²´í¬í•œë‹¤. ë‚˜ë­‡ê°€ì§€ë¥¼ ë•Œë¦´ ë•Œë‚˜ í”Œë ˆì´ì–´ê°€ ë‚˜ë­‡ê°€ì§€ë¥¼ ì§€ë‚˜ê°ˆ ë•Œ ê´€í†µí•  ìˆ˜ ìˆë„ë¡.
    - ë‹¤ë§Œ Rigidbodyê°€ ì—†ì–´ ì¤‘ë ¥ì— ì˜í•´ ë–¨ì–´ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤!
- Tag ë¡œ "Twig"ë¥¼ ë¶™ì—¬ì£¼ì—ˆë‹¤.
  - `Rock`ê³¼ ê°™ì´ ë•Œë¦°ê²Œ ë‚˜ë­‡ ê°€ì§€ë¼ë©´ ì²˜ë¦¬ë¥¼ ë‹¤ë¥´ê²Œ í•´ì£¼ì–´ì•¼ í•˜ë‹ˆê¹Œ

![image](https://user-images.githubusercontent.com/42318591/94637572-e3bc5f80-0312-11eb-9c80-cd0a7980ac92.png)


<br>

## ğŸš– ë‚˜ë­‡ê°€ì§€ ë•Œë¦´ë•Œ ìƒì„±í•  íŒŒí‹°í´ ì‹œìŠ¤í…œ 

ë‚˜ë­‡ê°€ì§€ë¥¼ í•œë²ˆ ì¹  ë•Œë§ˆë‹¤ ë‚˜ë­‡ ìë“¤ì´ íŠ€ëŠ” íŒŒí‹°í´ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ ë³´ì.

![image](https://user-images.githubusercontent.com/42318591/94634328-b8357700-030a-11eb-9e85-1cef73cac514.png)


> ì´ë¦„ì€ `Leaf_Hit_Effect`. ë‹¤ ë§Œë“  í›„ì—ëŠ” ë‚˜ë­‡ ê°€ì§€ë¥¼ ì¹  ë•Œë§Œ íŒŒí‹°í´ì´ ìƒì„±ë  ìˆ˜ ìˆë„ë¡ í”„ë¦¬íŒ¹í™” í•œë‹¤.

- Transform Scaleì€ (2, 2, 2) ë¡œ ë‘ë°° í‚¤ì›Œ ì¤Œ.
- ë©”ì¸ ëª¨ë“ˆ
  - Duration ì€ 5. 5ì´ˆ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ê²Œ.
  - Looping í•´ì œ
  - Play On Awake ëŠ” ì²´í¬. íŒŒí‹°í´ì´ ìƒì„± ë˜ìë§ˆì ë°”ë¡œ ì¬ìƒì„ ì‹œì‘í•  ìˆ˜ ìˆê²Œ. 
  - Gravity ëŠ” 0.05 ì•½ê°„ì˜ ì¤‘ë ¥ì„ ì£¼ì–´ ì²œì²œíˆ ë–¨ì–´ì§ˆ ìˆ˜ ìˆê²Œ í•˜ì˜€ë‹¤.
  - Start Speed ëŠ” 0.1 ë¡œ ì²œì²œíˆ
  - *Start Rotation* ì„ *Random Between Two Constants* ë¡œ í•˜ì—¬ íŒŒí‹°í´ì˜ ì…ìê°€ 90ë„ ~ 270ë„ ì‚¬ì´ì—ì„œ ëœë¤í•œ íšŒì „ê°’ì„ ê°€ì§€ê³  íƒœì–´ë‚˜ê²Œ í•œë‹¤.
- Emission 
  - Rate over Time ì€ 0
  - í•œë²ˆì— 20 ë°œ íŠ€ì–´ë‚˜ì˜¤ê²Œ Bursts ë¥¼ ìƒì„±í•˜ê³  Count ëŠ” 20.
- Shape
  - íŒŒí‹°í´ë“¤ì´ íƒœì–´ë‚˜ëŠ ê³³ ëª¨ì–‘ì„ Sphere ë¡œ
  - ë°˜ì§€ë¦„ 0.01, ë°˜ì§€ë¦„ ë‘ê»˜ 0 ìœ¼ë¡œ ìµœì†Œë¡œ í•´ì£¼ì—ˆë‹¤. í•œ ì ì—ì„œ 20 ê°œê°€ ë‹¤ê°™ì´ íƒœì–´ë‚˜ê²Œ.
- **Noise** ğŸ‘‰ íŒŒí‹°í´ ì›€ì§ì„ì— ì—­ë™ì„±ì„ ë”í•´ì£¼ëŠ” ëª¨ë“ˆì´ë‹¤.
  - *Strength* ë…¸ì´ì¦ˆ íš¨ê³¼ê°€ íŒŒí‹°í´ì— ì–¼ë§ˆë‚˜ ê°•í•˜ê²Œ ì ìš©ë˜ëŠ”ì§€. ë†’ê²Œ ì„¤ì •í•  ìˆ˜ë¡ íŒŒí‹°í´ì´ ë” ë¹ ë¥´ê³  ë©€ë¦¬ ì´ë™í•œë‹¤.
    - 0.1 ë¡œ ì„¤ì •
  - *Frequency* ë‚®ê²Œ ì„¤ì •í•˜ë©´ ë…¸ì´ì¦ˆê°€ ë¶€ë“œëŸ½ê³  ë§¤ë„ëŸ½ê²Œ ìƒì„±ë˜ê³ , ë†’ê²Œ ì„¤ì •í•˜ë©´ ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” ë…¸ì´ì¦ˆë¡œ ìƒì„±ëœë‹¤. ì–¼ë§ˆë‚˜ ê°‘ì‘ìŠ¤ëŸ½ê²Œ ë°”ë€ŒëŠ”ì§€ì˜ ì •ë„. ì´ë™ ë°©í–¥ì´ ë°”ë€ŒëŠ” ë¹ˆë„. ì™”ë‹¤ ê°”ë‹¤ ì›€ì§ì´ëŠ” ë¹ˆë„ ìˆ˜.
    - 0.5 ë¡œ ì„¤ì •
  - *Scroll Speed* ê°’ì´ ë†’ìœ¼ë©´ ë†’ì„ìˆ˜ë¡ ë¶ˆê·œì¹™í•˜ê³  í”ë“¤ë¦¬ë©´ì„œ ì›€ì§ì´ê²Œ ëœë‹¤. ë†’ìœ¼ë©´ ë†’ì„ ìˆ˜ë¡ ì…ìë“¤ì´ ë¶€ë“¤ë¶€ë“¤ ë–¨ë¦¼.
    - 1 ìœ¼ë¡œ ì„¤ì •
  - *Damping* í™œì„±í™” í•˜ë©´ ë…¸ì´ì¦ˆ ì„¸ê¸°ê°€ *Frequency* ì— ë¹„ë¡€í•˜ê²Œ ëœë‹¤.
    - ì²´í¬ í•´ì œí•œë‹¤. 
  - *Octaves* ëª‡ê°œì˜ ë…¸ì´ì¦ˆ ë ˆì´ì–´ë¥¼ ê²¹ì¹ ì§€ ì„¤ì •. ì´ ê°’ì´ ë†’ìœ¼ë©´ ë†’ì„ ìˆ˜ë¡ ë…¸ì´ì¦ˆ ë ˆì´ì–´ë¥¼ ë§ì´ ë‘ì–´ì„œ ë…¸ì´ì¦ˆ ëª¨ì–‘ì´ ë” í’ë¶€í•´ì§„ë‹¤ëŠ” ëœ»ì´ë‹¤. ë‹¤ë§Œ ì„±ëŠ¥ ì €í•˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.
    - 2 ë¡œ ì„¤ì •
  - *Remap* ì—°ì‚°ëœ ìµœì¢… ë…¸ì´ì¦ˆ ê°’ì„ ë‹¤ë¥¸ ë²”ìœ„ì— ë‹¤ì‹œ ë§µí•‘í•œë‹¤.
    - ì•„ë˜ ê·¸ë˜í”„ë¡œ *Remap Curve*ë¥¼ ì„¤ì •í–ˆë‹¤ë©´ ë…¸ì´ì¦ˆ ëª¨ì–‘ì€ ìœ„ë¡œ ê°”ë‹¤ê°€ ì•„ë˜ë¡œ ê°”ë‹¤ê°€ ë‹¤ì‹œ ìœ„ë¡œ ê°€ëŠ” í˜•íƒœë¡œ ë…¸ì´ì¦ˆê°€ ì‘ìš©í•  ê²ƒì´ë‹¤.
    ![image](https://user-images.githubusercontent.com/42318591/94633012-13656a80-0307-11eb-9b66-a8c4f8766277.png){: width="30%" height="30%"}{: .align-center}
- **Renderer** 
  - Renderer Mode ëŠ” **Mesh**ë¡œ ì„¤ì •
    - íŒŒí‹°í´ì„ í…ìŠ¤ì²˜ ëŒ€ì‹  3 D ë©”ì‹œë¡œ ë Œë”ë§ í•˜ê³  í•  ë•Œ.
    - ë‚˜ë­‡ì Mesh ë¡œ í•  ê±°ë¼ì„œ ì„ íƒ.
      - `Branch` ë‚˜ë­‡ì 3D ë©”ì‹œë¥¼ í• ë‹¹í•´ ì£¼ì—ˆë‹¤.
  - Material ì€ ì´ˆë¡ìƒ‰ Material ì„ í• ë‹¹í•´ì£¼ì—ˆë‹¤.
    - ë‚˜ë­‡ì íŒŒí‹°í´ íš¨ê³¼ì— ìƒ‰ì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ì…í˜€ ì¤Œ.

<br>

## ğŸš– ë‘ ë™ê°•ë‚œ ë‚˜ë­‡ ê°€ì§€ë¥¼ í‘œí˜„í•  ì‘ì€ ë‚˜ë­‡ ê°€ì§€

> ì´ë¦„ì€ `Little_Twig`. ë‚˜ë­‡ ê°€ì§€ 3 D ëª¨ë¸ì˜ Scale ì„ ì¤„ì—¬ì„œ ì‘ì€ ë‚˜ë­‡ ê°€ì§€ ğŸŸ¦í”„ë¦¬íŒ¹ì„ ë§Œë“¤ì. ë‚˜ë­‡ ê°€ì§€ê°€ íŒŒê´´ë˜ì–´ ë‘ ë™ê°• ë‚˜ëŠ” íš¨ê³¼ë¥¼ ì£¼ê¸° ìœ„í•´ ì´ í”„ë¦¬íŒ¹ì„ ë‚˜ë­‡ê°€ì§€ê°€ íŒŒê´´ëœ ìë¦¬ì— 2 ê°œ ìƒì„±í•  ê²ƒì´ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94651104-e038d080-0332-11eb-907c-d5b062090eeb.png)

- Rigidbody ë¶™ì—¬ ì£¼ê¸°
  - ìƒì„±ì‹œ ì¤‘ë ¥ì— ì˜í•˜ì—¬ ë•…ì— ë–¨ì–´ì§€ë„ë¡
- Box Collider ë¶™ì—¬ ì£¼ê¸°
  - ìƒì„±ì‹œ Rigidbodyì˜ ì¤‘ë ¥ì— ì˜í•˜ì—¬ ë–¨ì–´ì§€ë©´ ë°”ë‹¥ì— ë‹¿ì•˜ì„ ë•Œ ëš«ê³  ì§€ë‚˜ê°€ì§€ ì•Šë„ë¡ ì¶©ëŒì²´ ë§Œë“¤ì–´ ì¤Œ.
  - Is TriggerëŠ” ì²´í¬ ë˜ì–´ìˆë‹¤. ì¤‘ë ¥ì´ ìˆìœ¼ë‹ˆ ì´ê²Œ ì²´í¬ í•´ì œë˜ë©´ ì§€í˜•ì„ ê´€í†µí•´ì„œ ë–¨ì–´ì§€ê²Œ ëœë‹¤.


<br>

## ğŸš– ë‚˜ë­‡ê°€ì§€ ë•Œë¦¬ëŠ” ì²˜ë¦¬

### ğŸ“œTwig.cs

> ë‚˜ë­‡ ê°€ì§€ ë¸Œì íŠ¸ì¸ `branch`ì— ë¶™ì—¬ ì¤€ë‹¤.

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Twig : MonoBehaviour
{
    [SerializeField]
    private int hp;  // ë‚˜ë­‡ ê°€ì§€ ì²´ë ¥. 0 ì´ ë˜ë©´ íŒŒê´´.

    [SerializeField]
    private float destroyTime;  // ë‚˜ë­‡ ê°€ì§€ ì´í™íŠ¸ (íŒŒí‹°í´ ì‹œìŠ¤í…œ) ì‚­ì œ ì‹œê°„

    [SerializeField]
    private GameObject go_little_Twig;  // `Little_Twig` í• ë‹¹. ë‚˜ë­‡ê°€ì§€ê°€ íŒŒê´´ë  ë•Œ ë‘ ë™ê°•ë‚˜ê²Œ. ë” ì‘ì€ ë‚˜ë­‡ê°€ì§€ í”„ë¦¬íŒ¹.
    [SerializeField]
    private GameObject go_twig_hit_effect_prefab;  // `Leaf_Hit_Effect` ë‚˜ë­‡ ê°€ì§€ ë•Œë¦´ ë•Œ ìƒì„±í•  ì´í™íŠ¸ í”„ë¦¬íŒ¹

    [SerializeField]
    private float force;  // ìƒì„±ëœ ë‘ ê°œì˜ ì‘ì€ ë‚˜ë­‡ê°€ì§€ë¥¼ ë°€ì–´ì¤„ í˜ì˜ í¬ê¸°

    /* íšŒì „ê°’ ë³€ìˆ˜ */
    private Vector3 originRot;   // ë‚˜ë­‡ ê°€ì§€ ì›ë˜ íšŒì „ ê°’. (ë‚˜ë­‡ ê°€ì§€ ë•Œë¦¬ë©´ ê¸°ìš¸ì´ê²Œ í•  ê²ƒì´ë¼ì„œ ë‚˜ì¤‘ì— ì›ë˜ëŒ€ë¡œ ëŒì•„ ì˜¬ ë•Œ í•„ìš”)
    private Vector3 wantedRot;   // ë‚˜ë­‡ ê°€ì§€ ë•Œë¦´ ë•Œ íšŒì „ ë˜ê¸¸ ì›í•˜ëŠ” ê°’.
    private Vector3 currentRot;  // wanted_Rot ì´ ë˜ê¸° ìœ„í•´ ê³„ì† ì—…ëƒí•´ë‚˜ê°ˆ íšŒì „ ê°’

    /* í•„ìš”í•œ ì‚¬ìš´ë“œ ì´ë¦„.  (ì¬ìƒì€ ğŸ“œSoundManager.cs ì‹±ê¸€í†¤ìœ¼ë¡œ í•˜ë‹ˆê¹Œ ê³¡ ì´ë¦„ stringë§Œ ì•Œë©´ ë¨) */
    [SerializeField]
    private string hit_Sound;
    [SerializeField]
    private string broken_Sound;

    void Start()
    {
        originRot = transform.rotation.eulerAngles;  // ë³´ê¸° í¸í•˜ê²Œ Vector3 ë¡œ.
        currentRot = originRot;  // currentRot ì´ˆê¸°ê°’
    }

    public void Damage(Transform _playerTf)  
    {
        hp--;

        Hit();

        StartCoroutine(HitSwayCoroutine(_playerTf));

        if(hp <= 0)
        {
            Destruction();
        }
    }

    private void Hit()
    {
        SoundManager.instance.PlaySE(hit_Sound);

        GameObject twig_particles = Instantiate(go_twig_hit_effect_prefab,
            gameObject.GetComponent<BoxCollider>().bounds.center + (Vector3.up * 0.5f),
            Quaternion.identity);

        Destroy(twig_particles, destroyTime);
    }

    IEnumerator HitSwayCoroutine(Transform _target)
    {
        Vector3 direction = (_target.position - transform.position).normalized; // í”Œë ˆì´ì–´ ğŸ‘‰ ë‚˜ë­‡ê°€ì§€ ë¡œ í–¥í•˜ëŠ” ë°©í–¥ 

        Vector3 rotationDir = Quaternion.LookRotation(direction).eulerAngles;  // í”Œë ˆì´ì–´ ğŸ‘‰ ë‚˜ë­‡ê°€ì§€ ë°©í–¥ì„ ë°”ë¼ë³´ëŠ” ë°©í–¥ì˜ ê°ë„ ê°’.

        CheckDirection(rotationDir);

        while(!CheckThreadhold())
        {
            currentRot = Vector3.Lerp(currentRot, wantedRot, 0.25f);
            transform.rotation = Quaternion.Euler(currentRot);
            yield return null;
        }

        wantedRot = originRot;

        while (!CheckThreadhold())
        {
            currentRot = Vector3.Lerp(currentRot, originRot, 0.15f);
            transform.rotation = Quaternion.Euler(currentRot);
            yield return null;
        }
    }

    private bool CheckThreadhold()
    {
        if (Mathf.Abs(wantedRot.x - currentRot.x) <= 0.5f && Mathf.Abs(wantedRot.z - currentRot.z) <= 0.5f)
            return true;
        return false;
    }

    private void CheckDirection(Vector3 _rotationDir)  // ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ë‚˜ë­‡ ê°€ì§€ë¥¼ ëˆ•íì§€.
    {
        Debug.Log(_rotationDir);

        if (_rotationDir.y > 180)
        {
            if(_rotationDir.y > 300)  // 300 ~ 360 
                wantedRot = new Vector3(-50f, 0f, -50f);
            else if (_rotationDir.y > 240) // 240 ~ 300
                wantedRot = new Vector3(0f, 0f, -50f);
            else    // 180 ~ 240
                wantedRot = new Vector3(50f, 0f, -50f);
        }
        else if (_rotationDir.y <= 180)
        {
            if (_rotationDir.y < 60)  // 0 ~ 60
                wantedRot = new Vector3(-50f, 0f, 50f);
            else if (_rotationDir.y > 120)  // 120 ~ 180
                wantedRot = new Vector3(0f, 0f, 50f);
            else  // 60 ~ 120
                wantedRot = new Vector3(50f, 0f, 50f);
        }
    }

    private void Destruction()
    {
        SoundManager.instance.PlaySE(broken_Sound);

        GameObject little_twig_1 = Instantiate(go_little_Twig,
                            gameObject.GetComponent<BoxCollider>().bounds.center + (Vector3.up * 0.5f),
                            Quaternion.identity);
        GameObject little_twig_2 = Instantiate(go_little_Twig,
                            gameObject.GetComponent<BoxCollider>().bounds.center - (Vector3.up * 0.5f),
                            Quaternion.identity);
        
        little_twig_1.GetComponent<Rigidbody>().AddForce(Random.Range(-force, force), 0, Random.Range(-force, force));
        little_twig_2.GetComponent<Rigidbody>().AddForce(Random.Range(-force, force), 0, Random.Range(-force, force));

        Destroy(little_twig_1, destroyTime);
        Destroy(little_twig_2, destroyTime);

        Destroy(gameObject);
    }
}

```

- *Start()* ğŸ‘‰ ì´ˆê¸°í™”
  - `originRot`ì— ìê¸° ìì‹ ì¸ ë‚˜ë­‡ ê°€ì§€(`Branch`) í˜„ì¬ íšŒì „ ê°’ ë„£ì–´ë‘ê¸°
  - ë‹¤ë£¨ê¸° í¸í•˜ê²Œ Vector3ë¡œ ì €ì¥. **eulerAngles**
  - `currentRot`ëŠ” `originRot`ë¡œ ì´ˆê¸°í™”
- *Damage(Transform _playerTf)* ğŸ‘‰ ë„ë¼ë¡œ ë‚˜ë­‡ ê°€ì§€ë¥¼ ë•Œë¦´ ë•Œë§ˆë‹¤ ì‹¤í–‰ ë¨. 
  - 1ï¸âƒ£ hp ê¹ê³  *Hit()* ì‹¤í–‰
    - *Hit()* ğŸ‘‰ ë•Œë¦´ ë•Œë§ˆë‹¤ ì‹¤í–‰í•  ë¶€ë¶„
      - ë‚˜ë­‡ê°€ì§€ íƒ€ê²© ì‚¬ìš´ë“œ ì¬ìƒ
      - ë‚˜ë­‡ì ì´í™íŠ¸ íš¨ê³¼ë¡œ ë§Œë“¤ì–´ ë‘” í”„ë¦¬íŒ¹ ìƒì„±
        - ìê¸° ìì‹ ì¸ ë‚˜ë­‡ê°€ì§€ì˜ Box Collider ë°”ìš´ë“œì˜ ì •ê°€ìš´ë° ì§€ì ì—ì„œ (Vector3.up * 0.5f) ë²¡í„°ë§Œí¼ ë”ìš´ ì¢€ ìœ— ë¶€ë¶„ì—ì„œ ìƒì„±ë˜ê²Œë” í•œë‹¤.
      - ë‚˜ë­‡ì ì´í™íŠ¸ 5ì´ˆ(`destroyTime`) ë’¤ íŒŒê´´
  - 2ï¸âƒ£ *HitSwayCoroutine(Transform _target)* ğŸ‘‰ í”Œë ˆì´ì–´ -> ë‚˜ë­‡ê°€ì§€ ë¡œ í–¥í•˜ëŠ” ë°©í–¥ì„ ë°”ë¼ë³´ëŠ” ë°©í–¥ìœ¼ë¡œ ë‚˜ë­‡ê°€ì§€ë¥¼ ì“°ëŸ¬ëœ¨ë¦¼(X, Z ë°©í–¥ìœ¼ë¡œ íšŒì „)
    - <u>ì„¤ëª… ê·¸ë¦¼ ë°‘ì—</u>
    - 1ï¸âƒ£ `rotationDir` ğŸ‘‰ (í”Œë ˆì´ì–´ -> ë‚˜ë­‡ê°€ì§€ ë¡œ í–¥í•˜ëŠ” ë°©í–¥) ì„ ë°”ë¼ë³´ëŠ” ë°©í–¥ êµ¬í•˜ê¸°
    - 2ï¸âƒ£ *CheckDirection(rotationDir)* ğŸ‘‰ ë‚˜ë­‡ ê°€ì§€ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ê·¸ ê°ë„, íšŒì „ê°’ìœ¼ë¡œ `wantedRot`ì„ ì—…ë°ì´íŠ¸.
      - <u>ì„¤ëª… ê·¸ë¦¼ ë°‘ì—</u>
      - ì¸ìˆ˜ë¡œ ë“¤ì–´ì˜¨ `rotationDir`ì˜ y ê°’, ì¦‰ ë‚˜ë­‡ ê°€ì§€ê°€ ë°”ë¼ë´ì•¼ í•˜ëŠ” y ë°©í–¥ì— ë”°ë¼ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì“°ëŸ¬ëœ¨ë¦´ì§€ ì •í•˜ëŠ” í•¨ìˆ˜. 
      - 1ë„ ë‹¨ìœ„, ì‹¤ìˆ˜ ë‹¨ìœ„ë¡œ ì“°ëŸ¬ëœ¨ë¦¬ëŠ” ë°©í–¥ì„ ë‹¤ë¥´ê²Œ í•´ì£¼ë©´ ì„±ëŠ¥ì´ ì €í•˜ë˜ë‹ˆê¹ ëŒ€ì¶© 360ë„ë¥¼ êµ¬ì—­ë³„ë¡œ ë‚˜ì›Œì„œ ì´ìª½ ë°©í–¥ì´ë©´ ì´ëŸ° íšŒì „ ê°’ìœ¼ë¡œ ì“°ëŸ¬ì§€ê²Œ ë§Œë“¤ê³  ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ì˜€ë‹¤.
        - `_rotationDir.y`
    - 3ï¸âƒ£ ì‹¤ì œë¡œ ë‚˜ë­‡ê°€ì§€ íšŒì „ì‹œí‚¤ê¸°
      - *CheckThreadhold()* ğŸ‘‰ `wantedRot`ì™€ `currentRot`ì˜ ì°¨ì´ê°€ 0.5 ì´í•˜ë©´ ë‘˜ì´ ê°™ë‹¤ê³  ë³´ê¸° ìœ„í•´ True ë¦¬í„´, ì•„ë‹ˆë©´ False ë¦¬í„´.
        - LerpëŠ” ë”± ë–¨ì–´ì ¸ì„œ ë‚˜ì˜¤ê¸°ê°€ í˜ë“¤ë‹¤ ë³´ë‹ˆ whileë¬¸ì— ë¬´í•œíˆ ê°‡íˆê²Œ ë˜ëŠ” ê²ƒ ë°©ì§€. *CheckThreadhold()*ê°€ Trueê°€ ë˜ë©´ ë‘˜ì´ ê°™ì•„ì¡Œë‹¤ê³  ë³´ê³  `!CheckThreadhold()`ê°€ Trueê°€ ë˜ë©´ !while ë¬¸ì„ ë¹ ì ¸ ë‚˜ì˜´. 
      - 1ï¸âƒ£ ë‚˜ë­‡ ê°€ì§€ ëˆ•íˆê¸° 
        - `currentRot` ğŸ‘‰ `wantedRot`ì´ ë˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë¶€ë“œëŸ½ê²Œ Lerp + í•œ í”„ë ˆì„ ì‰¬ê¸° ë°˜ë³µ
        - ë‚˜ë­‡ ê°€ì§€ì˜ í˜„ì¬ íšŒì „ê°’ì„ `wantedRot` ê°’ê³¼ ê°™ì•„ì¡Œë‹¤ê³  íŒì •ëœ `currentRot`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë‚˜ë­‡ ê°€ì§€ ì‹¤ì œë¡œ íšŒì „ì‹œí‚¤ê¸°
      - 2ï¸âƒ£ ë‚˜ë­‡ ê°€ì§€ ë‹¤ì‹œ ì›ë˜ëŒ€ë¡œ ì¼ì–´ë‚˜ê²Œ í•˜ê¸°
        - `wantedRot`ë¥¼ `originRot`ë¡œ ì´ˆê¸°í™” 
        - `currentRot` ğŸ‘‰ `originRot`ì´ ë˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë¶€ë“œëŸ½ê²Œ Lerp + í•œ í”„ë ˆì„ ì‰¬ê¸° ë°˜ë³µ
        - ë‚˜ë­‡ ê°€ì§€ì˜ í˜„ì¬ íšŒì „ê°’ì„ `originRot` ê°’ê³¼ ê°™ì•„ì¡Œë‹¤ê³  íŒì •ëœ `currentRot`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë‚˜ë­‡ ê°€ì§€ ì‹¤ì œë¡œ íšŒì „ì‹œí‚¤ê¸°
  - 3ï¸âƒ£ hp ê°€ 0 ì´í•˜ë©´ ë‚˜ë­‡ ê°€ì§€ íŒŒê´´ ì²˜ë¦¬ í•˜ê¸° *Destruction()* ì‹¤í–‰
    - ë‚˜ë­‡ ê°€ì§€ íŒŒê´´ ì†Œë¦¬ ì¬ìƒ
    - ë‘ ë™ê°• ë‚´ê¸°
      - ì‘ì€ ë‚˜ë¬´ 1 ìƒì„± (ì¢€ ìœ„ì— ìƒì„± `+ Vector3.up`)
      - ì‘ì€ ë‚˜ë¬´ 2 ìƒì„± (ì¢€ ì•„ë˜ì— ìƒì„± `- Vector3.up`)
    - ìƒì„±ëœ ë‘ ì‘ì€ ë‚˜ë¬´ë“¤ì„ (-force, force) ì‚¬ì´ì˜ ëœë¤í•œ í˜ì˜ ë²¡í„°ë¥¼ X, Z ë°©í–¥ìœ¼ë¡œ ê°€í•´ ë°€ì–´ì¤€ë‹¤.
      - ë°€ì–´ì£¼ì§€ ì•Šìœ¼ë©´ ë„ˆë¬´ ì •ì§í•˜ê²Œ ìœ„ ë‚˜ë­‡ê°€ì§€ê°€ ë–¨ì–´ì§ˆ ë•Œ ì•„ë« ë‚˜ë­‡ê°€ì§€ ìœ„ì— ë”± ì„œìˆê²Œ ëœë‹¤.. ã…  ã…  ê·¸ë˜ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ë•… ì•„ë˜ë¡œ ë–¨ì–´ì§€ë„ë¡ X,Z ì•ë’¤ ì¢Œìš°ë¡œ ëœë¤í•œ í¬ê¸°ì˜ ë°€ì–´ì£¼ëŠ” í˜ì„ ì¤€ ê²ƒì´ë‹¤.
        ```c#
        little_twig_1.GetComponent<Rigidbody>().AddForce(Random.Range(-force, force), 0, Random.Range(-force, force));
        little_twig_2.GetComponent<Rigidbody>().AddForce(Random.Range(-force, force), 0, Random.Range(-force, force));
        ```
    - ë‘ ë™ê°•ë‚œ ë‘ ì‘ì€ ë‚˜ë¬´ëŠ” 5ì´ˆ ë’¤ ì‚­ì œ
    - ìê¸° ìì‹ (ë‚˜ë­‡ ê°€ì§€)ì€ ëˆˆ ê¹œì§í•  ìƒˆì— ë°”ë¡œ ì‚­ì œ

![image](https://user-images.githubusercontent.com/42318591/94664333-b9d06080-0345-11eb-9910-d38494405243.png){: width="50%" height="50%"}{: .align-center}

í”Œë ˆì´ì–´ëŠ” ë‚˜ë­‡ ê°€ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ íšŒì „í•˜ë©´ì„œ ë•Œë¦´ ìˆ˜ ìˆë‹¤. ì¦‰, í”Œë ˆì´ì–´ì—ì„œ ğŸ‘‰ ë‚˜ë­‡ ê°€ì§€ë¡œ í–¥í•˜ëŠ” ë°©í–¥ì˜ Vector3 ê°’ì€ `y`ê°’ë§Œ ë³€í™”í•˜ê²Œ ëœë‹¤.


![image](https://user-images.githubusercontent.com/42318591/94664396-c9e84000-0345-11eb-83ec-e092e69bda2f.png)

ë‚˜ë­‡ ê°€ì§€ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì€ í”Œë ˆì´ì–´ì—ì„œ ğŸ‘‰ ë‚˜ë­‡ ê°€ì§€ë¡œ í–¥í•˜ëŠ” ë°©í–¥ê³¼ ì¼ì¹˜í•œë‹¤. í”Œë ˆì´ì–´ì—ì„œ ğŸ‘‰ ë‚˜ë­‡ ê°€ì§€ë¡œ í–¥í•˜ëŠ” ë°©í–¥ì˜ Vector3 ê°’ì€ `y`ê°’ë§Œ ë³€í™”í•˜ê²Œ ë˜ë¯€ë¡œ ì´ `y`ê°’ì„ ë³´ë©´ ë‚˜ë­‡ ê°€ì§€ê°€ ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ê·¸ëƒ¥ ë‚˜ë¬´ë¥¼ ì“°ëŸ¬ëœ¨ë¦¬ê³  ë„˜ì–´ì§€ê²Œë§Œ í•˜ë©´ ë˜ì„œ X, Zì¶• íšŒì „ë§Œ í•˜ë©´ ë˜ê³ , ë‚˜ë¬´ê°€ ì“°ëŸ¬ì§€ëŠ” ë°©í–¥ì„ ë°”ë¼ë³´ê²Œ ë” Y ì¶• íšŒì „ê¹Œì§€ í•´ ì¤„ í•„ìš”ëŠ” ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ í”Œë ˆì´ì–´ì—ì„œ ğŸ‘‰ ë‚˜ë­‡ ê°€ì§€ë¡œ í–¥í•˜ëŠ” ë°©í–¥, ì¦‰ ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì˜ Y ê°’ì„ ë³´ë©´ ë‚˜ë¬´ê°€ ì‹¤ì œë¡œ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì„ ì•Œ ìˆ˜ ìˆê³  ê·¸ ìª½ìœ¼ë¡œ ì“°ëŸ¬ì§€ê³  ë„˜ì–´ì§€ê²Œë” X, Z íšŒì „ê°’ì„ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤! ë‚˜ë¬´ê°€ ì“°ëŸ¬ì§€ëŠ” ë°©í–¥ìœ¼ë¡œ ê³ ê°œë¥¼ ëŒë¦´ í•„ìš”ê¹Œì§„ ì—†ìœ¼ë‹ˆ Y ê°’ ì„¤ì •ì€ X

![image](https://user-images.githubusercontent.com/42318591/94665216-d0c38280-0346-11eb-973e-013f56430db2.png)

- ë‚˜ë­‡ ê°€ì§€ê°€ Z ì¶•ì„ í–¥í•˜ê³  ìˆëŠ” ê¸°ì¤€, ì¦‰ ë‚˜ë­‡ ê°€ì§€ì˜ ì• ëª¨ìŠµì„ ê¸°ì¤€ìœ¼ë¡œ 
  - Z íšŒì „ê°’ì´ ìŒìˆ˜ë©´ ì™¼ ìª½ìœ¼ë¡œ ë„˜ì–´ì§€ëŠ” ê±°ê³ 
  - Z íšŒì „ê°’ì´ ì–‘ìˆ˜ë©´ ì˜¤ë¥¸ ìª½ìœ¼ë¡œ ë„˜ì–´ì§€ëŠ” ê±°ê³ 
  - X íšŒì „ê°’ì´ ìŒìˆ˜ë©´ ë’¤ ìª½ìœ¼ë¡œ ë„˜ì–´ì§€ëŠ” ê±°ê³ 
  - X íšŒì „ê°’ì´ ì–‘ìˆ˜ë©´ ì• ìª½ìœ¼ë¡œ ë„˜ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
- 360ë„ë¥¼ 60ë„ ë‹¨ìœ„ë¡œ 6 ê°œì˜ êµ¬ì—­ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë„˜ì–´ì§ˆ ë°©í–¥(X, Z íšŒì „ê°’)ì„ ê°™ê²Œ í•´ì£¼ì—ˆë‹¤. ì„±ëŠ¥ì„ ìœ„í•´ì„œ!
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `0 ~ 60`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´ 
    - ì˜¤ë¥¸ìª½ + ë’¤ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. X íšŒì „ê°’ ìŒìˆ˜, Z íšŒì „ê°’ ì–‘ìˆ˜
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `60 ~ 120`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´ 
    - ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. ì• ë’¤ë¡œ ë„˜ì–´ì§ˆ í•„ìš”ëŠ” ì—†ìœ¼ë¯€ë¡œ X íšŒì „ê°’ 0, Z íšŒì „ê°’ ì–‘ìˆ˜
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `120 ~ 180`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´
    - ì˜¤ë¥¸ìª½ + ì•ìœ¼ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. X íšŒì „ê°’ ì–‘ìˆ˜, Z íšŒì „ê°’ ì–‘ìˆ˜
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `180 ~ 240`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´
    - ì™¼ìª½ + ì•ìœ¼ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. X íšŒì „ê°’ ì–‘ìˆ˜, Z íšŒì „ê°’ ìŒìˆ˜
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `240 ~ 300`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´
    - ì™¼ìª½ìœ¼ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. ì• ë’¤ë¡œ ë„˜ì–´ì§ˆ í•„ìš”ëŠ” ì—†ìœ¼ë¯€ë¡œ X íšŒì „ê°’ 0, Z íšŒì „ê°’ ìŒìˆ˜
  - ë‚˜ë¬´ê°€ ì“°ëŸ¬ì ¸ì•¼ í•˜ëŠ” ë°©í–¥ì´ Y ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ `300 ~ 360`ë„ íšŒì „í•œ ë°©í–¥ì´ë¼ë©´ 
    - ì™¼ìª½ + ë’¤ë¡œ ë„˜ì–´ì ¸ì•¼ í•œë‹¤. X íšŒì „ê°’ ìŒìˆ˜, Z íšŒì „ê°’ ìŒìˆ˜


```c#
    private void CheckDirection(Vector3 _rotationDir)  // ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ë‚˜ë­‡ ê°€ì§€ë¥¼ ëˆ•íì§€.
    {
        Debug.Log(_rotationDir);

        // ëŒ€ì¶© 50 ë„ í¬ê¸°ë¡œ ë„˜ì–´ì§„ë‹¤ê³  ì„¤ì •

        if (_rotationDir.y > 180)
        {
            if(_rotationDir.y > 300)  // 300 ~ 360 
                wantedRot = new Vector3(-50f, 0f, -50f);
            else if (_rotationDir.y > 240) // 240 ~ 300
                wantedRot = new Vector3(0f, 0f, -50f);
            else    // 180 ~ 240
                wantedRot = new Vector3(50f, 0f, -50f);
        }
        else if (_rotationDir.y <= 180)
        {
            if (_rotationDir.y < 60)  // 0 ~ 60
                wantedRot = new Vector3(-50f, 0f, 50f);
            else if (_rotationDir.y > 120)  // 120 ~ 180
                wantedRot = new Vector3(0f, 0f, 50f);
            else  // 60 ~ 120
                wantedRot = new Vector3(50f, 0f, 50f);
        }
    }
```

![image](https://user-images.githubusercontent.com/42318591/94784675-7a6b4800-0409-11eb-935f-2bf26be3da66.png)


ë•Œë¦´ ë•Œë§ˆë‹¤ ìƒì„±í•  ì´í™íŠ¸ íš¨ê³¼ í”„ë¦¬íŒ¹ê³¼(ë‚˜ë­‡ì), íŒŒê´´ë˜ì„œ ë‘ë™ê°• ë‚  ë•Œ ìƒì„±í•  ì‘ì€ ë‚˜ë­‡ ê°€ì§€ í”„ë¦¬íŒ¹ í• ë‹¹. ë°€ì–´ ì¤„ í˜ì˜ í¬ê¸° ì§€ì •.

![image](https://user-images.githubusercontent.com/42318591/94650724-38230780-0332-11eb-90bf-76aee7793615.png)

ë‚˜ë­‡ ê°€ì§€ ë•Œë¦´ ë•Œ, íŒŒê´´ë  ë•Œ íš¨ê³¼ìŒ ì‚¬ìš´ë“œ ë§¤ë‹ˆì €ì— ì¶”ê°€.

<br>

### ğŸ“œPickaxeController.cs

> ë‚˜ë­‡ ê°€ì§€ëŠ” ê³¡ê´­ì´ë¡œë§Œ ìº˜ ìˆ˜ ìˆë‹¤.

```c#
    protected override IEnumerator HitCoroutine()
    {
        while (isSwing)
        {
            if (CheckObject())
            {
                if (hitInfo.transform.tag == "Rock")
                {
                    hitInfo.transform.GetComponent<Rock>().Mining();
                }
                else if (hitInfo.transform.tag == "Twig")
                {
                    hitInfo.transform.GetComponent<Twig>().Damage(this.transform);
                }

                isSwing = false;
                Debug.Log(hitInfo.transform.name);
            }
            yield return null;
        }
    }
```

ê³¡ê´­ì´ì™€ ì¶©ëŒí•œ ëŒ€ìƒì—ê²Œ "Twig" íƒœê·¸ê°€ ë¶™ì–´ìˆë‹¤ë©´ ë‚˜ë­‡ ê°€ì§€ì´ë¯€ë¡œ ğŸ“œTwig.cs ì˜ Damage í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì¸ìˆ˜ëŠ” ê³¡ê´­ì´ì˜ ìœ„ì¹˜ë¡œ ë„˜ê¸´ë‹¤. ê³¡ê´­ì´ì˜ ìœ„ì¹˜ì™€ í”Œë ˆì´ì–´ì˜ ìœ„ì¹˜ëŠ” ì¼ì¹˜í•˜ê¸° ë•Œë¬¸ì— ê´œì°®ë‹¤.


<br>

# í’€ ë² ê¸°

## ğŸš– í’€ ì˜¤ë¸Œì íŠ¸

![image](https://user-images.githubusercontent.com/42318591/94680914-84377180-035d-11eb-9672-c959c7da142d.png)

![image](https://user-images.githubusercontent.com/42318591/94651348-4cb3cf80-0333-11eb-857d-f3d524272360.png)

- `Grass` ğŸ‘‰ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë‹¤.
  - Box Colliderë¥¼ ë¶™ì—¬ì£¼ì
    - ì¶©ëŒ ì²˜ë¦¬ê°€ ë˜ì–´ í’€ì˜ hp ê°€ ê¹ì¼ ìˆ˜ ìˆë„ë¡
    - Is TriggerëŠ” ì²´í¬. í”Œë ˆì´ì–´ê°€ ê´€í†µí•  ìˆ˜ ìˆë„ë¡.
      - RigidbodyëŠ” ë¶™ì–´ìˆì§€ ì•Šìœ¼ë¯€ë¡œ Is Trigger ì²´í¬í•œë‹¤ê³  í•´ì„œ ì¤‘ë ¥ì— ì˜í•´ Terrainì„ ëš«ê³  ì˜ì›íˆ ë–¨ì–´ì§ˆ ì¼ì€ ì—†ë‹¤!
  - Tag ëŠ” "Grass"
    - `Rock`ê³¼ ê°™ì´ ë•Œë¦°ê²Œ í’€ì´ë¼ë©´ ì²˜ë¦¬ë¥¼ ë‹¤ë¥´ê²Œ í•´ì£¼ì–´ì•¼ í•˜ë‹ˆê¹Œ

<br>

## ğŸš– í’€ ì¡°ê° ì˜¤ë¸Œì íŠ¸ë“¤

![image](https://user-images.githubusercontent.com/42318591/94651829-04e17800-0334-11eb-8fdc-cf9436a28055.png)

![image](https://user-images.githubusercontent.com/42318591/94680939-8c8fac80-035d-11eb-8e83-291b86bb731c.png)

> í’€ì˜ ì „ì²´ì ì¸ Mesh ë¥¼ ìì‹ ì˜¤ë¸Œì íŠ¸ë“¤ì´ ì¡°ê° ì¡°ê°ìœ¼ë¡œ ì´ë£¨ê³  ìˆë‹¤.

- `Grass`ì˜ ëª¨ë“  ìì‹ ì˜¤ë¸Œì íŠ¸ë“¤ ëª¨ë‘ì—ê²Œ 
  - Rigidbodyë¥¼ ë¶™ì¸ë‹¤. ğŸ‘‰ ì¤‘ë ¥ì— ì˜í•´ ë–¨ì–´ì§€ë„ë¡.
    - Use Gravity ëŠ” ì²´í¬ í•´ì œ í•´ì¤€ë‹¤. (í’€ì´ íŒŒê´´ë  ë•Œ ìë™ ì²´í¬ë˜ë„ë¡ í•  ê²ƒì´ë‹¤.)
      - í‰ì†Œì—” ì¤‘ë ¥ì„ ë°›ì§€ ì•Šì•„ ì›ë˜ ëª¨ìŠµëŒ€ë¡œ ë¶™ì–´ìˆë‹¤ê°€ íŒŒê´´ë  ë•Œ ì¤‘ë ¥ì— ì˜í•´ ê°ê°ì˜ ì¡°ê°ë“¤ì´ ë–¨ì–´ì§€ê²Œ í•  ê²ƒ.
  - Box Colliderë¥¼ ë¶™ì¸ë‹¤. ğŸ‘‰ ì¤‘ë ¥ì— ì˜í•´ ë–¨ì–´ì§ˆ ë•Œ ë°”ë‹¥ì„ í†µê³¼í•˜ì§€ ì•Šê³  ì¶©ëŒë˜ë„ë¡.
    - Is TriggerëŠ” ì²´í¬.
    - ë¹„í™œì„±í™” í•´ë‘”ë‹¤. (í’€ì´ íŒŒê´´ë  ë•Œ í’€ ì¡°ê°ë“¤ì˜ Box Colliderë¥¼ í™œì„±í™”í•  ê²ƒì´ë‹¤.)

<br>

## ğŸš– í’€ ë² ê¸° ì²˜ë¦¬

### ğŸ“œGrass.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Grass : MonoBehaviour
{
    [SerializeField]
    private int hp;  // í’€ì˜ ì²´ë ¥

    [SerializeField]
    private float destroyTime;  // í’€ ì´í™íŠ¸ ì‚¬ë¼ì§ˆ ì‹œê°„
    [SerializeField]
    private float explosionForce;  // í­ë°œ ì„¸ê¸°


    [SerializeField]
    private GameObject go_hit_effect_prefab;  // í’€ ë–„ë¦´ë•Œ ë§ˆë‹¤ ë°œìƒì‹œí‚¬ ì´í™íŠ¸ íš¨ê³¼ í”„ë¦¬íŒ¹

    private Rigidbody[] rigidbodys;  // í’€ íŒŒê´´ì‹œ ìì‹ì¸ í’€ ì¡°ê°ë“¤ì—ê²Œ ë¶™ì–´ìˆëŠ” Rigidbodyë“¤ì˜ ì¤‘ë ¥ í™œì„±í™”í•˜ê¸° ìœ„í•˜ì—¬
    private BoxCollider[] boxColiders;  // í’€ íŒŒê´´ì‹œ ìì‹ì¸ í’€ ì¡°ê°ë“¤ì—ê²Œ ë¶™ì–´ìˆëŠ” Box Collider ë“¤ì„ í™œì„±í™”í•˜ê¸° ìœ„í•˜ì—¬

    [SerializeField]
    private string hit_sound;  // í’€ íƒ€ê²©ì‹œ ì†Œë¦¬

    void Start()
    {
        rigidbodys = this.transform.GetComponentsInChildren<Rigidbody>();
        boxColiders = this.transform.GetComponentsInChildren<BoxCollider>();
    }

    public void Damage()
    {
        hp--;

        Hit();

        if(hp <= 0)
        {
            Destruction();
        }
    }

    private void Hit()
    {
        SoundManager.instance.PlaySE(hit_sound);

        var clone = Instantiate(go_hit_effect_prefab, transform.position + Vector3.up, Quaternion.identity);
        Destroy(clone, destroyTime);
    }

    private void Destruction()
    {
        for (int i = 0; i < rigidbodys.Length; i++)
        {
            rigidbodys[i].useGravity = true;
            rigidbodys[i].AddExplosionForce(explosionForce, transform.position, 1f); // ì œìë¦¬ì—ì„œ ì¤‘ë ¥ ë°›ì•„ ê·¸ëƒ¥ ë–¨ì–´ì§€ëŠ”ê²Œ ì•„ë‹ˆë¼ í­ë°œ íš¨ê³¼ë¥¼ ì¤Œ (í­ë°œ ì„¸ê¸°, í­ë°œ ìœ„ì¹˜, í­ë°œ ë°˜ê²½)
            boxColiders[i].enabled = true;
        }

        Destroy(this.gameObject, destroyTime);
    }
}

```

- *Start()*
  - `rigidbodys` ë°°ì—´ì— `Grass`ì˜ ìì‹ë“¤ì¸ í’€ ì¡°ê°ë“¤ì˜ Rigidbody ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë„£ì–´ì¤€ë‹¤.
  - `boxColiders` ë°°ì—´ì— `Grass`ì˜ ìì‹ë“¤ì¸ í’€ ì¡°ê°ë“¤ì˜ Box Coliders ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë„£ì–´ì¤€ë‹¤.
- *Hit()* 
  - í’€ ë•Œë¦´ ë•Œ íš¨ê³¼ìŒ ì¬ìƒ
  - í’€ ë•Œë¦´ ë•Œ ì´í™íŠ¸ í”„ë¦¬íŒ¹ ìƒì„± (ë‚˜ë­‡ ê°€ì§€ ë²¨ ë•Œ ë§Œë“¤ì—ˆë˜ `Leaf_Hit_Effect`ë¥¼ ì‚¬ìš©í•  ê²ƒ)
  - ì´í™íŠ¸ 5 ì´ˆ ìˆë‹¤ê°€ ì‚­ì œ
- *Destruction()* ğŸ‘‰ í’€ íŒŒê´´ì‹œ ì‹¤í–‰í•  ì²˜ë¦¬ë“¤
  - `Grass`ì˜ ìì‹ë“¤ì¸ í’€ ì¡°ê°ë“¤ì˜ Rigidbody ì»´í¬ë„ŒíŠ¸ë“¤ì˜ Use Gravity ë¥¼ ì²´í¬í•´ì¤€ë‹¤. 
    - ì¤‘ë ¥ì„ í™œì„±í™” í•˜ì—¬ ê°ê¸° ë•…ì— ë–¨ì–´ì§€ë„ë¡ í•œë‹¤.
  - `Grass`ì˜ ìì‹ë“¤ì¸ í’€ ì¡°ê°ë“¤ì˜ Rigidbody ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ í•˜ì—¬ê¸ˆ AddExplosionForce í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ í­ë°œ íš¨ê³¼ë¥¼ ì¤€ë‹¤. 
    - ì œìë¦¬ì—ì„œ ì¤‘ë ¥ ë°›ì•„ ì¬ë¯¸ì—†ê²Œ ê·¸ëƒ¥ ë–¨ì–´ì§€ëŠ”ê²Œ ì•„ë‹ˆë¼ í­ë°œ í•œ í›„ì— ì¤‘ë ¥ì„ ë°›ì•„ ë–¨ì–´ì§€ë„ë¡.
  - `Grass`ì˜ ìì‹ë“¤ì¸ í’€ ì¡°ê°ë“¤ì˜ Box Coliders ì»´í¬ë„ŒíŠ¸ë“¤ì„ í™œì„±í™”ì‹œí‚¨ë‹¤.


![image](https://user-images.githubusercontent.com/42318591/94651682-d1065280-0333-11eb-8b4c-fb4cfb808a80.png)


<br>

### ğŸ“œAxeController.cs

> í’€ì€ ë„ë¼ë¡œë§Œ ìº˜ ìˆ˜ ìˆë‹¤.

```c#
    protected override IEnumerator HitCoroutine()
    {
        while (isSwing)
        {
            if (CheckObject())
            {
                if(hitInfo.transform.tag == "Grass")
                {
                    hitInfo.transform.GetComponent<Grass>().Damage();
                }

                isSwing = false;
                Debug.Log(hitInfo.transform.name);
            }
            yield return null;
        }
    }
```

ë„ë¼ì™€ ì¶©ëŒí•œ ëŒ€ìƒì—ê²Œ "Grass" íƒœê·¸ê°€ ë¶™ì–´ìˆë‹¤ë©´ ë‚˜ë­‡ ê°€ì§€ì´ë¯€ë¡œ ğŸ“œGrass.cs ì˜ Damage í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}