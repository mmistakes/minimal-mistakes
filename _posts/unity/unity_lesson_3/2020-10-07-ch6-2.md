---
title:  "Chapter 6-2. í€µìŠ¬ë¡¯ : í€µìŠ¬ë¡¯ ì‹¬í™”" 

categories:
  -  Unity Lesson 3 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-10-07
last_modified_at: 2020-10-07
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì¼€ì´ë””ë‹˜ì˜ **[ìœ ë‹ˆí‹° 3D] ì‹¤ì „! ìƒì¡´ê²Œì„ ë§Œë“¤ê¸° - Advanced** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/unity-2#)
{: .notice--warning}


# Chapter 6. í€µìŠ¬ë¡¯

ë¬´ê¸° ë¿ë§Œ ì•„ë‹ˆë¼ í™œì„±í™” í€µìŠ¬ë¡¯ì— ìˆëŠ” ë‹¤ë¥¸ ì•„ì´í…œë“¤ë„ ì‚¬ìš© ê°€ëŠ¥ í•˜ë„ë¡ êµ¬í˜„ í•  ê²ƒ.

## ğŸš– ë§¨ ì†ì— ì•„ì´í…œ ë“¤ê¸°

- í™œì„±í™” ëœ í€µìŠ¬ë¡¯ì˜ í¬ì…˜ ê°™ì€ ì†Œëª¨í’ˆ ì•„ì´í…œì„ ë§¨ì† ì˜¤ë¥¸ì† ëì— ë“¤ê³  ìˆì„ ìˆ˜ ìˆê²Œ (ë¬´ê¸° ì œì™¸)

### ì•„ì´í…œ ë“¤ ìœ„ì¹˜

![image](https://user-images.githubusercontent.com/42318591/95267603-9428e700-0870-11eb-868a-13aad6392435.png)

ë§¨ì† `Hand`ì˜ ìì‹ë“¤ ì¤‘ ì˜¤ë¥¸ì† ëì— í•´ë‹¹í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ì¸ `DownArmR_End` ì˜¤ë¸Œì íŠ¸ ìì‹ìœ¼ë¡œ, ì•„ì´í…œì„ ë“¤ê³  ìˆëŠ” ìœ„ì¹˜ë¡œì„œ ê¸°ëŠ¥í•  ë¹ˆ ì˜¤ë¸Œì íŠ¸ `ItemPos`ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

![image](https://user-images.githubusercontent.com/42318591/95267913-3f39a080-0871-11eb-85c7-05d6f7a27e5a.png)

- `ItemPos` ì´ ì˜¤ë¸Œì íŠ¸ê°€ ì•„ì´í…œì„ ë“¤ê³  ìˆëŠ” ìœ„ì¹˜ê°€ ë  ê²ƒì´ë‹¤. ì´ ìœ„ì¹˜ì— ì•„ì´í…œ í”„ë¦¬íŒ¹ì„ ìƒì„±í•  ê²ƒ.
- ë¡œì»¬ íšŒì „ì¶•ì´ ì›”ë“œ ê¸°ì¤€ íšŒì „ì¶•ê³¼ ì¼ì¹˜í•  ìˆ˜ ìˆë„ë¡ z ì¶•ìœ¼ë¡œ 90 ë„ íšŒì „í•˜ì˜€ë‹¤.

<br>

### ğŸ“œQuickSlotController.cs

```c#
    [SerializeField] private Transform tf_ItemPos;  // ì† ë ì˜¤ë¸Œì íŠ¸. ì† ëì— ì•„ì´í…œì´ ìœ„ì¹˜ë„ë¡ Transform ì •ë³´ ë°›ì•„ì˜¬ ê²ƒ
    public static GameObject go_HandItem;   // ì†ì— ë“  ì•„ì´í…œ. staticì¸ ì´ìœ ëŠ” ì´ê±° í•˜ë‚˜ ë°›ì•„ì˜¤ë ¤ê³  ğŸ“œQuickSlotController ë¡œë”©í•˜ëŠ”ê±´ ë‚­ë¹„ë¼ì„œ

    private void Execute()
    {
        if (quickSlots[selectedSlot].item != null)
        {
            if (quickSlots[selectedSlot].item.itemType == Item.ItemType.Equipment)
                StartCoroutine(theWeaponManager.ChangeWeaponCoroutine(quickSlots[selectedSlot].item.weaponType, quickSlots[selectedSlot].item.itemName));
            else if (quickSlots[selectedSlot].item.itemType == Item.ItemType.Used)
                ChangeHand(quickSlots[selectedSlot].item);
            else
                ChangeHand();
        }
        else
        {
            ChangeHand();
        }
    }

    private void ChangeHand(Item _item = null)
    {
        StartCoroutine(theWeaponManager.ChangeWeaponCoroutine("HAND", "ë§¨ì†"));

        if (_item != null)
            StartCoroutine(HandItemCoroutine());
    }

    IEnumerator HandItemCoroutine()
    {
        HandController.isActivate = false;
        yield return new WaitUntil(() => HandController.isActivate);  // ë§¨ì† êµì²´ì˜ ë§ˆì§€ë§‰ ê³¼ì •

        go_HandItem = Instantiate(quickSlots[selectedSlot].item.itemPrefab, tf_ItemPos.position, tf_ItemPos.rotation);
        go_HandItem.GetComponent<Rigidbody>().isKinematic = true;  // ì¤‘ë ¥ ì˜í–¥ X 
        go_HandItem.GetComponent<Collider>().enabled = false;  // ì½œë¼ì´ë” ë” (í”Œë ˆì´ì–´ì™€ ì¶©ëŒí•˜ì§€ ì•Šê²Œ)
        go_HandItem.tag = "Untagged";   // íšë“ ì•ˆë˜ë„ë¡ ë ˆì´ì–´ íƒœê·¸ ë°”ê¿ˆ
        go_HandItem.layer = 8;  // "Weapon" ë ˆì´ì–´ëŠ” int
        go_HandItem.transform.SetParent(tf_ItemPos);
    }
```

- `tf_ItemPos` : ì† ë ì˜¤ë¸Œì íŠ¸. ì˜¤ë¥¸ì†ì˜ `ItemPos` í• ë‹¹í•  ê²ƒ.
- `go_HandItem` : í˜„ì¬ ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œ. 
  - íŒŒê´´í•˜ê±°ë‚˜ ìƒì„±í•˜ê±°ë‚˜ í•  ìˆ˜ ìˆë„ë¡ GameObjectë¡œ ì„ ì–¸í•˜ì˜€ê³  
  - `static`ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œë„ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
    - ì´ê±° í•˜ë‚˜ë¡œ ğŸ“œQuickSlotController.cs ì „ì²´ë¥¼ ë¡œë”©í•˜ê¸°ì—” ë‚­ë¹„ë¼ statc ìœ¼ë¡œ ì„ ì–¸
- *Execute()*
  - í™œì„±í™”ëœ í€µìŠ¬ë¡¯ì— ë¬´ê¸°ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë¬´ê¸°ë¡œ êµì²´
  - í™œì„±í™”ëœ í€µìŠ¬ë¡¯ì— í¬ì…˜ê°™ì€ ì†Œë¹„ ì•„ì´í…œì´ ìˆë‹¤ë©´ ë§¨ì†ìœ¼ë¡œ êµì²´í•˜ê³  í•´ë‹¹ ì•„ì´í…œì„ ì†ì— ë“¤ë„ë¡
    - *ChangeHand(quickSlots[selectedSlot].item);* í˜¸ì¶œ
  - í™œì„±í™”ëœ í€µìŠ¬ë¡¯ì— ê¸°íƒ€ ì•„ì´í…œì´ ìˆë‹¤ë©´ ê·¸ëƒ¥ ë§¨ì†ìœ¼ë¡œ êµì²´ê¹Œì§€ë§Œ
    - *ChangeHand();* í˜¸ì¶œ
- *ChangeHand(Item _item = null)*
  - ë§¨ì†ìœ¼ë¡œ êµì²´í•œ í›„
  - í•´ë‹¹ ì•„ì´í…œ ì†ì— ë“¤ê¸°
    - *HandItemCoroutine()* í˜¸ì¶œ
- *HandItemCoroutine()* 
  - ğŸ‘‰ ì†ì— ì•„ì´í…œ ë“¤ê¸°!
    - ìš°ì„  ë§¨ì† êµì²´ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤. (ì´ë˜ì„œ ì½”ë£¨í‹´) ë§¨ì†ì´ ëœ í›„ ì•„ì´í…œì„ ë“¤ì–´ì•¼ í•˜ë‹ˆê¹Œ
      - `isActivate` false í•œë²ˆ í•´ì£¼ê³  *StartCoroutine(theWeaponManager.ChangeWeaponCoroutine("HAND", "ë§¨ì†"));* ì‹¤í–‰ì´ ì „ë¶€ ëë‚˜ë©´ `isActivate`ê°€ Trueê°€ ë˜ëŠ”ë°, `isActivate`ê°€ Trueê°€ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
      - â­ ì½”ë£¨í‹´ `WaitUntil`
        - - Bool íƒ€ì…ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì˜ í¬ì¸í„° í˜¹ì€ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë„˜ê¸°ê³  True ê°’ì„ ë¦¬í„´í•  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.
    - í•´ë‹¹ ì•„ì´í…œì„ `go_HandItem`ì— ìƒì„± 
      - ì•„ì´í…œ í”„ë¦¬íŒ¹ì„ ì† ìœ„ì¹˜ì— ìƒì„±
    - ìƒì„±í•œ ì•„ì´í…œì˜ Rigidbody ì˜ ë¬¼ë¦¬ë¥¼ êº¼ì¤€ë‹¤.
      - `isKinematic`ì„ Trueë¡œ.
        - ë¬¼ë¦¬ í˜„ìƒì´ í™œì„±í™” ë˜ë©´ ì†ì— ë¶™ì§€ ì•Šê³  ì¤‘ë ¥ì„ ë°›ì•„ ë–¨ì–´ì§€ê²Œ ëœë‹¤.
    - ìƒì„±í•œ ì•„ì´í…œì˜ Collider ë¥¼ êº¼ì¤€ë‹¤.
      - í”Œë ˆì´ì–´ì˜ ì†ê³¼ ì¶©ëŒí•˜ì—¬ íŠ•ê²¨ë‚˜ê°€ì§€ ì•Šê³  ì†ì— ì–Œì „íˆ ë¶™ì–´ìˆë„ë¡
    - ì†ì— ë“¤ê³  ìˆì„ ì•„ì´í…œì€ íšë“ì´ ì•ˆë˜ë„ë¡ `Item`ìœ¼ë¡œ ë˜ì–´ ìˆë˜ íƒœê·¸, ë ˆì´ì–´ë¥¼ ë°”ê¾¼ë‹¤.
      - ìƒì„±í•œ ì•„ì´í…œì˜ íƒœê·¸ë¥¼ "Untagged" ë¡œ ë°”ê¾¼ë‹¤.
      - ìƒì„±í•œ ì•„ì´í…œì˜ ë ˆì´ì–´ë¥¼ "Weapon"ìœ¼ë¡œ ë°”ê¾¼ë‹¤. ë ˆì´ì–´ëŠ” int ì´ë¯€ë¡œ "Weapon"ì— í•´ë‹¹í•˜ëŠ” ì •ìˆ˜ë¡œ í• ë‹¹
        - `Weapon Camera`ì— ë Œë”ë§ ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ë©”ì¸ ì¹´ë©”ë¼ë³´ë‹¤ ê¹Šì´ê°€ ìš°ì„ ë˜ì–´ ë Œë”ë§ ë˜ëŠ” ì¹´ë©”ë¼ì´ë¯€ë¡œ ì† ìœ„ì— ì•„ì´í…œì´ ê·¸ë ¤ì§ˆ ê²ƒì´ë‹¤. 
    - ìƒì„±í•œ ì•„ì´í…œì˜ ë¶€ëª¨ë¥¼ ì˜¤ë¥¸ì† ë ìœ„ì¹˜ ì˜¤ë¸Œì íŠ¸ë¡œ.
      


![image](https://user-images.githubusercontent.com/42318591/95269188-d869b680-0873-11eb-9b92-53d431bfcda2.png)

`tf_ItemPos`ì— ì˜¤ë¥¸ ì† ë ì˜¤ë¸Œì íŠ¸ì˜€ë˜ `ItemPos` í• ë‹¹

![image](https://user-images.githubusercontent.com/42318591/95269351-31d1e580-0874-11eb-9775-692a43a2dee3.png)

<br>

## ğŸš– í™œì„±í™” í€µìŠ¬ë¡¯ ì•„ì´í…œ ì†Œë¹„í•˜ê¸°

### ë¨¹ëŠ” ì• ë‹ˆë©”ì´ì…˜

![image](https://user-images.githubusercontent.com/42318591/95278421-1a522700-088b-11eb-8ebb-c904ba54e36a.png)

- `Any State` ğŸ‘‰ `Hand_Item`
  - `Item` íŠ¸ë¦¬ê±° íŒŒë¼ë¯¸í„°ê°€ ë°œë™ë  ë•Œ
  - Has Exit Time í•´ì œ
- `Hand_Item` ğŸ‘‰ `Hand_Idle` 
  - Has Exit Time ì²´í¬
  - Exit Time 1
    - ëê¹Œì§€ ë‹¤ ì¬ìƒë˜ë©´ ì •ì§€ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ 

<br>

### ğŸ“œQuickSlotController.cs

```c#
    [SerializeField]
    private ItemEffectDatabase theItemEffectDatabase;

    public void EatItem()
    {
        theItemEffectDatabase.UseItem(quickSlots[selectedSlot].item);
        quickSlots[selectedSlot].SetSlotCount(-1);

        if (quickSlots[selectedSlot].itemCount <= 0)
            Destroy(go_HandItem);
    }
```
 

- *EatItem()* ğŸ‘‰ ì•„ì´í…œ ì†Œë¹„. ğŸ“œHandController.cs ì—ì„œ ì¸ë²¤í† ë¦¬ ì•ˆì¼œì ¸ ìˆê³  ê·¸ëƒ¥ ìš°í´í•  ë•Œ í˜¸ì¶œëœë‹¤. **í™œì„±í™” í€µìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œì´ ë°”ë¡œ ì†Œë¹„ë  ìˆ˜ ìˆë„ë¡.** 
  - ì‹¤ì œë¡œ ì†Œë¹„í•˜ëŠ” ì²˜ë¦¬ (ìŠ¤íƒœë¯¸ë‚˜, ë°°ê³ í”” ì¦ê°€ ë“±ë“± ì´ëŸ° ì²˜ë¦¬) 
    - ğŸ“œItemEffectDatabase.cs ì˜ *UseItem* í•¨ìˆ˜ì— í€µìŠ¬ë¡¯ ì•„ì´í…œ ë„˜ê²¨ ì¤Œ 
      - ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì¸ë° ì¶”ê°€í•´ë³´ì•˜ë‹¤. 
      - ì‹¤ì œë¡œ ì•„ì´í…œì„ ë¨¹ëŠ” ì²˜ë¦¬ê°€ ì´ë£¨ì–´ ì ¸ì•¼ í•˜ë¯€ë¡œ
  - ìŠ¬ë¡¯ì—ì„œ ê°¯ìˆ˜ 1 ì°¨ê°
  - ìŠ¬ë¡¯ ì•„ì´í…œ ê°¯ìˆ˜ê°€ 0 ì´í•˜ë©´ 
    - ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œ íŒŒê´´

![image](https://user-images.githubusercontent.com/42318591/95281284-bb43e080-0891-11eb-9655-65662dc3c399.png)

<br>

### ğŸ“œSlot.cs

```c#
    public void OnPointerClick(PointerEventData eventData)
    {
        if(eventData.button == PointerEventData.InputButton.Right)
        {
            if (item != null)
            {
                theItemEffectDatabase.UseItem(item);

                if(item.itemType == Item.ItemType.Used)
                    SetSlotCount(-1);
            }
        }
    }

    public void SetSlotCount(int _count)
    {
        itemCount += _count;
        text_Count.text = itemCount.ToString();

        if (itemCount <= 0)
        {
            ClearSlot();
            if (isQuickSlot)
                if (QuickSlotController.go_HandItem != null)
                    if (QuickSlotController.go_HandItem.GetComponent<ItemPickUp>().item.itemType == Item.ItemType.Used)
                        Destroy(QuickSlotController.go_HandItem);
        }     
    }
```

> ì•„ì´í…œ 'ìŠ¬ë¡¯'ì—ë‹¤ê°€ ìš°í´ë¦­ í•˜ì—¬ ì†Œë¹„í•  ë•Œ (í™œì„±í™” í€µìŠ¬ë¡¯ ë§ê³  ê·¸ëƒ¥ ì¸ë²¤í† ë¦¬ì—ì„œë“  ì–´ë””ì„œë“ )

- ì•„ì´í…œ ê°¯ìˆ˜ê°€ 0 ì´í•˜ì— ë„ë‹¬í–ˆì„ ë•Œ 
  - ë§Œì•½ ìš°í´ë¦­ í•œ ìŠ¬ë¡¯ì´ í€µìŠ¬ë¡¯ì´ì—ˆë‹¤ë©´!! ê²Œë‹¤ê°€ ì•„ì´í…œë„ ë“¤ê³  ìˆëŠ” ìƒíƒœì´ë©° ì‹¬ì§€ì–´ í¬ì…˜ ê°™ì€ ì•„ì´í…œì´ë¼ë©´!  
    - ì†ì— ë“  ì•„ì´í…œë„ íŒŒê´´í•´ ì£¼ì–´ì•¼ í•œë‹¤.

ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì¸ë° ì¶”ê°€í•´ë³´ì•˜ë‹¤. í™œì„±í™” í€µìŠ¬ë¡¯ì„ ì§ì ‘ ìŠ¬ë¡¯ì—ë‹¤ê°€ ìš°í´ë¦­ìœ¼ë¡œ ë‹¤ ì†Œë¹„í•  ë• ì†ì— ë“  ì•„ì´í…œì´ íŒŒê´´ë˜ì§€ ì•Šê¸¸ë˜

<br>

### ğŸ“œHandController.cs

```c#
    [SerializeField]
    private QuickSlotController theQuickSlotController;

    void Update()
    {
        if (isActivate && !Inventory.invectoryActivated)
        {
            if (QuickSlotController.go_HandItem == null)
                TryAttack();
            else
                TryEating();
        }         
    }

    private void TryEating()
    {
        if (Input.GetButtonDown("Fire2"))
        {
            currentCloseWeapon.anim.SetTrigger("Eat");
            theQuickSlotController.EatItem();
        }
    }
```

> ì¸ë²¤í† ë¦¬ ì•ˆì¼œì§„ ìƒíƒœ + ê·¸ëƒ¥ ì•„ì´í…œ ë“¤ê³  ìˆëŠ” ìƒíƒœì—ì„œ ì•„ì´í…œì„ ì†Œë¹„í•˜ë ¤ë©´

- ë§¨ì† ìƒíƒœì—ì„œ ì¢Œí´ë¦­ - ê³µê²©
- ì•„ì´í…œ ë“¤ê³  ìˆëŠ” ë§¨ì† ì‚°íƒœì—ì„œ ìš°í´ë¦­ - ì•„ì´í…œ ë¨¹ê¸°
  - ì•„ë¬´ê²ƒë„ ì•ˆë“¤ê³  ìˆë‹¤ë©´ ë§¨ì† ê³µê²©
- **ë§¨ì†ì¸ ìƒíƒœê³  ì¸ë²¤í† ë¦¬ê°€ í™œì„±í™” ë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ**
  - ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œì´ ì—†ë‹¤ë©´ ê³µê²©ì„ í•  ìˆ˜ ìˆëŠ” ìƒíƒœë‹¤. (ì¢Œí´ë¦­ ê°ì§€)
  - ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œì´ ìˆë‹¤ë©´ ì•„ì´í…œ ì†Œë¹„ë¥¼ í•  ìˆ˜ ìˆëŠ” ìƒíƒœë‹¤.(ìš°í´ë¦­ ê°ì§€)
    - *TryEating()*
      - ë§ˆìš°ìŠ¤ ìš°í´ë¦­ì´ ë“¤ì–´ì˜¨ë‹¤ë©´ 
        - ì•„ì´í…œ ë¨¹ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ í›„ 
        - *EatItem()* ì•„ì´í…œ ê°¯ìˆ˜ 1 ì°¨ê° í›„ 0 ì— ë„ë‹¬í–ˆë‹¤ë©´ ì•„ì´í…œ íŒŒê´´

![image](https://user-images.githubusercontent.com/42318591/95272026-529d3980-087a-11eb-95cd-1737177086db.png)


<br>

### ğŸ“œWeaponManager.cs

```c#
    private void CancelPreWeaponAction()
    {
        switch(currentWeaponType)
        {
            case "GUN":
                theGunController.CancelFineSight();
                theGunController.CancelReload();
                GunController.isActivate = false;
                break;
            case "HAND":
                HandController.isActivate = false;
                if (QuickSlotController.go_HandItem != null)
                    Destroy(QuickSlotController.go_HandItem);
                break;
            case "AXE":
                AxeController.isActivate = false;
                break;
            case "PICKAXE":
                PickaxeController.isActivate = false;
                break;
        }
    }
```

> ë§¨ì†ì¸ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ë¬´ê¸°ë¡œ ë°”ê¾¼ë‹¤ë©´ (ë§¨ì† ğŸ‘‰ ë§¨ì† ë„ í¬í•¨)

- ì•„ì´í…œì„ ë“¤ê³  ìˆëŠ” ë§¨ì†ì¸ ìƒíƒœì—ì„œ ê·¸ëƒ¥ ë§¨ì†ì´ë“  ì´ì´ë“  ë‹¤ë¥¸ ë¬´ê¸°ë¡œ êµì²´í•˜ë ¤ë©´ í˜„ì¬ ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œë§Œ íŒŒê´´í•œë‹¤.

<br>

### ğŸ“œInputNumber.cs

```c#
    IEnumerator DropItemCorountine(int _num)
    {
        for (int i = 0; i < _num; i++)
        {
            if(DragSlot.instance.dragSlot.item.itemPrefab != null)
            {
                Instantiate(DragSlot.instance.dragSlot.item.itemPrefab,
                            thePlayer.transform.position + thePlayer.transform.forward,
                            Quaternion.identity);
            }
            DragSlot.instance.dragSlot.SetSlotCount(-1);
            yield return new WaitForSeconds(0.05f);
        }

        if (int.Parse(text_Preview.text) == _num)  // ëª¨ë‘ ë²„ë¦¬ëŠ”ê±°ë©´
            if (QuickSlotController.go_HandItem != null)  // ì†ì— ì•„ì´í…œ ë“¤ê³  ìˆë‹¤ë©´
                Destroy(QuickSlotController.go_HandItem);

        DragSlot.instance.dragSlot = null;
        go_Base.SetActive(false);
        activated = false;
    }
```
```c#
        if (int.Parse(text_Preview.text) == _num)  // ëª¨ë‘ ë²„ë¦¬ëŠ”ê±°ë©´
            if (QuickSlotController.go_HandItem != null)  // ì†ì— ì•„ì´í…œ ë“¤ê³  ìˆë‹¤ë©´
                Destroy(QuickSlotController.go_HandItem);
```

> ì•„ì´í…œì„ ë“œë˜ê·¸ í•˜ì—¬ ë²„ë¦´ ë•Œ ì¸í’‹ í•„ë“œ

- ë§Œì•½ ëª¨ë‘ ë²„ë¦¬ëŠ”ê±°ë©´ ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œë„ íŒŒê´´ë˜ë„ë¡
  - Placeholder ì—ëŠ” ìë™ìœ¼ë¡œ í•´ë‹¹ ì•„ì´í…œì„ ê°–ê³  ì‡ëŠ” ìµœëŒ€ ê°œìˆ˜ê°€ ë“¤ì–´ê°€ë„ë¡ í•˜ì˜€ìœ¼ë¯€ë¡œ ì…ë ¥í•œ ìˆ˜ì™€ Placeholder í…ìŠ¤íŠ¸ê°€ ê°™ë‹¤ë©´ ëª¨ë‘ ë²„ë¦¬ê² ë‹¤ëŠ” ëœ»

<br>

## ğŸš– í€µìŠ¬ë¡¯ì˜ ì¿¨íƒ€ì„

ì¿¨íƒ€ì„ì´ ì§€ë‚˜ì•¼ë§Œ ì•„ì´í…œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë„ë¡.

- ì¿¨íƒ€ì„ì„ ê°€ì§ˆ ë•Œ
  - í€µìŠ¬ë¡¯ì— ë°©ê¸ˆ ê°€ì ¸ë‹¤ ë†“ì€ ì•„ì´í…œì¼ ë•Œ
  - í•´ë‹¹ ì•„ì´í…œì„ ì‚¬ìš©í–ˆì„ ë•Œ

### ì¿¨íƒ€ì„ UI ë§Œë“¤ê¸°

![image](https://user-images.githubusercontent.com/42318591/95282601-c8ae9a00-0894-11eb-9247-d1c8302c4053.png)

![image](https://user-images.githubusercontent.com/42318591/95282642-d82de300-0894-11eb-960c-6a7f5b3b4272.png)

í€µìŠ¬ë¡¯ì˜ ìŠ¬ë¡¯ë“¤ì—ê²Œ ìì‹ìœ¼ë¡œ ì¿¨íƒ€ì„ ì´ë¯¸ì§€ `CoolTime_Image` ì˜¤ë¸Œì íŠ¸ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤. ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•œ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë‹¤.

- 8 ê°œì˜ `CoolTime_Image`ë¥¼ PosX ë¥¼ 0 ìœ¼ë¡œ í•´ì¤€ë‹¤.
  - **ìì‹ ì˜ ë¶€ëª¨ì¸ ìŠ¬ë¡¯ê³¼ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆì„ ìˆ˜ ìˆë„ë¡**
- ì¿¨íƒ€ì„ì€ 360ë„ Filled ë¡œ í‘œí˜„í•  ê²ƒì´ê¸° ë•Œë¬¸ì— 100 % ì˜ ìƒíƒœ, ì¦‰ Fill Amount ê°’ì´ 1 ì¼ ë•Œì˜ ìƒíƒœë¥¼ ì¢€ ë” ê¹Œë§Œ ìŠ¬ë¡¯ ì´ë¯¸ì§€ë¡œ í•´ì£¼ê¸° ìœ„í•˜ì—¬ `CoolTime_Image` ë“¤ì˜ ì†ŒìŠ¤ ì´ë¯¸ì§€ëŠ” ê¸°ë³¸ ìŠ¬ë¡¯ ì´ë¯¸ì§€ì— ê²€ì • ì»¬ëŸ¬ì— íˆ¬ëª…í•¨ì„ ì˜¬ë ¤ì¤€ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©í•˜ì˜€ë‹¤.
- ì´ë¯¸ì§€ íƒ€ì…ì€ Filled
  - 360ë„
  - Fill Origin ì€ Top ë¶€í„° ì‹œì‘í•˜ë„ë¡.
  - Fill Amount ê¸°ë³¸ ê°’ì€ 0 ìœ¼ë¡œ ì¼ë‹¨ í•´ë‘ê¸°.

<br>

### ğŸ“œQuickSlotController.cs

```c#
    [SerializeField] private Image[] img_CoolTime;  // í€µìŠ¬ë¡¯ ì¿¨íƒ€ì„ ì´ë¯¸ì§€ë“¤ 

    // ì¿¨íƒ€ì„ ë‚´ìš©
    [SerializeField]
    private float coolTime;  // ì •í•´ì§ ì¿¨íƒ€ì„  [SerializeField]ë¡œ ìœ ë‹ˆí‹° ì¸ìŠ¤í™í„°ì—ì„œ ê²°ì •
    private float currentCoolTime;  // coolTime ì„ ì‹œì‘ì ìœ¼ë¡œ 0 ì´ ë  ë•Œê¹Œì§€ ê°ì†Œ ì—…ëƒ
    private bool isCoolTime;  // í˜„ì¬ ì¿¨íƒ€ì„ ì¤‘ì¸ì§€

    void Update()
    {
        TryInputNumber();
        CoolTimeCalc();
    }

    private void CoolTimeReset()
    {
        currentCoolTime = coolTime;
        isCoolTime = true;
    }

    private void CoolTimeCalc()
    {
        if (isCoolTime)
        {
            currentCoolTime -= Time.deltaTime;  // 1 ì´ˆì— 1 ì”© ê°ì†Œ

            for (int i = 0; i < img_CoolTime.Length; i++)
                img_CoolTime[i].fillAmount = currentCoolTime / coolTime;

            if (currentCoolTime <= 0)
                isCoolTime = false;
        }
    }

    private void TryInputNumber()
    {
        if(!isCoolTime)
        {
            if (Input.GetKeyDown(KeyCode.Alpha1))
                ChangeSlot(0);
            else if (Input.GetKeyDown(KeyCode.Alpha2))
                ChangeSlot(1);
            else if (Input.GetKeyDown(KeyCode.Alpha3))
                ChangeSlot(2);
            else if (Input.GetKeyDown(KeyCode.Alpha4))
                ChangeSlot(3);
            else if (Input.GetKeyDown(KeyCode.Alpha5))
                ChangeSlot(4);
            else if (Input.GetKeyDown(KeyCode.Alpha6))
                ChangeSlot(5);
            else if (Input.GetKeyDown(KeyCode.Alpha7))
                ChangeSlot(6);
            else if (Input.GetKeyDown(KeyCode.Alpha8))
                ChangeSlot(7);
        }
    }

    private void Execute()
    {
        CoolTimeReset();

        if (quickSlots[selectedSlot].item != null)
        {
            if (quickSlots[selectedSlot].item.itemType == Item.ItemType.Equipment)
                StartCoroutine(theWeaponManager.ChangeWeaponCoroutine(quickSlots[selectedSlot].item.weaponType, quickSlots[selectedSlot].item.itemName));
            else if (quickSlots[selectedSlot].item.itemType == Item.ItemType.Used)
                ChangeHand(quickSlots[selectedSlot].item);
            else
                ChangeHand();
        }
        else
        {
            ChangeHand();
        }
    }

    public void EatItem()
    {
        CoolTimeReset();
        theItemEffectDatabase.UseItem(quickSlots[selectedSlot].item);
        quickSlots[selectedSlot].SetSlotCount(-1);

        if (quickSlots[selectedSlot].itemCount <= 0)
            Destroy(go_HandItem);
    }

    public bool GetIsCoolTime()
    {
        return isCoolTime;
    }
```

- *CoolTimeCalc()* ğŸ‘‰ **í˜„ì¬ ì¿¨íƒ€ì„ ìƒíƒœë¼ë©´** ë§¤ í”„ë ˆì„ë§ˆë‹¤ `currentCoolTime` ì¿¨íƒ€ì„ ì‹œê°„ ì—…ë°ì´íŠ¸
  - ì¿¨íƒ€ì„ ì¤‘ì¼ ë•Œë§Œ `isCoolTime`, ë§¤í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ ëœë‹¤.
  - `currentCoolTime`ì€ 1 í”„ë ˆì„ë‹¹ `Time.deltaTime` ì”© ì°¨ê° (= 1 ì´ˆì— 1 ì”© ì°¨ê°)
    - ì •í•´ì§„ `coolTime` ì—ì„œ ì‹œì‘í•˜ì—¬ 0 ì´ ë  ë•Œê¹Œì§€ ê°ì†Œ
      -  `coolTime` ê°’ì´ 3 ì´ë¼ë©´ `currentCoolTime`ì€ 3 ì´ˆ ë™ì•ˆ 0 ì„ í–¥í•´ ê°ì†Œí•œë‹¤.
  - í€µìŠ¬ë¡¯ ìŠ¬ë¡¯ë“¤ì˜ ì¿¨íƒ€ì„ ì´ë¯¸ì§€ì˜ Fill Amount ê°’ì„ ì—…ë°ì´íŠ¸ í•œë‹¤.
  - `currentCoolTime` ê°€ 0 ì— ë„ë‹¬í•˜ë©´ `isCoolTime`ì„ Falseë¡œ ë§Œë“¤ì–´, ë‹¤ìŒ í”„ë ˆì„ë¶€í„°ëŠ” *CoolTimeCalc()* í•¨ìˆ˜ê°€ ë” ì´ìƒ ì‹¤í–‰ ë˜ì§€ ì•ŠìŒ.
- *CoolTimeReset()* ğŸ‘‰ **ì¿¨íƒ€ì„ì„ ëŒë¦¬ê¸° ì‹œì‘í•œë‹¤!**
  - `currentCoolTime`ì„ ë‹¤ì‹œ `coolTime`ìœ¼ë¡œ ì´ˆê¸°í™”
  -  `isCoolTime`ì„ True ë¡œ ë§Œë“¬. ë‹¤ìŒ í”„ë ˆì„ ë¶€í„° *CoolTimeCalc()* í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ê²ƒ
- *GetIsCoolTime()*
  - ğŸ“œSlot.cs ì—ì„œ ë§ˆìš°ìŠ¤ ìš°í´ë¡œ ìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œ ì†Œë¹„ì‹œ ì¿¨íƒ€ì„ ì¤‘ì¸ ì•„ì´í…œì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•˜ê¸° ìœ„í•˜ì—¬ `isCoolTime`ì„ ë¦¬í„´ë°›ê¸° ìœ„í•œ í•¨ìˆ˜ 
- ì¿¨íƒ€ì„ ëŒë¦´ ë•Œ
  - *TryInputNumber()*
    - ì¿¨íƒ€ì„ ì¤‘ì´ ì•„ë‹ ë•Œë§Œ í‚¤ë³´ë“œ ë„˜ë²„ ì…ë ¥í•  ìˆ˜ ì‡ìŒ (í™œì„±í™” í€µìŠ¬ë¡¯ ë°”ê¾¸ê¸°)
  - *Execute()* 
    - í™œì„±í™” ìŠ¬ë¡¯ (ë¬´ê¸° êµì²´ í˜¹ì€ ì•„ì´í…œ) ì‚¬ìš©í•˜ê³ ë‚˜ë©´ ì¿¨íƒ€ì„ æœ‰
    - *CoolTimeReset()* ì¿¨íƒ€ì„ ëŒë¦¬ê¸°
  - *EatItem()*
    - í™œì„±í™” ìŠ¬ë¡¯ ì•„ì´í…œ ì†Œë¹„í•  ë•Œ ì¿¨íƒ€ì„ æœ‰
    - *CoolTimeReset()* ì¿¨íƒ€ì„ ëŒë¦¬ê¸°

![image](https://user-images.githubusercontent.com/42318591/95283772-8c306d80-0897-11eb-9fee-104dc3b94d05.png)

- ì¿¨íƒ€ì„ ì´ë¯¸ì§€ ë°°ì—´ í• ë‹¹
- `coolTime` ì¿¨íƒ€ì„ 3 ì´ˆë¡œ ì„¤ì •

<br>

### ğŸ“œHandController.cs

```c#
    private void TryEating()
    {
        if (Input.GetButtonDown("Fire2") && theQuickSlotController.GetIsCoolTime())
        {
            currentCloseWeapon.anim.SetTrigger("Eat");
            theQuickSlotController.EatItem();
        }
    }
```

ì¸ë²¤í† ë¦¬ í™œì„±í™” ë˜ìˆì„ ë•Œë§ê³  ê·¸ëƒ¥ ê²Œì„ ì¤‘ì— ìš°í´ë¦­ ì…ë ¥ì´ ë“¤ì–´ì˜¤ë©´ ì†ì— ë“¤ê³  ìˆëŠ” ì•„ì´í…œì„ ì†Œë¹„í•œë‹¤. ì´ë•Œ ì¿¨íƒ€ì„ ì¤‘ì´ë©´ ëª» ë¨¹ê²Œ í•˜ë„ë¡ ì¡°ê±´ì„ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

<br>

### ğŸ“œItemEffectDatabase.cs

```c#
    // ğŸ“œQuickSlotController ğŸ‘‰ ğŸ“œSlot ì§•ê²€ë‹¤ë¦¬
    public bool GetIsCoolTime()
    {
        return theQuickSlotController.GetIsCoolTime();
    }
```

ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì¸ë° ì¶”ê°€í•´ë³´ì•˜ë‹¤.  ğŸ“œSlot.cs ì—ì„œ ë§ˆìš°ìŠ¤ ìš°í´ë¡œ ìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œ ì†Œë¹„ì‹œ ì¿¨íƒ€ì„ ì¤‘ì¸ ì•„ì´í…œì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•˜ê¸° ìœ„í•˜ì—¬ ì¶”ê°€. ğŸ“œSlot.cs ì€ í”„ë¦¬íŒ¹ì´ë¯€ë¡œ ë¡œë”©ì„ ì¤„ì´ê¸° ìœ„í•˜ì—¬ ğŸ“œSlot.cs ì—ì„œ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ğŸ“œItemEffectDatabase.csì—ì„œ ì§•ê²€ ë‹¤ë¦¬ ì—­í• ë¡œ ë¡œë”©í•˜ì—¬ ê°€ì ¸ì˜¤ê³  ìˆìŒ

<br>

### ğŸ“œSlot.cs

```c#
    // ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸
    public void OnPointerClick(PointerEventData eventData)
    {
        if(eventData.button == PointerEventData.InputButton.Right)
        {
            if (item != null)
            {
                if (!isQuickSlot)  // ì¸ë²¤í† ë¦¬ ìš°í´
                {
                    theItemEffectDatabase.UseItem(item);
                    if (item.itemType == Item.ItemType.Used)
                        SetSlotCount(-1);
                } 
                else if (!theItemEffectDatabase.GetIsCoolTime())  // í€µìŠ¬ë¡¯ ìš°í´ + âœ¨ì¿¨íƒ€ì„ ì¤‘ì´ ì•„ë‹ ë•Œâœ¨
                {
                    theItemEffectDatabase.UseItem(item);
                    if (item.itemType == Item.ItemType.Used)
                        SetSlotCount(-1);
                }
            }
        }
    }
```

ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì¸ë° ì¶”ê°€í•´ë³´ì•˜ë‹¤. í€µìŠ¬ë¡¯ì— ìˆëŠ” ìŠ¬ë¡¯ì—ë‹¤ê°€ ìš°í´ì„ í–ˆì„ ë• ì¿¨íƒ€ì„ì´ ì•„ë‹ ë•Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 

<br>

## ğŸš– í€µìŠ¬ë¡¯ ON OFF

> í•„ìš”í•  ë•Œë§Œ í€µìŠ¬ë¡¯ì´ ë“±ì¥í•˜ë„ë¡

- ì¸ë²¤í† ë¦¬ í™œì„±í™” ë  ë•Œ í€µìŠ¬ë¡¯ë„ ê°™ì´ ON
- ì¸ë²¤í† ë¦¬ ë¹„í™œì„±í™” ë  ë•Œ í€µìŠ¬ë¡¯ë„ ê°™ì´ OFF
- í€µìŠ¬ë¡¯ì„ ë°”ê¿€ ë•Œ í€µìŠ¬ë¡¯ ON
- í™œì„±í™” í€µìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œ ì†Œë¹„í•  ë•Œë„ ON

### í€µìŠ¬ë¡¯ì— ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€

í¬ë¡œìŠ¤ í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ ë§Œë“¤ë˜ ê³¼ì •ê³¼ ë¹„ìŠ·. ì°¸ê³ í•˜ê¸°.

#### ì• ë‹ˆë©”ì´ì…˜ í´ë¦½

![image](https://user-images.githubusercontent.com/42318591/95286044-2e9f1f80-089d-11eb-8853-894402d51ce1.png)

`QuickSlot` ì˜¤ë¸Œì íŠ¸ì— Animator ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•œ í›„, "QuickSlotAnimController" ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í• ë‹¹í–ˆë‹¤. ê·¸ëŸ° í›„ `QuickSlot` ì˜¤ë¸Œì íŠ¸ë¥¼ í´ë¦­í•œ ìƒíƒœì—ì„œ Animation ìœˆë„ìš°ë¥¼ ì¼œì„œ  `QuickSlot` ì˜¤ë¸Œì íŠ¸ì˜ ì• ë‹ˆë©”ì´ì…˜ ìƒì„±

![image](https://user-images.githubusercontent.com/42318591/95286000-1a5b2280-089d-11eb-97b0-13bd85cd6e01.png)

- 1ï¸âƒ£ QuickSlot_Anim_Appear
  - í€µìŠ¬ë¡¯ ë‚˜íƒ€ë‚˜ê¸°
    - PosX ë¥¼ ëŒ€ì¶© 0 ìœ¼ë¡œ ë…¹í™”í•˜ê¸° (ì›ë˜ ìœ„ì¹˜ë¡œ ë…¹í™”)
- 2ï¸âƒ£ QuickSlot_Anim_Disappear
  - í€µìŠ¬ë¡¯ ì‚¬ë¼ì§€ê²Œ í•˜ê¸°
    - PosY ë¥¼ -100 ì •ë„ë¡œ ë…¹í™”í•˜ì—¬ ì‚¬ë¼ì§€ê²Œ í•˜ê¸°
- ë‘ ì• ë‹ˆë©”ì´ì…˜ íŒŒì¼ì˜ Loop Timeë¥¼ í•´ì œí•´ì¤€ë‹¤.

#### ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬

![image](https://user-images.githubusercontent.com/42318591/95286195-a53c1d00-089d-11eb-94bc-0c28e6e217a2.png)

- Bool `Appear` íŒŒë¼ë¯¸í„° ì¶”ê°€
- í€µìŠ¬ë¡¯ ì‚¬ë¼ì§€ê¸°(ë””í´íŠ¸) ğŸ‘‰ í€µìŠ¬ë¡¯ ë‚˜íƒ€ë‚˜ê¸°
  - `Appear`ê°€ True ì¼ ë•Œ
  - Has Exit Time í•´ì œ
- í€µìŠ¬ë¡¯ ë‚˜íƒ€ë‚˜ê¸° ğŸ‘‰ í€µìŠ¬ë¡¯ ì‚¬ë¼ì§€ê¸° 
  - `Appear`ê°€ False ì¼ ë•Œ
  - Has Exit Time í•´ì œ

<br>

### ğŸ“œQuickSlotController.cs

```c#
    // í€µìŠ¬ë¡¯ ë“±ì¥ ë‚´ìš©
    [SerializeField] private float appearTime;  // í€µìŠ¬ë¡¯ì´ ë‚˜íƒ€ë‚˜ëŠ” ë™ì•ˆì˜ ì‹œê°„
    private float currentAppearTime;
    private bool isAppear;

    private Animator anim;

    void Start()
    {
        quickSlots = tf_parent.GetComponentsInChildren<Slot>();
        selectedSlot = 0;
        anim = GetComponent<Animator>();
    }

    void Update()
    {
        TryInputNumber();
        CoolTimeCalc();
        AppearCalc();
    }

    private void AppearReset()
    {
        currentAppearTime = appearTime;
        isAppear = true;
        anim.SetBool("Appear", isAppear);
    }

    private void AppearCalc()
    {
        if (Inventory.invectoryActivated)  // ì¸ë²¤í† ë¦¬ ì¼œì ¸ìˆì„ ë• í€µìŠ¬ë¡¯ë„ ëŠ˜ í™œì„±í™”
            AppearReset();
        else  // ì¸ë²¤í† ë¦¬ê°€ ì¼œì ¸ ìˆì§€ ì•Šì„ë•Œë§Œ ì¿¨íƒ€ì„ ê¹ì•„ì•¼ í•¨
        {
            if (isAppear)
            {
                currentAppearTime -= Time.deltaTime; // 1ì´ˆì— 1ê°ì†Œ
                if (currentAppearTime <= 0)
                {
                    isAppear = false;
                    anim.SetBool("Appear", isAppear);
                }
            }
        }
        
    }
```

- *AppearCalc()* ğŸ‘‰ **í˜„ì¬ í€µìŠ¬ë¡¯ í™œì„±í™” ìƒíƒœë¼ë©´** ë§¤ í”„ë ˆì„ë§ˆë‹¤ `currentAppearTime` í€µìŠ¬ë¡¯ í™œì„±í™” ì‹œê°„ ì—…ë°ì´íŠ¸
  - ì¸ë²¤í† ë¦¬ê°€ í™œì„±í™” ë˜ìˆì„ ë• í€µìŠ¬ë¡¯ë„ ë‚´ë‚´ í™œì„±í™” í•˜ë„ë¡ í•œë‹¤. 
  - ì¸ë²¤í† ë¦¬ê°€ ë¹„í™œì„±í™” ìƒíƒœì¼ë• í€µìŠ¬ë¡¯ì€ `appearTime` ì‹œê°„ ë™ì•ˆë§Œ í™œì„±í™” ëœ í›„ ê·¸ ì´í›„ì—” ë¹„í™œì„±í™”
    - í€µìŠ¬ë¡¯ í™œì„±í™” ì¤‘ì¼ ë•Œë§Œ `isCoolTime`, ë§¤í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ ëœë‹¤.
      - `currentAppearTime`ì€ 1 í”„ë ˆì„ë‹¹ `Time.deltaTime` ì”© ì°¨ê° (= 1 ì´ˆì— 1 ì”© ì°¨ê°)
      - ì •í•´ì§„ `appearTime` ì—ì„œ ì‹œì‘í•˜ì—¬ 0 ì´ ë  ë•Œê¹Œì§€ ê°ì†Œ
      -  `appearTime` ê°’ì´ 3 ì´ë¼ë©´ `currentAppearTime`ì€ 3 ì´ˆ ë™ì•ˆ 0 ì„ í–¥í•´ ê°ì†Œí•œë‹¤.
  - `currentAppearTime` ê°€ 0 ì— ë„ë‹¬í•˜ë©´ 
    - `isAppearTime`ì„ Falseë¡œ ë§Œë“¤ì–´, ë‹¤ìŒ í”„ë ˆì„ë¶€í„°ëŠ” *AppearCalc()* í•¨ìˆ˜ê°€ ë” ì´ìƒ ì‹¤í–‰ ë˜ì§€ ì•ŠìŒ.
    - í€µìŠ¬ë¡¯ì´ ì‚¬ë¼ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ 
- *AppearReset()* ğŸ‘‰ **í€µìŠ¬ë¡¯ì„ í™œì„±í™” í•œë‹¤.**
  - `currentAppearTime`ì„ ë‹¤ì‹œ `isAppearTime`ìœ¼ë¡œ ì´ˆê¸°í™”
  - `isAppearTime`ì„ True ë¡œ ë§Œë“¬. ë‹¤ìŒ í”„ë ˆì„ ë¶€í„° *AppearCalc()* í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ê²ƒ
  - í€µìŠ¬ë¡¯ì´ ìƒì„±ë˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ

![image](https://user-images.githubusercontent.com/42318591/95301559-b3009b00-08bb-11eb-85e7-f1e652580971.png)

- `appearTime` 3 ìœ¼ë¡œ ì„¤ì • ğŸ‘‰ í€µìŠ¬ë¡¯ì€ ì¸ë²¤í† ë¦¬ ë¹„í™œì„± ìƒíƒœë¼ë©´ 3 ì´ˆ ìˆë‹¤ê°€ ì‚¬ë¼ì§€ê²Œ ë¨


<br>

### ğŸ“œSlot.cs

```c#
    // ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ê°€ ì‹œì‘ ëì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    public void OnBeginDrag(PointerEventData eventData)
    {
        if(item != null && Inventory.invectoryActivated)
        {
            DragSlot.instance.dragSlot = this;
            DragSlot.instance.DragSetImage(itemImage);
            DragSlot.instance.transform.position = eventData.position;
        }
    }
```

ì¸ë²¤í† ë¦¬ ìƒíƒœê°€ ì•„ë‹ ë• ìŠ¬ë¡¯ ë“œë˜ê·¸ê°€ ì•ˆë˜ê²Œ í•œë‹¤. (ì¸ë²¤í† ë¦¬ ë„ë©´ í€µìŠ¬ë¡¯ë„ ê³§ ì‚¬ë¼ì§€ë‹ˆ ì¸ë²¤í† ë¦¬ ìƒíƒœê°€ ì•„ë‹ ë•ŒëŠ” í€µìŠ¬ë¡¯ì—ì„œ ì•„ì´í…œ ë“œë˜ê·¸ ëª»í•˜ê²Œ í–ˆë‹¤.)

<br>

## ğŸš– ì•„ì´í…œ íšë“ì‹œ í€µìŠ¬ë¡¯ë¶€í„° ì±„ìš°ê¸°

ì•„ì´í…œì„ íšë“í•˜ë©´ ê¸°ë³¸ìœ¼ë¡œ ì¸ë²¤í† ë¦¬ë¡œ ê°€ê²Œ ë˜ëŠ”ë°, <u>ì•„ì´í…œì„ ë¨¹ìœ¼ë©´ í€µìŠ¬ë¡¯ì— ìš°ì„ ì ìœ¼ë¡œ</u> ì±„ì›Œì§€ë„ë¡ í•˜ì.

### ğŸ“œInventory.cs

```c#
    [SerializeField]
    private GameObject go_QuickSlotParent;  // í€µìŠ¬ë¡¯ ì˜ì—­

    private Slot[] slots;  // ì¸ë²¤í† ë¦¬ ìŠ¬ë¡¯ë“¤
    private Slot[] quickSlots; // í€µìŠ¬ë¡¯ì˜ ìŠ¬ë¡¯ë“¤
    private bool isNotPut;

    void Start()
    {
        slots = go_SlotsParent.GetComponentsInChildren<Slot>();
        quickSlots = go_QuickSlotParent.GetComponentsInChildren<Slot>();
    }

    public void AcquireItem(Item _item, int _count = 1)
    {
        PutSlot(quickSlots, _item, _count);
        if (isNotPut)
            PutSlot(slots, _item, _count);

        if (isNotPut)
        {
            Debug.Log("ì•„ì´í…œì´ ê½‰ ì°¼ìŠµë‹ˆë‹¤.");
        }
            
    }

    private void PutSlot(Slot[] _slots, Item _item, int _count)
    {
        if (Item.ItemType.Equipment != _item.itemType)
        {
            for (int i = 0; i < _slots.Length; i++)
            {
                if (_slots[i].item != null)
                {
                    if (_slots[i].item.itemName == _item.itemName)
                    {
                        _slots[i].SetSlotCount(_count);
                        isNotPut = false;
                        return;
                    }
                }
            }
        }

        for (int i = 0; i < _slots.Length; i++)
        {
            if (_slots[i].item == null)
            {
                _slots[i].AddItem(_item, _count);
                isNotPut = false;
                return;
            }
        }

        isNotPut = true;
    }
```

- `isNotPut` ì•„ì´í…œì„ ìŠ¬ë¡¯ì— ë„£ì—ˆë‹¤ë©´ True, ëª» ë„£ì—ˆë‹¤ë©´ False.
- `slots` ì¸ë²¤í† ë¦¬ ìŠ¬ë¡¯ë“¤, `quickSlots` í€µìŠ¬ë¡¯ì˜ ìŠ¬ë¡¯ë“¤.
- *PutSlot(Slot[] _slots, Item _item, int _count)*
  - **Slot** íƒ€ì…ì˜ ë°°ì—´ (`slots`, `quickSlots` ë°›ì„ ìˆ˜ ìˆìŒ) ì¤‘ì—ì„œ ì•„ì´í…œì„ ë„£ì„ ìˆ˜ ìˆëŠ” ìŠ¬ë¡¯ì„ ì°¾ì•„ ë„£ëŠ”ë‹¤. 
  - ì•„ì´í…œ ë„£ì„ ìŠ¬ë¡¯ì„ ì°¾ì„ ë•Œë§ˆë‹¤ `isNotPut`ì„ Falseë¡œ í•˜ê³  ëëƒ„. ì•„ì´í…œ ë„£ì„ ìŠ¬ë¡¯ì„ ëª» ì°¾ì•˜ë‹¤ë©´ ìµœì¢…ì ìœ¼ë¡œ `isNotPut`ì´ Trueê°€ ë¨.
- *AcquireItem(Item _item, int _count = 1)*
  - <u>ìš°ì„  í€µìŠ¬ë¡¯ì˜ ìŠ¬ë¡¯ë“¤ì—ê²Œ ë„£ê¸° ì‹œë„</u>
    - `quickSlots`ì„ *PutSlot* ì— ë„˜ê¹€
  - í€µìŠ¬ë¡¯ì— ëª» ë„£ì—ˆë‹¤ë©´ ì¸ë²¤í† ë¦¬ì— ë„£ê¸° ì‹œë„
    - `slots`ì„ *PutSlot* ì— ë„˜ê¹€
  - ë‘˜ ë‹¤ ëª» ë„£ì—ˆë‹¤ë©´, ì¦‰ ì•„ì§ë„ `isNotPut`ê°€ trueë¼ë©´ ì¸ë²¤í† ë¦¬, í€µìŠ¬ë¡¯ ë‘˜ ë‹¤ ê½‰ì°¨ì„œ ë„£ì„ ìˆ˜ ì—†ëŠ” ìƒíƒœ

![image](https://user-images.githubusercontent.com/42318591/95305579-1f31cd80-08c1-11eb-9d1a-227c55a2d052.png)

`go_QuickSlotParent`ì— í€µìŠ¬ë¡¯ ì˜ì—­ì¸ `Contents` í• ë‹¹.

<br>

## ğŸš– ì•„ì´í…œì„ ê½‰ ì°¨ì„œ ë¨¹ì„ ìˆ˜ê°€ ì—†ë‹¤ë©´ 

ê°•ì˜ì—ì„  ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì¸ë° ì¶”ê°€í•´ë³´ì•˜ë‹¤. 

> ì¸ë²¤í† ë¦¬, í€µìŠ¬ë¡¯ ë‘˜ ë‹¤ ê½‰ì°¨ì„œ ë„£ì„ ìˆ˜ ì—†ë‹¤ë©´ ì•„ì´í…œì„ ë¨¹ì„ ìˆ˜ ì—†ë‹¤ëŠ” í…ìŠ¤íŠ¸ ë„ìš°ê¸°.

### ğŸ“œActionController.cs

ë¨¹ì„ ìˆ˜ ìˆëŠ” ì•„ì´í…œ í…ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” ê³³ì´ ì—¬ê¸°ì˜€ê¸° ë•Œë¬¸ì— ì´ë²ˆì—ë„ ì—¬ê¸°ì„œ í…ìŠ¤íŠ¸ ì²˜ë¦¬.

```c#
    [SerializeField]
    private Text itemFullText;  // ì•„ì´í…œì´ ê½‰ ì°¼ë‹¤ëŠ” ê²½ê³  ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ í…ìŠ¤íŠ¸

    public IEnumerator WhenInventoryIsFull()
    {
        itemFullText.gameObject.SetActive(true);
        itemFullText.text = "ì•„ì´í…œì´ ê½‰ ì°¼ìŠµë‹ˆë‹¤.";

        yield return new WaitForSeconds(3.0f);  // 3 ì´ˆ í›„ ë©”ì„¸ì§€ëŠ” ì‚¬ë¼ì§. ë©”ì„¸ì§€ëŠ” 3 ì´ˆë§Œ ë„ì›€.
        itemFullText.gameObject.SetActive(false);
    }
```

 ì•„ì´í…œì´ ê½‰ ì°¼ë‹¤ëŠ” ê²½ê³  ë©”ì„¸ì§€ë¡œ ì“¸ í…ìŠ¤íŠ¸ UI ë¥¼ ì¶”ê°€í•˜ê³  í•´ë‹¹ í…ìŠ¤íŠ¸ë¥¼ `itemFullText`ì— í• ë‹¹. *WhenInventoryIsFull()* í•¨ìˆ˜ê°€ í™œì„±í™” ë  ë•Œ ì´ í…ìŠ¤íŠ¸ë¥¼ í™œì„±í™” í•˜ê³  "ì•„ì´í…œì´ ê½‰ ì°¼ìŠµë‹ˆë‹¤." ë©”ì„¸ì§€ë¥¼ ë”± 3 ì´ˆ ë™ì•ˆë§Œ ë„ìš° ë¹„í™œí•œë‹¤.

![image](https://user-images.githubusercontent.com/42318591/95306836-db3fc800-08c2-11eb-85f0-3cb2f9d8138a.png)


<br>

### ğŸ“œInventory.cs

```c#
    private bool isFull = false;  // ì¸ë²¤í† ë¦¬ í€µìŠ¬ë¡¯ ëª¨ë‘ ê½‰ ì°¼ëŠ”ì§€

    [SerializeField]
    private ActionController theActionController;

    public void AcquireItem(Item _item, int _count = 1)
    {
        PutSlot(quickSlots, _item, _count);
        if (isNotPut)
            PutSlot(slots, _item, _count);

        if (isNotPut)
        {
            isFull = true;
            StartCoroutine(theActionController.WhenInventoryIsFull());
        }      
    }

    public bool GetIsFull()
    {
        return isFull;
    }

    public void SetIsFull(bool _flag)
    {
        isFull = _flag;
    }
```

- ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì¸ë²¤í† ë¦¬, í€µìŠ¬ë¡¯ ë‘˜ë‹¤ ê½‰ì°¼ëŠ”ì§€ ì•Œ ìˆ˜ ìˆê²Œ `isFull` ë©¤ë²„ ì¶”ê°€ (ì ‘ê·¼ í•¨ìˆ˜ê¹Œì§€)
- ì¸ë²¤í† ë¦¬, í€µìŠ¬ë¡¯ ë‘˜ ë‹¤ ê½‰ì°¨ë©´ 
  - `isFull` Trueë¡œ ì—…ëƒ
  - ğŸ“œActionController.cs ì˜ *WhenInventoryIsFull()* í•¨ìˆ˜ ì‹¤í–‰í•˜ì—¬ í…ìŠ¤íŠ¸ ë„ì›€

<br>

### ğŸ“œItemEffectDatabase.cs

```c#
    [SerializeField]
    private Inventory theInventory;

    // ğŸ“œInventory ğŸ‘‰ ğŸ“œSlot ì§•ê²€ë‹¤ë¦¬
    public bool GetIsFull()
    {
        return theInventory.GetIsFull();
    }

    // ğŸ“œInventory ğŸ‘‰ ğŸ“œSlot ì§•ê²€ë‹¤ë¦¬
    public void SetIsFull(bool _flag)
    {
        theInventory.SetIsFull(_flag);
    }
```

ğŸ“œSlot.cs ì§•ê²€ ë‹¤ë¦¬

![image](https://user-images.githubusercontent.com/42318591/95307477-a41de680-08c3-11eb-99c7-18d40c405391.png)


<br>

### ğŸ“œSlot.cs

```c#
    // í•´ë‹¹ ìŠ¬ë¡¯ì˜ ì•„ì´í…œ ê°¯ìˆ˜ ì—…ë°ì´íŠ¸
    public void SetSlotCount(int _count)
    {
        itemCount += _count;
        text_Count.text = itemCount.ToString();

        if (_count < 0)
        {
            if (theItemEffectDatabase.GetIsFull())
                theItemEffectDatabase.SetIsFull(false);
        }

        if (itemCount <= 0)
        {
            ClearSlot();
            if (isQuickSlot)
                if (QuickSlotController.go_HandItem != null)
                    if (QuickSlotController.go_HandItem.GetComponent<ItemPickUp>().item.itemType == Item.ItemType.Used)
                        Destroy(QuickSlotController.go_HandItem);
        }
    }

    // í•´ë‹¹ ìŠ¬ë¡¯ í•˜ë‚˜ ì‚­ì œ
    private void ClearSlot()
    {
        item = null;
        itemCount = 0;
        itemImage.sprite = null;
        SetColor(0);

        text_Count.text = "0";
        go_CountImage.SetActive(false);

        if (theItemEffectDatabase.GetIsFull())
            theItemEffectDatabase.SetIsFull(false);
    }
```
```c#
if (theItemEffectDatabase.GetIsFull())
    theItemEffectDatabase.SetIsFull(false);
```

ìŠ¬ë¡¯ì´ í•˜ë‚˜ ë¹„ê±°ë‚˜ ì•„ì´í…œ ê°¯ìˆ˜ê°€ ì¤„ì–´ë“¤ë©´ ğŸ“œInventory.cs ì˜ `isFull`ì„ False ë¡œ.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}