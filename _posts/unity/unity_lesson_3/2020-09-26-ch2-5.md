---
title:  "Chapter 2-5. ë¬´ê¸° : í¬ë¡œìŠ¤í—¤ì–´" 

categories:
  -  Unity Lesson 3 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-09-26
last_modified_at: 2020-09-26
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì¼€ì´ë””ë‹˜ì˜ **[ìœ ë‹ˆí‹° 3D] ì‹¤ì „! ìƒì¡´ê²Œì„ ë§Œë“¤ê¸° - Advanced** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click](https://www.inflearn.com/course/unity-2#)
{: .notice--warning}

<br>

# Chapter 2. ë¬´ê¸°
# í¬ë¡œìŠ¤í—¤ì–´

## ğŸš– í¬ë¡œìŠ¤í—¤ì–´ UI ë§Œë“¤ê¸°

![image](https://user-images.githubusercontent.com/42318591/94330712-ed3b8400-0001-11eb-8b5e-6da24bd9ef11.png)

![image](https://user-images.githubusercontent.com/42318591/94330727-ff1d2700-0001-11eb-8cf1-d9c8084a957c.png)

- `CrossHair` ë¹ˆ ê²Œì„ ì˜¤ë¸Œì íŠ¸. í¬ë¡œìŠ¤ í—¤ì–´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì•„ë˜ 5 ê°€ì§€ UI ìš”ì†Œë“¤ì„ ë¶€ëª¨ë¡œì„œ ë¬¶ëŠ”ë‹¤.
  - í¬ë¡œìŠ¤ í—¤ì–´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 5 ê°€ì§€ì˜ ì´ë¯¸ì§€ UI ìš”ì†Œ. ìœ„ì¹˜ë¥¼ í¬ë¡œìŠ¤í—¤ì–´ì— ë§ê²Œ ê°ê° ì„¤ì •í•´ì£¼ì—ˆë‹¤.
    - `Dot` í¬ë¡œìŠ¤ í—¤ì–´ ê°€ìš´ë° ì . í¬ê¸° 3 X 3. 
    - `Line Right` í¬ë¡œìŠ¤ í—¤ì–´ ì˜¤ë¥¸ìª½ ì„ . í¬ê¸° 20 X 3. 
    - `Line Left` í¬ë¡œìŠ¤ í—¤ì–´ ì™¼ìª½ ì„ . í¬ê¸° 20 X 3. 
    - `Line Up` í¬ë¡œìŠ¤ í—¤ì–´ ìœ„ìª½ ì„ . í¬ê¸° 3 X 20.
    - `Line Down` í¬ë¡œìŠ¤ í—¤ì–´ ì•„ë˜ìª½ ì„ . í¬ê¸° 3 X 20.

<br>

## ğŸš– í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜

- ë™ì‘ì— ë”°ë¼ í¬ë¡œìŠ¤í—¤ì–´ê°€ ë²Œì–´ì§€ê±°ë‚˜ íˆ¬ëª…í•´ì§€ëŠ” ë“±ë“± ë³€í™”ë¥¼ ì¤„ ê²ƒì´ë¼ ì• ë‹ˆë©”ì´ì…˜ì´ í•„ìš”í•˜ë‹¤.
  - ë°œì‚¬í•  ë•Œ í¬ë¡œìŠ¤ í—¤ì–´ê°€ ë²Œì–´ì§.
  - ì•‰ìœ¼ë©´ í¬ë¡œìŠ¤ í—¤ì–´ê°€ ì¢ì•„ì§. (ì •í™•ë„ Up)
  - ê±¸ìœ¼ë©´ í¬ë¡œìŠ¤ í—¤ì–´ê°€ ë„“ì–´ì§. (ì •í™•ë„ Down)
  - ë›°ë©´ í¬ë¡œìŠ¤ í—¤ì–´ê°€ ì‚¬ë¼ì§. (ì–´ì°¨í”¼ ë›¸ ë• ë°œì‚¬ ëª» í•˜ë‹ˆê¹Œ)
  - ì •ì¡°ì¤€ í•  ë• í¬ë¡œìŠ¤ í—¤ì–´ ì‚¬ë¼ì§.
- í¬ë¡œìŠ¤ í—¤ì–´ ë²Œì–´ì§€ëŠ” ì •ë„
  - ë°œì‚¬ ì¤‘ì´ ì•„ë‹ ë•Œ < ë°œì‚¬ ì¤‘ì¼ ë•Œ
    - ë°œì‚¬ ì¤‘ì¼ ë•Œ ğŸ‘‰ ì•‰ì„ ë•Œ < ì •ì§€í–ˆì„ ë•Œ < ê±¸ì„ ë•Œ
    - ë°œì‚¬ ì¤‘ì´ ì•„ë‹ ë•Œ ğŸ‘‰ ì•‰ì„ ë•Œ < ì •ì§€í–ˆì„ ë•Œ < ê±¸ì„ ë•Œ
- ë›¸ ë•Œ, ì •ì¡°ì¤€ í•  ë•ŒëŠ” í¬ë¡œìŠ¤í—¤ì–´ë¥¼ ì‚¬ë¼ì§€ê²Œ í•œë‹¤.
  

> `CrossHair`ì— Animator ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

<br>

### Animation : ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ ì§ì ‘ ë§Œë“¤ê¸° 

![image](https://user-images.githubusercontent.com/42318591/94331012-53290b00-0004-11eb-9e78-3de33989b0ca.png)

í¬ë¡œìŠ¤ í—¤ì–´ì™€ ê´€ë ¨ëœ ì• ë‹ˆë©”ì´ì…˜ì„ ë§Œë“œë ¤ëŠ”ê±°ë‹ˆê¹Œ âœ¨`CrossHair`ë¥¼ ì„ íƒí•œ ìƒíƒœì—ì„œâœ¨ Window - Animation - Animation  ì• ë‹ˆë©”ì´ì…˜ íƒ­ì„ í´ë¦­í•˜ë©´ ìœ„ì™€ ê°™ì´ `CrossHair`ì˜ ì• ë‹ˆë©”ì´ì…˜ì„ í´ë¦½ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë²„íŠ¼ì´ ëœ¬ë‹¤!


#### ë…¹í™” í•˜ëŠ” ë°©ë²•

![image](https://user-images.githubusercontent.com/42318591/94331485-c41df200-0007-11eb-9212-663a95265e09.png)

- Preview ì˜†ì— ìˆëŠ” ë¹¨ê°„ìƒ‰ ë…¹í™” ë²„íŠ¼ ğŸ”´ ì„ ëˆ„ë¥¸ ìƒíƒœë¡œ ì´ ì• ë‹ˆë©”ì´ì…˜ì´ ì ìš©ë˜ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ì˜ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸, í˜¹ì€ ìì‹ ì˜¤ë¸Œì íŠ¸ë“¤ì˜ ì„¤ì • ê°’ì— ë³€í™”ë¥¼ ì£¼ê²Œ ë˜ë©´ ê·¸ ë³€í™” ê°’ì´ ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ìœ¼ë¡œì„œ ë…¹í™”ê°€ ëœë‹¤. 
- ë…¹í™”ë§Œ í•  ë¿ í˜„ì¬ì˜ ì‹¤ì œ ì˜¤ë¸Œì íŠ¸ì˜ ë³€ê²½ ì‚¬í•­ìœ¼ë¡œ ì ìš© ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. (ì¶”í›„ì— ì§€ê¸ˆ ìƒì„±í•œ ì´ ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ì´ ì¬ìƒë  ë•Œ ì ìš© ë˜ê² ì§€!)
- ìœ„ ì‚¬ì§„ì€ ë”± 0 í”„ë ˆì„ì—ë§Œ **Key í”„ë ˆì„**ì´ ìˆìœ¼ë¯€ë¡œ ë”± 1 í”„ë ˆì„ ì§œë¦¬ì˜ ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ì„ ë§Œë“œë“  ê²ƒê³¼ ê°™ë‹¤. ë”± 0 í”„ë ˆì„ ê·¸ ìˆœê°„ì„ ë…¹í™”ëŠ” ê²ƒê³¼ ê°™ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94331513-f4fe2700-0007-11eb-8e7c-6c7b20c5096b.png)

ë…¹í™” ë²„íŠ¼ì„ ëˆ„ë¥¸ í›„ ì„¤ì • ê°’ì„ ë³€ê²½í•˜ë©´ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì™€ ê°™ì´ Pos Y ê°’ì„ -20 ìœ¼ë¡œ ì…ë ¥ í•œ ìƒíƒœë¼ë©´, ì‘ì—… ì¤‘ì¸ ì´ ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ì„ ì¬ìƒí•˜ë©´ í•´ë‹¹ í”„ë ˆì„ ë•Œ Pos Y ê°’ì´ -20 ìœ¼ë¡œ ë³€í™” í• ê±°ë¼ëŠ” ëœ»ì´ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94331516-fcbdcb80-0007-11eb-968b-c66ad41f2f13.png)

ë…¹í™” ë²„íŠ¼ì„ í•´ì œí•˜ë©´ ì• ë‹ˆë©”ì´ì…˜ í´ë¦½ìœ¼ë¡œì„œ ë™ì‘í•  ë•Œ ë³€ê²½ë  ê°’ì´ íŒŒë€ìƒ‰ìœ¼ë¡œ í‘œì‹œëœë‹¤.

#### ìƒì„±í•  í´ë¦½ ì¶”ê°€í•˜ëŠ” ë°©ë²•

![image](https://user-images.githubusercontent.com/42318591/94331184-4e188b80-0005-11eb-83ff-6e7843208547.png)

Create New Clip ìœ¼ë¡œ ë˜ ë‹¤ë¥¸ ìƒˆë¡œìš´ í´ë¦½ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

<br>

#### 1ï¸âƒ£ CrossHair_Idle í´ë¦½

> ì •ì§€ ìƒíƒœì¼ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94331534-28d94c80-0008-11eb-8adc-8536d700c1c9.png)

![image](https://user-images.githubusercontent.com/42318591/94331532-21b23e80-0008-11eb-8262-6770773a6b45.png)

- í¬ë¡œìŠ¤ í—¤ì–´ë¥¼ ì´ë£¨ëŠ” 5 ê°€ì§€ì˜ ì´ë¯¸ì§€ë“¤ì˜ ì›ë˜ ì„¤ì •í–ˆë˜ê°’ ê·¸ëŒ€ë¡œë¥¼ ë…¹í™”í–ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 2ï¸âƒ£ CrossHair_Idle_Fire í´ë¦½

> ì •ì§€ ìƒíƒœì—ì„œ ë°œì‚¬í–ˆì„ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94331809-8078b780-000a-11eb-8030-5895062938d6.png)

![image](https://user-images.githubusercontent.com/42318591/94331803-722a9b80-000a-11eb-8410-5eacbfae8a31.png)

- `Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -35, 35 ë¡œ ëŠ˜ì—ˆë‹¤.
- `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -35, 35 ë¡œ ëŠ˜ì—ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 3ï¸âƒ£ CrossHair_Crouch í´ë¦½

> ì•‰ì€ ìƒíƒœì¼ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94331913-6a1f2b80-000b-11eb-900c-8223a03152db.png)

![image](https://user-images.githubusercontent.com/42318591/94331916-73a89380-000b-11eb-88b2-66927e617fdf.png)


- `Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -15, 15 ë¡œ ì¤„ì—ˆë‹¤.
- `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -15, 15 ë¡œ ì¤„ì—ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 4ï¸âƒ£ CrossHair_Crouch_Fire í´ë¦½

> ì•‰ì€ ìƒíƒœì—ì„œ ë°œì‚¬í–ˆì„ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94331928-96d34300-000b-11eb-97ca-0434be9b29ad.png)

![image](https://user-images.githubusercontent.com/42318591/94331926-9175f880-000b-11eb-8808-00f03f20f302.png)


- `Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì´ ë°œì‚¬ + ì •ì§€ ìƒíƒœì— ë¹„í•´ -30, 30 ë¡œ ì¤„ì—ˆë‹¤.
- `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì´ ë°œì‚¬ + ì •ì§€ ìƒíƒœì— ë¹„í•´ -30, 30 ë¡œ ì¤„ì—ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 5ï¸âƒ£ CrossHair_Walk í´ë¦½

> ê±·ëŠ” ìƒíƒœì¼ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.


![image](https://user-images.githubusercontent.com/42318591/94331974-e4e84680-000b-11eb-8d39-e2531739fd19.png)


![image](https://user-images.githubusercontent.com/42318591/94331958-cd10c280-000b-11eb-89aa-c55e514a6738.png)


- `Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -25, 25 ë¡œ ëŠ˜ì—ˆë‹¤.
- `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì´ ì •ì§€ ìƒíƒœì— ë¹„í•´ -25, 25 ë¡œ ëŠ˜ì—ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 6ï¸âƒ£ CrossHair_Walk_Fire í´ë¦½

> ê±·ëŠ” ìƒíƒœì—ì„œ ë°œì‚¬ í•  ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.


![image](https://user-images.githubusercontent.com/42318591/94332023-63dd7f00-000c-11eb-9c13-517439fd86a3.png)

![image](https://user-images.githubusercontent.com/42318591/94332019-5e803480-000c-11eb-99f9-6407c509d203.png)


- `Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì´ ë°œì‚¬ + ì •ì§€ ìƒíƒœì— ë¹„í•´ -45, 45 ë¡œ ëŠ˜ì—ˆë‹¤.
- `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì´ ë°œì‚¬ + ì •ì§€ ìƒíƒœì— ë¹„í•´ -45, 45 ë¡œ ëŠ˜ì—ˆë‹¤.
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 7ï¸âƒ£ CrossHair_Run í´ë¦½

> ë›°ëŠ” ìƒíƒœì¼ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94332064-bb7bea80-000c-11eb-90ca-8a57174bfc2c.png)

![image](https://user-images.githubusercontent.com/42318591/94332061-b6b73680-000c-11eb-8ba3-3557b2375011.png)


- ìƒ‰ìƒì„ íˆ¬ëª…í•˜ê²Œ ë°”ê¿”ì£¼ì—ˆë‹¤. ë›¸ ë• ê°€ìš´ë° ì ì„ ì œì™¸í•œ 4 ê°œì˜ ì„ ì´ ë³´ì´ì§€ ì•Šë„ë¡ 4 ê°œì˜ ì´ë¯¸ì§€ UIì˜ ìƒ‰ìƒì´ íˆ¬ëª…í•´ì§€ë„ë¡ ë…¹í™”í–ˆë‹¤.
- íˆ¬ëª…í•´ì ¸ì„œ ì•ˆë³´ì´ê²Œ ë˜ê¸´ í•˜ê² ì§€ë§Œ ì¼ë‹¨`Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì„ 100ê¹Œì§€ ëŠ˜ë ¤ì£¼ì—ˆë‹¤. ë›°ë©´ í¬ë¡œìŠ¤í—¤ì–´ê°€ ëŠ˜ë ¤ì¡Œë‹¤ê°€ íˆ¬ëª…í•´ì§€ë©° ì‚¬ë¼ì§€ë„ë¡!
- íˆ¬ëª…í•´ì ¸ì„œ ì•ˆë³´ì´ê²Œ ë˜ê¸´ í•˜ê² ì§€ë§Œ ì¼ë‹¨ `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì„ 100ê¹Œì§€ ëŠ˜ë ¤ì£¼ì—ˆë‹¤. ë›°ë©´ í¬ë¡œìŠ¤í—¤ì–´ê°€ ëŠ˜ë ¤ì¡Œë‹¤ê°€ íˆ¬ëª…í•´ì§€ë©° ì‚¬ë¼ì§€ë„ë¡!
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

#### 7ï¸âƒ£ CrossHair_FineSight í´ë¦½

> ì •ì¡°ì¤€ ìƒíƒœì¼ ë•Œ í¬ë¡œìŠ¤ í—¤ì–´.

![image](https://user-images.githubusercontent.com/42318591/94332064-bb7bea80-000c-11eb-90ca-8a57174bfc2c.png)

![image](https://user-images.githubusercontent.com/42318591/94332101-0a298480-000d-11eb-8dec-fe15cffb9c9e.png)


- ìƒ‰ìƒì„ íˆ¬ëª…í•˜ê²Œ ë°”ê¿”ì£¼ì—ˆë‹¤. ì •ì¡°ì¤€í•  ë• ê°€ìš´ë° ì ì„ ì œì™¸í•œ 4 ê°œì˜ ì„ ì´ ë³´ì´ì§€ ì•Šë„ë¡ 4 ê°œì˜ ì´ë¯¸ì§€ UIì˜ ìƒ‰ìƒì´ íˆ¬ëª…í•´ì§€ë„ë¡ ë…¹í™”í–ˆë‹¤.
- íˆ¬ëª…í•´ì ¸ì„œ ì•ˆë³´ì´ê²Œ ë˜ê¸´ í•˜ê² ì§€ë§Œ ì¼ë‹¨`Line Left`, `Line Right`ì˜ ê²½ìš° Pos X ê°’ì„ 10ê¹Œì§€ ì¢í˜€ì£¼ì—ˆë‹¤. ì •ì¡°ì¤€ í•˜ë©´ í¬ë¡œìŠ¤í—¤ì–´ê°€ ì¢ì•„ì¡Œë‹¤ê°€ íˆ¬ëª…í•´ì§€ë©° ì‚¬ë¼ì§€ë„ë¡!
- íˆ¬ëª…í•´ì ¸ì„œ ì•ˆë³´ì´ê²Œ ë˜ê¸´ í•˜ê² ì§€ë§Œ ì¼ë‹¨ `Line Down`, `Line Up`ì˜ ê²½ìš° Pos Y ê°’ì„ 10ê¹Œì§€ ì¢í˜€ì£¼ì—ˆë‹¤. ì •ì¡°ì¤€ í•˜ë©´ í¬ë¡œìŠ¤í—¤ì–´ê°€ ì¢ì•„ì¡Œë‹¤ê°€ íˆ¬ëª…í•´ì§€ë©° ì‚¬ë¼ì§€ë„ë¡!
- 1 í”„ë ˆì„ ê¸¸ì´ì˜, ë”± 0 í”„ë ˆì„ ë•Œì˜ ê·¸ ìˆœê°„ë§Œ ë…¹í™”í•¨.

<br>

### ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬

"CrossHairController" ì´ë¦„ì˜ ì• ë‹ˆë©”ì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ `CrossHair`ì— Animator ì»´í¬ë„ŒíŠ¸ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œì„œ í• ë‹¹í•´ì¤€ë‹¤. 

![image](https://user-images.githubusercontent.com/42318591/94332265-a30ccf80-000e-11eb-9ec4-b6334a2effa2.png)


íŒŒë¼ë¯¸í„°ëŠ” ìœ„ì™€ ê°™ì´ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94336623-7f9e5080-001f-11eb-9fd0-b2889d3db055.png)


- `Idle` ğŸ‘‰ `Walk`, `Run`, `Crouch`, `FineSight` / `Crouch`, `Walk` ğŸ‘‰ `FineSight` / `Walk`, `Crouch` ğŸ‘‰ `Run` / `Walk` ğŸ‘‰ `Crouch`
  - ì¡°ê±´ 
    - ê°ê°ì˜ Bool íŒŒë¼ë¯¸í„° True
  - Has Exit Time í•´ì œ (íŒŒë¼ë¯¸í„°ê°€ True ë˜ë©´ ë°”ë¡œ ì‹¤í–‰ ë˜ì•¼ í•¨)
  - Translation Duration 0.2
- `Walk`, `Run`, `Crouch`, `FineSight` ğŸ‘‰ `Idle`
  - ì¡°ê±´ 
    - ê°ê°ì˜ Bool íŒŒë¼ë¯¸í„° False
  - Has Exit Time í•´ì œ (íŒŒë¼ë¯¸í„°ê°€ False ë˜ë©´ ë°”ë¡œ ì‹¤í–‰ ë˜ì•¼ í•¨)
  - Translation Duration 0.2
- `Idle`, `Walk`, `Crouch` ğŸ‘‰ `Idle_Fire`, `Walk_Fire`, `Crouch_Fire`
  - ì¡°ê±´ 
    - ê°ê°ì˜ Trigger ë°œë™
  - Has Exit Time í•´ì œ (Triggerê°€ ë°œë™ë˜ë©´ ë°”ë¡œ ì‹¤í–‰ ë˜ì•¼ í•¨)
  - Translation Duration 0.2
- `Idle_Fire`, `Walk_Fire`, `Crouch_Fire` ğŸ‘‰ `Idle`, `Walk`, `Crouch`
  - Has Exit Time ì²´í¬ 
    - ë³„ë‹¤ë¥¸ ì¡°ê±´ì´ ì—†ì´ íŠ¸ë¦¬ê±°ë¡œ ì¸í•´ í•œë²ˆ ë°œë™í–ˆìœ¼ë©´, ê·¸ëƒ¥ í•´ë‹¹ ì• ë‹ˆë©”ì´ì…˜ ëê¹Œì§€ ì¬ìƒí•˜ê³  ì „ì´
  - Exit TIme ì€ 0.01 ë¡œ ì„¤ì •
    - 1 % ë§Œ ì¬ìƒí•˜ê³  í¬ë¡œìŠ¤í—¤ì–´ê°€ í•œ ìˆœê°„ì— ì›ë˜ëŒ€ë¡œ ëŒì•„ì˜¤ê²Œë” !!
  - Translation Duration 0.1

<br>

### ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ

#### ğŸ“œCrosshair.cs

> `Canvas`ì— ë¶™ì¸ë‹¤.

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Crosshair : MonoBehaviour
{
    [SerializeField]
    private Animator animator;

    private float gunAccuracy;  // í¬ë¡œìŠ¤ í—¤ì–´ì˜ ìƒíƒœì— ë”°ë¥¸ ì´ì˜ ì •í™•ë„. ì‘ìœ¼ë©´ ì‘ì„ ìˆ˜ë¡ ì¢‹ë‹¤. ì´ì•Œì´ ë»—ì¹˜ëŠ” ì •ë„!

    [SerializeField]
    private GameObject go_CrosshairHUD;  // í¬ë¡œìŠ¤ í—¤ì–´ í™œì„±í™”/ë¹„í™œì„±í™”ë¥¼ ìœ„í•œ ë¶€ëª¨ ê°ì²´

    public void WalkingAnimation(bool _flag)
    {
        animator.SetBool("Walking", _flag);
    }

    public void RunningAnimation(bool _flag)
    {
        animator.SetBool("Running", _flag);
    }

    public void CrouchingAnimation(bool _flag)
    {
        animator.SetBool("Crouching", _flag);
    }

    public void FineSightAnimation(bool _flag)
    {
        animator.SetBool("FineSight", _flag);
    }

    public void FireAnimaion()
    {
        if(animator.GetBool("Walking"))
        {
            animator.SetTrigger("Walk_Fire");
        }
        else if(animator.GetBool("Crouching"))
        {
            animator.SetTrigger("Crouch_Fire");
        }
        else
        {
            animator.SetTrigger("Idle_Fire");
        }
    }
}

```

- `gunAccuracy`
  - í¬ë¡œìŠ¤í—¤ì–´ì— ë”°ë¥¸ ì •í™•ë„. ì´ì´ íŠ€ëŠ” ì •ë„.
  - ğŸ“œGun.cs ì˜ `accruracy` ì´ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” ì´ì˜ ì •í™•ë„ì—ì„œ ì´ ê°’ì„ ëº€ ê°’ì—ì„œ ë¶€í„° ì´ì˜ ì •í™•ë„ì—ì„œ ì´ ê°’ì„ ë”í•´ì¤€ ê°’ ë²”ìœ„ì˜ ì‚¬ì´ì—ì„œ ëœë¤í•œ ë°©í–¥ìœ¼ë¡œ Raycastë¥¼ ì  ê²ƒì´ë‹¤.  
    - ğŸ“œGunController.cs ì˜ *Hit()* ì—ì„œ !
- `go_CrosshairHUD`
  - í¬ë¡œìŠ¤ í—¤ì–´ í™œì„±í™”/ë¹„í™œì„±í™”ë¥¼ ìœ„í•œ ë¶€ëª¨ ê°ì²´
  - ë‚˜ì¤‘ì— ë‹¤ë¥¸ ì´ ì¢…ë¥˜ ë§ì•„ì§€ê³  ì´ì—ì„œ ì†ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë“±ë“± ë¬´ê¸° ë°”ê¿€ ë•Œ í•„ìš”í•¨! ì´ í¬ë¡œìŠ¤ í—¤ì–´ë¥¼ ë‚´ë¦¬ê±°ë‚˜ ë‹¤ì‹œ ì˜¬ë ¤ì•¼ í•˜ë¯€ë¡œ.
- *WalkingAnimation*
  - ì¸ìˆ˜ì— ë”°ë¼ "Walking" ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
  - ê±¸ì„ ë•Œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•˜ê±°ë‚˜ í•´ì œí•œë‹¤.
- *RunningAnimation*
  - ì¸ìˆ˜ì— ë”°ë¼ "Running" ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
  - ë‹¬ë¦´ ë•Œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•˜ê±°ë‚˜ í•´ì œí•œë‹¤.
- *CrouchingAnimation*
  - ì¸ìˆ˜ì— ë”°ë¼ "Crouching" ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
  - ì•‰ì•˜ì„ ë•Œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•˜ê±°ë‚˜ í•´ì œí•œë‹¤.
- *FineSightAnimation*
  - ì¸ìˆ˜ì— ë”°ë¼ "FineSight" ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ê°’ì„ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
  - ì •ì¡°ì¤€ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•˜ê±°ë‚˜ í•´ì œí•œë‹¤.
- *FireAnimaion()*
  - ë°œì‚¬ë¥¼ í•´ì•¼í•  ë•Œ ê±·ëŠ”ì§€ ì •ì¡°ì¤€ì¤‘ì¸ì§€ ë“±ë“±ì˜ ìƒíƒœì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒí•˜ë„ë¡ í•œë‹¤.
    - ë°œì‚¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ğŸ“œGunController.cs ì˜ *Shoot()* ì—ì„œ ì‹¤í–‰í•  ê²ƒì´ë‹¤. 
  - ë°œì‚¬í•˜ë ¤ëŠ”ë° í˜„ì¬ "Walking" íŒŒë¼ë¯¸í„° ê°’ì´ True ë¼ë©´ "Walk_Fire" íŒŒë¼ë¯¸í„°ë¥¼ ë°œë™ ì‹œí‚¨ë‹¤.
    - ê±·ê¸° + ë°œì‚¬ì‹œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ
  - ë°œì‚¬í•˜ë ¤ëŠ”ë° í˜„ì¬ "Crouching" íŒŒë¼ë¯¸í„° ê°’ì´ True ë¼ë©´ "Crouch_Fire" íŒŒë¼ë¯¸í„°ë¥¼ ë°œë™ ì‹œí‚¨ë‹¤.
    - ì•‰ê¸° + ë°œì‚¬ì‹œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ
  - ë°œì‚¬í•˜ë ¤ëŠ”ë° ë‘˜ ë‹¤ ì•„ë‹ˆë¼ë©´ "Idle" ìƒíƒœì¸ ê²ƒì´ë‹¤. "Idle" íŒŒë¼ë¯¸í„°ë¥¼ ë°œë™ ì‹œí‚¨ë‹¤.
    - ì •ì§€ + ë°œì‚¬ì‹œ í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ


<br>

#### ğŸ“œPlayerController.cs

```c#
// ì¶”ê°€ëœ ë©¤ë²„ ë³€ìˆ˜

private bool isWalk = false; 
private Vector3 lastPos;  // ì „ í”„ë ˆì„ì˜ ìœ„ì¹˜. í˜„ì¬ í”„ë ˆì„ì˜ ìœ„ì¹˜ì™€ ë¹„êµí–ˆì„ ë•Œ ë‹¬ë¼ì§€ë©´ ì›€ì§ì„ì´ ìˆì—ˆë˜ ê²ƒì´ë‹¤.
private Crosshair theCrosshair;
```
```c#
    void Start()
    {
        // ì»´í¬ë„ŒíŠ¸ í• ë‹¹
        capsuleCollider = GetComponent<CapsuleCollider>();
        myRigid = GetComponent<Rigidbody>();
        theGunController = FindObjectOfType<GunController>();
        theCrosshair = FindObjectOfType<CrossHair>();

        applySpeed = walkSpeed;
        originPosY = theCamera.transform.localPosition.y;
        applyCrouchPosY = originPosY;
    }

    void Update()  
    {
        IsGround();
        TryJump();
        TryRun();
        TryCrouch();
        Move();
        MoveCheck();
        CameraRotation();
        CharacterRotation();
    }

    private void MoveCheck()
    {
        if (!isRun && !isCrouch && isGround)
        {
            if (Vector3.Distance(lastPos, transform.position) >= 0.01f)
                isWalk = true;
            else
                isWalk = false;

            theCrosshair.WalkingAnimation(isWalk);
            lastPos = transform.position;
        }  
    }

    // ë‹¬ë¦¬ê¸°
    private void Running()
    {
        if (isCrouch)
            Crouch();

        theGunController.CancelFineSight();

        isRun = true;
        theCrosshair.RunningAnimation(isRun);
        applySpeed = runSpeed;
    }

    // ë‹¬ë¦¬ê¸° ì·¨ì†Œ
    private void RunningCancel()
    {
        isRun = false;
        theCrosshair.RunningAnimation(isRun);
        applySpeed = walkSpeed;
    }

    // ì•‰ê¸° ë™ì‘
    private void Crouch()
    {
        isCrouch = !isCrouch;
        theCrosshair.CrouchingAnimation(isCrouch);

        if (isCrouch)
        {
            applySpeed = crouchSpeed;
            applyCrouchPosY = crouchPosY;
        }
        else
        {
            applySpeed = walkSpeed;
            applyCrouchPosY = originPosY;
        }

        StartCoroutine(CrouchCoroutine());
    }

    // ì§€ë©´ ì²´í¬
    private void IsGround()
    {
        isGround = Physics.Raycast(transform.position, Vector3.down, capsuleCollider.bounds.extents.y + 0.1f);
        theCrosshair.RunningAnimation(!isGround);
    }
```

- *MoveCheck()*
  - í¬ë¡œìŠ¤í—¤ì–´ ê±·ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ í•˜ë ¤ë©´ ì§€ê¸ˆ í”Œë ˆì´ì–´ê°€ ê±·ëŠ” ì¤‘ì¸ì§€ ìƒíƒœë¥¼ ì•Œì•„ì•¼ í•œë‹¤.
    - ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ *Update()* ë‚´ì— ì¶”ê°€
  - í”Œë ˆì´ì–´ê°€ ê±·ëŠ” ì¤‘ì¸ì§€ë¥¼ ê²€ì‚¬í•˜ê³  `isWalk`ë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤.
    - ë‹¨, ê±·ëŠ” ì¤‘, ë›°ëŠ” ì¤‘, ì•‰ëŠ” ì¤‘ì´ë¼ë©´ `isWalk`ë¥¼ ì—…ë°ì´íŠ¸ í•  í•„ìš”ê°€ ì—†ë‹¤.
    - í”Œë ˆì´ì–´ê°€ ê±·ëŠ” ì¤‘ì¸ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë°©ë²•
      - ì´ì „ í”„ë ˆì„ì—ì„œ ì—…ë°ì´íŠ¸ ë˜ì—ˆë˜ `lastPos`ëŠ” ì´ì „ í”„ë ˆì„ì—ì„œì˜ ì¦‰ ê³¼ê±°ì˜ í˜„ì¬ ìœ„ì¹˜
      - í˜„ì¬ í”„ë ˆì„ì—ì„œì˜ í˜„ì¬ ìœ„ì¹˜ì™€ `lastPos`ê°€ ê°™ì€ì§€ ë¹„êµí•´ ë³´ë©´ ëœë‹¤.
        - ê°™ë‹¤ë©´ ì›€ì§ì„ì´ ì—†ì—ˆë˜ ê²ƒì´ë¯€ë¡œ `isWalk`ëŠ” Falseë‹¤.
          - ì™„ì „íˆ ê°™ë‹¤ê³  ë³´ê¸° ë³´ë‹¨ 0.01 ì •ë„ì˜ ì˜¤ì°¨ ì´ë‚´ë©´ ê°™ë‹¤ê³  ë³´ì•˜ë‹¤.
          - Vector3.Distance ëŠ” ë‘ Vector3ì˜ ì°¨ì´, ì¦‰ ê±°ë¦¬ë¥¼ ë¦¬í„´í•œë‹¤.
        - ë‹¤ë¥´ë‹¤ë©´ ì›€ì§ì„ì´ ìˆì—ˆë˜ ê²ƒì´ë¯€ë¡œ `isWalk`ëŠ” Trueë‹¤.
  - `isWalk` ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œë˜ë©´ ì´ ê°’ì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ê±·ê¸° ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒí•œë‹¤.
    - ì´ ê°’ì— ë”°ë¼ "Walking" íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•œë‹¤.
  - ë‹¤ìŒ í”„ë ˆì„ë•Œì˜ ê²€ì‚¬ë¥¼ ìœ„í•´ `lastPos`ë„ í˜„ì¬ ìœ„ì¹˜ë¡œ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤.
- *Running()*
  - `isRun`ê°’ì— ë”°ë¼ "Running" íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•œë‹¤. ê·¸ì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ë‹¬ë¦¬ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ.
  - `isRun`ì€ True 
- *RunningCancel()*
  - `isRun`ê°’ì— ë”°ë¼ "Running" íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•œë‹¤. ê·¸ì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ë‹¬ë¦¬ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ.
  - `isRun`ì€ False
- *Crouch()*
  - `isCrouch`ê°’ì— ë”°ë¼ "Crouching" íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•œë‹¤. ê·¸ì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ì•‰ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ.
- *IsGround()*
  - `isGround`ê°€ Falseë©´, ì¦‰ ì í”„ ì¤‘ì´ë©´ í¬ë¡œìŠ¤í—¤ì–´ ì•‰ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒì‹œí‚¨ë‹¤.
    - ì í”„ ì¤‘ì¼ë•Œë„ í¬ë¡œìŠ¤ í—¤ì–´ê°€ ë²Œì–´ì§€ë©´ì„œ íˆ¬ëª…í•´ì§€ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ 


<br>

#### ğŸ“œGunController.cs

```c#
// ì¶”ê°€ëœ ë©¤ë²„ ë³€ìˆ˜

private Crosshair theCrosshair;
```
```c#
    void Start()
    {
        originPos = Vector3.zero;
        audioSource = GetComponent<AudioSource>();
        theCrosshair = FindObjectOfType<Crosshair>();
    }

    private void Shoot()  // ì‹¤ì œ ë°œì‚¬ ë˜ëŠ” ê³¼ì •
    {
        theCrosshair.FireAnimaion();
        // ë°œì‚¬ ì²˜ë¦¬
        currentGun.currentBulletCount--;
        currentFireRate = currentGun.fireRate;  // ì—°ì‚¬ ì†ë„ ì¬ê³„ì‚°
        PlaySE(currentGun.fire_Sound);
        currentGun.muzzleFlash.Play();

        // í”¼ê²© ì²˜ë¦¬
        Hit();

        // ì´ê¸° ë°˜ë™ ì½”ë£¨í‹´ ì‹¤í–‰
        StopAllCoroutines();
        StartCoroutine(RetroActionCoroutine());
    }

    private void FineSight()
    {
        isFineSightMode = !isFineSightMode;
        currentGun.anim.SetBool("FineSightMode", isFineSightMode);
        theCrosshair.FineSightAnimation(isFineSightMode);

        if (isFineSightMode)
        {
            StopAllCoroutines();
            StartCoroutine(FineSightActivateCoroutine());
        }
        else
        {
            StopAllCoroutines();
            StartCoroutine(FineSightDeActivateCoroutine());
        }
    }
```

- *Shoot()*
  - ë°œì‚¬ë¥¼ í–ˆìœ¼ë‹ˆ í˜„ì¬ ìƒíƒœì— ë§ì¶° í¬ë¡œìŠ¤í—¤ì–´ ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒì‹œì¼œì£¼ëŠ” ğŸ“œCrosshair.csì˜ FireAnimaion() í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.
- *FineSight()*
  - `isFineSightModeh`ê°’ì— ë”°ë¼ "FineSight" íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•œë‹¤. ê·¸ì— ë”°ë¥¸ í¬ë¡œìŠ¤í—¤ì–´ ì •ì¡°ì¤€ ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ.

<br>

## ğŸš– í¬ë¡œìŠ¤í—¤ì–´ì— ë”°ë¥¸ ì •í™•ë„ ìˆ˜ì •

### ğŸ“œCrosshair.cs

> `Canvas`ì— ë¶™ì¸ë‹¤.

```c#
// ì¶”ê°€ëœ ë©¤ë²„ ë³€ìˆ˜

[SerializeField]
private GunController theGunController;
```
```c#
    public float GetAccuracy()
    {
        if (animator.GetBool("Walking"))
        {
            gunAccuracy = 0.06f;
        }
        else if (animator.GetBool("Crouching"))
        {
            gunAccuracy = 0.015f;
        }
        else if (theGunController.GetFineSightMode())
        {
            gunAccuracy = 0.001f;
        }
        else
        {
            gunAccuracy = 0.035f;
        }

        return gunAccuracy;
    }
```

- *GetAccuracy()*
  - ê°ê¸° ìƒíƒœì— ë”°ë¼ì´ì˜ íŠ€ëŠ” ì •ë„ì¸ `gunAccuracy` ê°’ì„ ì„¤ì •í•œ í›„ ì´ë¥¼ ë¦¬í„´í•œë‹¤. 

<br>

### ğŸ“œGunController.cs


```c#
    public bool GetFineSightMode()
    {
        return isFineSightMode;
    }

    private void Hit()
    {
        // ì¹´ë©”ë¼ ì›”ë“œ ì¢Œí‘œ!! (localPositionì´ ì•„ë‹˜)
        if (Physics.Raycast(theCam.transform.position, 
            theCam.transform.forward + 
                new Vector3(Random.Range(-theCrosshair.GetAccuracy() - currentGun.accuracy, -theCrosshair.GetAccuracy() + currentGun.accuracy),
                            Random.Range(-theCrosshair.GetAccuracy() - currentGun.accuracy, -theCrosshair.GetAccuracy() + currentGun.accuracy),
                            0), 
            out hitInfo, 
            currentGun.range))
        {
            GameObject clone = Instantiate(hitEffectPrefab, hitInfo.point, Quaternion.LookRotation(hitInfo.normal));
            Destroy(clone, 2f);
        }
    }

```

- *Hit()*
  - ë°œì‚¬ì‹œ ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ì—ì„œ Raycastë¥¼ ì´ì„œ ì¶©ëŒë˜ëŠ”ê²Œ ìˆë‹¤ë©´ ê·¸ ìœ„ì¹˜ê°€ ë°”ë¡œ í”¼ê²© ìœ„ì¹˜ë‹¤.
  - Raycastë¥¼ ë‚ ë¦¬ëŠ” ë°©í–¥
    - ì¹´ë©”ë¼ì˜ ì• ë°©í–¥(theCam.transform.forward)ìœ¼ë¡œ ë¶€í„° ì •í™•ë„ì— ë”°ë¼ ëœë¤í•œ ì˜¤ì°¨ë¥¼ ì£¼ì–´ <u>ëœë¤í•œ ë°©í–¥ìœ¼ë¡œ ì´ì´ íŠ€ê²Œë” Raycastë¥¼ ìœë‹¤.</u>
    - ì´ì€ ì¢Œìš°(Xì¶•), ìˆ˜ì§ìœ„ì•„ë˜(Yì¶•)ìœ¼ë¡œ íŠ€ë¯€ë¡œ X, Y ê°’ë§Œ ë”í•´ì¤€ë‹¤.
      - -theCrosshair.GetAccuracy() - currentGun.accuracy ë¶€í„°
      - -theCrosshair.GetAccuracy() + currentGun.accuracy ë²”ìœ„ê¹Œì§€ì˜
      - ëœë¤í•œ ê°’



![image](https://user-images.githubusercontent.com/42318591/94336662-bc6a4780-001f-11eb-895d-72a26cd61717.png)

![image](https://user-images.githubusercontent.com/42318591/94336658-b2e0df80-001f-11eb-8e0c-9b45091f32cf.png)


ì´ì˜ ì •í™•ë„ `Accuracy`ë¥¼ 0.02ë¡œ ì£¼ì—ˆë‹¤.



<br>

## ğŸš” ì—¬ê¸°ê¹Œì§€ ìŠ¤í¬ë¦½íŠ¸ ì •ë¦¬

### ğŸ“œCrosshair.cs

> `Canvas`ì— ë¶™ì¸ë‹¤.

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Crosshair : MonoBehaviour
{
    [SerializeField]
    private Animator animator;

    private float gunAccuracy;  // í¬ë¡œìŠ¤ í—¤ì–´ì˜ ìƒíƒœì— ë”°ë¥¸ ì´ì˜ ì •í™•ë„. ì‘ìœ¼ë©´ ì‘ì„ ìˆ˜ë¡ ì¢‹ë‹¤. ì´ì•Œì´ ë»—ì¹˜ëŠ” ì •ë„!

    [SerializeField]
    private GameObject go_CrosshairHUD;  // í¬ë¡œìŠ¤ í—¤ì–´ í™œì„±í™”/ë¹„í™œì„±í™”ë¥¼ ìœ„í•œ ë¶€ëª¨ ê°ì²´

    [SerializeField]
    private GunController theGunController;

    public void WalkingAnimation(bool _flag)
    {
        animator.SetBool("Walking", _flag);
    }

    public void RunningAnimation(bool _flag)
    {
        animator.SetBool("Running", _flag);
    }

    public void CrouchingAnimation(bool _flag)
    {
        animator.SetBool("Crouching", _flag);
    }

    public void FineSightAnimation(bool _flag)
    {
        animator.SetBool("FineSight", _flag);
    }

    public void FireAnimaion()
    {
        if(animator.GetBool("Walking"))
        {
            animator.SetTrigger("Walk_Fire");
        }
        else if(animator.GetBool("Crouching"))
        {
            animator.SetTrigger("Crouch_Fire");
        }
        else
        {
            animator.SetTrigger("Idle_Fire");
        }
    }

    public float GetAccuracy()
    {
        if (animator.GetBool("Walking"))
        {
            gunAccuracy = 0.06f;
        }
        else if (animator.GetBool("Crouching"))
        {
            gunAccuracy = 0.015f;
        }
        else if (theGunController.GetFineSightMode())
        {
            gunAccuracy = 0.001f;
        }
        else
        {
            gunAccuracy = 0.035f;
        }

        return gunAccuracy;
    }
}

```

<br>

### ğŸ“œPlayerController.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerController : MonoBehaviour
{
    // ìŠ¤í”¼ë“œ ì¡°ì • ë³€ìˆ˜
    [SerializeField]
    private float walkSpeed;
    [SerializeField]
    private float runSpeed;
    [SerializeField]
    private float crouchSpeed;
    private float applySpeed;

    [SerializeField]
    private float jumpForce;

    // ìƒíƒœ ë³€ìˆ˜
    private bool isWalk = false; 
    private bool isRun = false;
    private bool isGround = true;
    private bool isCrouch = false;

    // ì›€ì§ì„ ì²´í¬ ë³€ìˆ˜
    private Vector3 lastPos;  // ì „ í”„ë ˆì„ì˜ ìœ„ì¹˜. í˜„ì¬ í”„ë ˆì„ì˜ ìœ„ì¹˜ì™€ ë¹„êµí–ˆì„ ë•Œ ë‹¬ë¼ì§€ë©´ ì›€ì§ì„ì´ ìˆì—ˆë˜ ê²ƒì´ë‹¤.


    // ì•‰ì•˜ì„ ë•Œ ì–¼ë§ˆë‚˜ ì•‰ì„ì§€ ê²°ì •í•˜ëŠ” ë³€ìˆ˜
    [SerializeField]
    private float crouchPosY;
    private float originPosY;
    private float applyCrouchPosY;

    // ë¯¼ê°ë„
    [SerializeField]
    private float lookSensitivity;  

    // ì¹´ë©”ë¼ í•œê³„
    [SerializeField]
    private float cameraRotationLimit;  
    private float currentCameraRotationX; 

    // í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸
    [SerializeField]
    private Camera theCamera; 
    private Rigidbody myRigid;
    private CapsuleCollider capsuleCollider;
    private GunController theGunController;
    private Crosshair theCrosshair;

    void Start()
    {
        // ì»´í¬ë„ŒíŠ¸ í• ë‹¹
        capsuleCollider = GetComponent<CapsuleCollider>();
        myRigid = GetComponent<Rigidbody>();
        theGunController = FindObjectOfType<GunController>();
        theCrosshair = FindObjectOfType<Crosshair>();

        applySpeed = walkSpeed;
        originPosY = theCamera.transform.localPosition.y;
        applyCrouchPosY = originPosY;
    }

    void Update()  
    {
        IsGround();
        TryJump();
        TryRun();
        TryCrouch();
        Move();
        MoveCheck();
        CameraRotation();
        CharacterRotation();
    }

    // ì§€ë©´ ì²´í¬
    private void IsGround()
    {
        isGround = Physics.Raycast(transform.position, Vector3.down, capsuleCollider.bounds.extents.y + 0.1f);
        theCrosshair.RunningAnimation(!isGround);
    }

    // ì í”„ ì‹œë„
    private void TryJump()
    {
        if (Input.GetKeyDown(KeyCode.Space) && isGround)
        {
            Jump();
        }
    }

    // ì í”„
    private void Jump()
    {
        if (isCrouch)
            Crouch();

        myRigid.velocity = transform.up * jumpForce;
    }

    // ë‹¬ë¦¬ê¸° ì‹œë„
    private void TryRun()
    {
        if (Input.GetKey(KeyCode.LeftShift))
        {
            Running();
        }
        if (Input.GetKeyUp(KeyCode.LeftShift))
        {
            RunningCancel();
        }
    }

    // ë‹¬ë¦¬ê¸°
    private void Running()
    {
        if (isCrouch)
            Crouch();

        theGunController.CancelFineSight();

        isRun = true;
        theCrosshair.RunningAnimation(isRun);
        applySpeed = runSpeed;
    }

    // ë‹¬ë¦¬ê¸° ì·¨ì†Œ
    private void RunningCancel()
    {
        isRun = false;
        theCrosshair.RunningAnimation(isRun);
        applySpeed = walkSpeed;
    }

    // ì•‰ê¸° ì‹œë„
    private void TryCrouch()
    {
        if (Input.GetKeyDown(KeyCode.LeftControl))
        {
            Crouch();
        }
    }

    // ì•‰ê¸° ë™ì‘
    private void Crouch()
    {
        isCrouch = !isCrouch;
        theCrosshair.CrouchingAnimation(isCrouch);

        if (isCrouch)
        {
            applySpeed = crouchSpeed;
            applyCrouchPosY = crouchPosY;
        }
        else
        {
            applySpeed = walkSpeed;
            applyCrouchPosY = originPosY;
        }

        StartCoroutine(CrouchCoroutine());
    }

    // ë¶€ë“œëŸ¬ìš´ ì•‰ê¸° ë™ì‘
    IEnumerator CrouchCoroutine()
    {
        float _posY = theCamera.transform.localPosition.y;
        int count = 0;

        while(_posY != applyCrouchPosY)
        {
            count++;
            _posY = Mathf.Lerp(_posY, applyCrouchPosY, 0.2f);
            theCamera.transform.localPosition = new Vector3(0, _posY, 0);
            if(count > 15)
                break;
            yield return null;
        }
        theCamera.transform.localPosition = new Vector3(0, applyCrouchPosY, 0);
    }

    private void Move()
    {
        float _moveDirX = Input.GetAxisRaw("Horizontal"); 
        float _moveDirZ = Input.GetAxisRaw("Vertical"); 

        Vector3 _moveHorizontal = transform.right * _moveDirX;
        Vector3 _moveVertical = transform.forward * _moveDirZ; 

        Vector3 _velocity = (_moveHorizontal + _moveVertical).normalized * applySpeed; 

        myRigid.MovePosition(transform.position + _velocity * Time.deltaTime);
    }

    private void MoveCheck()
    {
        if (!isRun && !isCrouch && isGround)
        {
            if (Vector3.Distance(lastPos, transform.position) >= 0.01f)
                isWalk = true;
            else
                isWalk = false;

            theCrosshair.WalkingAnimation(isWalk);
            lastPos = transform.position;
        }  
    }

    private void CameraRotation() 
    {
        float _xRotation = Input.GetAxisRaw("Mouse Y"); 
        float _cameraRotationX = _xRotation * lookSensitivity;

        currentCameraRotationX -= _cameraRotationX;
        currentCameraRotationX = Mathf.Clamp(currentCameraRotationX, -cameraRotationLimit, cameraRotationLimit);

        theCamera.transform.localEulerAngles = new Vector3(currentCameraRotationX, 0f, 0f);
    }

    private void CharacterRotation()
    {
        float _yRotation = Input.GetAxisRaw("Mouse X");
        Vector3 _characterRotationY = new Vector3(0f, _yRotation, 0f) * lookSensitivity;
        myRigid.MoveRotation(myRigid.rotation * Quaternion.Euler(_characterRotationY)); 
    }
}



```

<br>

### ğŸ“œGunController.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GunController : MonoBehaviour
{
    [SerializeField]
    private Gun currentGun; // í˜„ì¬ ë“¤ê³  ìˆëŠ” ì´. ğŸ“œGun.cs ê°€ í• ë‹¹ ë¨.

    private float currentFireRate; // ì´ ê°’ì´ 0 ë³´ë‹¤ í° ë™ì•ˆì—ëŠ” ì´ì•Œì´ ë°œì‚¬ ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ˆê¸°ê°’ì€ ì—°ì‚¬ ì†ë„ì¸ ğŸ“œGun.csì˜ fireRate 

    private bool isReload = false;  // ì¬ì¥ì „ ì¤‘ì¸ì§€. 
    [HideInInspector]
    public bool isFineSightMode = false; // ì •ì¡°ì¤€ ì¤‘ì¸ì§€.

    [SerializeField]
    private Vector3 originPos;  // ì›ë˜ ì´ì˜ ìœ„ì¹˜(ì •ì¡°ì¤€ í•´ì œí•˜ë©´ ë‚˜ì¤‘ì— ëŒì•„ì™€ì•¼ í•˜ë‹ˆê¹Œ)

    private AudioSource audioSource;  // ë°œì‚¬ ì†Œë¦¬ ì¬ìƒê¸°

    private RaycastHit hitInfo;  // ì´ì•Œì˜ ì¶©ëŒ ì •ë³´

    // í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸
    [SerializeField]
    private Camera theCam;  // ì¹´ë©”ë¼ ì‹œì ì—ì„œ ì • ì¤‘ì•™ì— ë°œì‚¬í•  ê±°ë¼ì„œ
    private Crosshair theCrosshair;

    [SerializeField]
    private GameObject hitEffectPrefab;  // í”¼ê²© ì´í™íŠ¸

    void Start()
    {
        originPos = Vector3.zero;
        audioSource = GetComponent<AudioSource>();
        theCrosshair = FindObjectOfType<Crosshair>();
    }

    void Update()
    {
        GunFireRateCalc();
        TryFire();
        TryReload();
        TryFineSight();
    }

    private void GunFireRateCalc()
    {
        if (currentFireRate > 0)
            currentFireRate -= Time.deltaTime;  // ì¦‰, 1 ì´ˆì— 1 ì”© ê°ì†Œì‹œí‚¨ë‹¤.
    }

    private void TryFire()  // ë°œì‚¬ ì…ë ¥ì„ ë°›ìŒ
    {
        if(Input.GetButton("Fire1") && currentFireRate <= 0 && !isReload)
        {
            Fire();
        }
    }

    private void Fire()  // ë°œì‚¬ë¥¼ ìœ„í•œ ê³¼ì •
    {
        if (!isReload)
        {
            if (currentGun.currentBulletCount > 0)
                Shoot();
            else
            {
                CancelFineSight();
                StartCoroutine(ReloadCoroutine());
            }       
        }
    }

    private void Shoot()  // ì‹¤ì œ ë°œì‚¬ ë˜ëŠ” ê³¼ì •
    {
        theCrosshair.FireAnimaion();
        // ë°œì‚¬ ì²˜ë¦¬
        currentGun.currentBulletCount--;
        currentFireRate = currentGun.fireRate;  // ì—°ì‚¬ ì†ë„ ì¬ê³„ì‚°
        PlaySE(currentGun.fire_Sound);
        currentGun.muzzleFlash.Play();

        // í”¼ê²© ì²˜ë¦¬
        Hit();

        // ì´ê¸° ë°˜ë™ ì½”ë£¨í‹´ ì‹¤í–‰
        StopAllCoroutines();
        StartCoroutine(RetroActionCoroutine());
    }

    private void Hit()
    {
        // ì¹´ë©”ë¼ ì›”ë“œ ì¢Œí‘œ!! (localPositionì´ ì•„ë‹˜)
        if (Physics.Raycast(theCam.transform.position, 
            theCam.transform.forward + 
                new Vector3(Random.Range(-theCrosshair.GetAccuracy() - currentGun.accuracy, -theCrosshair.GetAccuracy() + currentGun.accuracy),
                            Random.Range(-theCrosshair.GetAccuracy() - currentGun.accuracy, -theCrosshair.GetAccuracy() + currentGun.accuracy),
                            0), 
            out hitInfo, 
            currentGun.range))
        {
            GameObject clone = Instantiate(hitEffectPrefab, hitInfo.point, Quaternion.LookRotation(hitInfo.normal));
            Destroy(clone, 2f);
        }
    }

    private void TryReload()
    {
        if (Input.GetKeyDown(KeyCode.R) && !isReload && currentGun.currentBulletCount < currentGun.reloadBulletCount)
        {
            CancelFineSight();
            StartCoroutine(ReloadCoroutine());
        }
    }

    IEnumerator ReloadCoroutine()
    {
        if(currentGun.carryBulletCount > 0)
        {
            isReload = true;
            currentGun.anim.SetTrigger("Reload");

            currentGun.carryBulletCount += currentGun.currentBulletCount;
            currentGun.currentBulletCount = 0;

            yield return new WaitForSeconds(currentGun.reloadTime);  // ì¬ì¥ì „ ì• ë‹ˆë©”ì´ì…˜ì´ ë‹¤ ì¬ìƒë  ë™ì•ˆ ëŒ€ê¸°

            if (currentGun.carryBulletCount >= currentGun.reloadBulletCount)
            {
                currentGun.currentBulletCount = currentGun.reloadBulletCount;
                currentGun.carryBulletCount -= currentGun.reloadBulletCount;
            }
            else
            {
                currentGun.currentBulletCount = currentGun.carryBulletCount;
                currentGun.carryBulletCount = 0;
            }

            isReload = false;
        }
        else
        {
            Debug.Log("ì†Œìœ í•œ ì´ì•Œì´ ì—†ìŠµë‹ˆë‹¤.");
        }
    }

    private void TryFineSight()
    {
        if(Input.GetButtonDown("Fire2") && !isReload)
        {
            FineSight();
        }
    }

    public void CancelFineSight()
    {
        if (isFineSightMode)
            FineSight();
    }

    private void FineSight()
    {
        isFineSightMode = !isFineSightMode;
        currentGun.anim.SetBool("FineSightMode", isFineSightMode);
        theCrosshair.FineSightAnimation(isFineSightMode);

        if (isFineSightMode)
        {
            StopAllCoroutines();
            StartCoroutine(FineSightActivateCoroutine());
        }
        else
        {
            StopAllCoroutines();
            StartCoroutine(FineSightDeActivateCoroutine());
        }
    }

    IEnumerator FineSightActivateCoroutine()
    {
        while(currentGun.transform.localPosition != currentGun.fineSightOriginPos)
        {
            currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, currentGun.fineSightOriginPos, 0.2f);
            yield return null;
        }
    }

    IEnumerator FineSightDeActivateCoroutine()
    {
        while (currentGun.transform.localPosition != originPos)
        {
            currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, originPos, 0.2f);
            yield return null;
        }
    }

    IEnumerator RetroActionCoroutine()
    {
        Vector3 recoilBack = new Vector3(currentGun.retroActionForce, originPos.y, originPos.z);     // ì •ì¡°ì¤€ ì•ˆ í–ˆì„ ë•Œì˜ ìµœëŒ€ ë°˜ë™
        Vector3 retroActionRecoilBack = new Vector3(currentGun.retroActionFineSightForce, currentGun.fineSightOriginPos.y, currentGun.fineSightOriginPos.z);  // ì •ì¡°ì¤€ í–ˆì„ ë•Œì˜ ìµœëŒ€ ë°˜ë™

        if(!isFineSightMode)  // ì •ì¡°ì¤€ì´ ì•„ë‹Œ ìƒíƒœ
        {
            currentGun.transform.localPosition = originPos;

            // ë°˜ë™ ì‹œì‘
            while(currentGun.transform.localPosition.x <= currentGun.retroActionForce - 0.02f)
            {
                currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, recoilBack, 0.4f);
                yield return null;
            }

            // ì›ìœ„ì¹˜
            while (currentGun.transform.localPosition != originPos)
            {
                currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, originPos, 0.1f);
                yield return null;
            }
        }
        else  // ì •ì¡°ì¤€ ìƒíƒœ
        {
            currentGun.transform.localPosition = currentGun.fineSightOriginPos;

            // ë°˜ë™ ì‹œì‘
            while(currentGun.transform.localPosition.x <= currentGun.retroActionFineSightForce - 0.02f)
            {
                currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, retroActionRecoilBack, 0.4f);
                yield return null;
            }

            // ì›ìœ„ì¹˜
            while (currentGun.transform.localPosition != currentGun.fineSightOriginPos)
            {
                currentGun.transform.localPosition = Vector3.Lerp(currentGun.transform.localPosition, currentGun.fineSightOriginPos, 0.1f);
                yield return null;
            }
        }
    }

    private void PlaySE(AudioClip _clip)  // ë°œì‚¬ ì†Œë¦¬ ì¬ìƒ
    {
        audioSource.clip = _clip;
        audioSource.Play();
    }

    public Gun GetGun()
    {
        return currentGun;
    }

    public bool GetFineSightMode()
    {
        return isFineSightMode;
    }
}

```

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}