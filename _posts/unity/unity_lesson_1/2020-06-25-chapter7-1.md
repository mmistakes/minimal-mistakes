---
title:  "Unity Chapter 7-1. C# í”„ë¡œê·¸ë˜ë° [ì¤‘ê¸‰] (2/2) : ë ˆì´ìºìŠ¤íŠ¸" 

categories:
  -  Unity Lesson 1 
tags:
  - [Game Engine, Unity, C Sharp]

toc: true
toc_sticky: true

date: 2020-06-25
last_modified_at: 2020-06-25
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì œë¯¼ë‹˜ì˜ **ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ [ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/%EC%9C%A0%EB%8B%88%ED%8B%B0-%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%97%90%EC%84%BC%EC%8A%A4)
{: .notice--warning}

<br>

# Chapter 7. C# í”„ë¡œê·¸ë˜ë° : ì¤‘ê¸‰ (2/2) 

<br>

## ğŸ”” ë ˆì´ìºìŠ¤íŠ¸

### ë ˆì´ìºìŠ¤íŠ¸ë€?

`ë ˆì´ìºìŠ¤íŠ¸` : ì˜¤ë¸Œì íŠ¸ì˜ ì •ì¤‘ì•™ì—ì„œ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ” ê´‘ì„ ì„ ë‚ ë ¤ì„œ íŠ¹ì • ê±°ë¦¬ ì´ë‚´ì— ì˜¤ë¸Œì íŠ¸ê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ ì¶©ëŒ ê°ì§€í•´ì£¼ëŠ” ê³¼ì •.

<br>

### ğŸ“œRayInteracion.h

> 1ì¸ì¹­ìœ¼ë¡œ í”Œë ˆì´ì–´ê°€ <u>ëˆˆ ì•ì— ì‘ì‹œí•˜ê³  ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê¸°ëŠ” ì½”ë“œ</u>ë¥¼ ì‘ì„±í•´ ë³´ì.

1. ì¹´ë©”ë¼ ì˜¤ë¸Œì íŠ¸ì˜ ì •ì¤‘ì•™ì—ì„œ ê´‘ì„ ì„ ìœë‹¤.
2. **ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ í•˜ëŠ” ë™ì•ˆ** `ë ˆì´ìºìŠ¤íŠ¸`ë¥¼ í†µí•´ ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ ë˜ëŠ” Colliderê°€ ìˆëŠ”ì§€ ê²€ì‚¬í•´ì•¼í•œë‹¤.
3. **ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ í•˜ëŠ” ë™ì•ˆ** ê´‘ì„ ì— ê°ì§€ ëœ ì˜¤ë¸Œì íŠ¸ë¥¼ ì¹´ë©”ë¼ì˜ ì‹œì•¼ë¥¼ ë”°ë¼ê°€ê²Œë” ì´ë™ì‹œí‚¨ë‹¤.

- Hierarchy
  - ë°”ë‹¥ì´ ë  `Plane`ì˜¤ë¸Œì íŠ¸
  - 1ì¸ì¹­ ì¹´ë©”ë¼ `FPSController` ì˜¤ë¸Œì íŠ¸ 
    - *FPS 1ì¸ì¹­ ì¹´ë©”ë¼ê°€ ë  í”„ë¦¬íŒ¹ `FPSController`ì„ ê°•ì˜ì—ì„œ Import ë°›ì•˜ê³  ì˜¤ë¸Œì í™”ì‹œí‚¨ í›„ ì—¬ê¸°ì— ğŸ“œRayInteracion.hì„ ë¶™ì¸ë‹¤.*
      - ì´ í”„ë¦¬íŒ¹ ì•ˆì— ìì‹ ì˜¤ë¸Œì íŠ¸ë¡œ ì¹´ë©”ë¼ê°€ ë¶™ì–´ìˆëŠ” ìƒíƒœ.
  - `Cube`ì˜¤ë¸Œì íŠ¸
    - `FPSController`ê°€ ë ˆì´ìºìŠ¤íŠ¸ë¡œ ê°ì§€í•  ëŒ€ìƒ.
    - ëŒ€ì¶© ì¹´ë©”ë¼ ì•ì— ìœ„ì¹˜ì‹œì¼œì£¼ì. 

<br>

#### Camera.ViewportToWorldPoint, Physics.Raycast

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RayInteration : MonoBehaviour
{
    private Camera playerCam;  

    public float distance = 100f; 

    void Start()
    {
        playerCam = Camera.main;  
    }

    void Update()
    {
        Vector3 rayOrigin = playerCam.ViewportToWorldPoint(new Vector3(0.5f, 0.5f, 0.0f));

        Vector3 rayDir = playerCam.transform.forward; 

        if (Input.GetMouseButtonDown(0))  
        {
            if (Physics.Raycast(rayOrigin, rayDir, distance)) 
            {
                Debug.Log("ë­”ê°€ ê´‘ì„ ì— ê±¸ë ¸ë‹¤!");
            }
        }
    }
}
```

- *private Camera `playerCam`;*
  - ì¹´ë©”ë¼ ì˜¤ë¸Œì íŠ¸
  - ê´‘ì„ ì„ ì˜ëŠ” ê³³ì´ ì¹´ë©”ë¼ë‹ˆ ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ ì•Œì•„ì•¼í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©
- *public float `distance` = 100f;*
  - ê´‘ì„ ì˜ ê¸¸ì´ë¥¼ 100ìœ¼ë¡œ ì„¤ì •
    - 100ì§œë¦¬ ê´‘ì„ ì— ë‹¿ìœ¼ë©´ ê°ì§€í•˜ê²Œ í•  ê²ƒ
- *void Start()*
  - *playerCam = Camera.main;*
    - "MainCamera" íƒœê·¸ê°€ ë¶™ì€ í˜„ì¬ í™œì„±í™” ë˜ì–´ ìˆëŠ” ì¹´ë©”ë¼.
    - `playerCam` ì€ í˜„ì¬ í™œì„±í™” ë˜ì–´ìˆëŠ” <u>ë©”ì¸ì¸ ì¹´ë©”ë¼</u>ë¡œ ì´ˆê¸°í™” ëë‹¤. 
- *void Update()*
  - *Vector3 `rayOrigin` = playerCam.<u>ViewportToWorldPoint(new Vector3(0.5f, 0.5f, 0.0f))</u>;*
    - ê´‘ì„  ë°œì‚¬ ìœ„ì¹˜
      - ì¹´ë©”ë¼ ë·°í¬íŠ¸ì˜ ì •ì¤‘ì•™ì—ì„œë¶€í„° ê´‘ì„ ì´ ë°œì‚¬ë˜ê²Œ í•  ê²ƒì´ë‹¤.
    - **Camera.<u>ViewportToWorldPoint(Vector3)</u>**
      - ì¹´ë©”ë¼ ì˜¤ë¸Œì íŠ¸ì— ë‚´ì¥ë˜ì–´ ìˆëŠ” í•¨ìˆ˜ë¡œì„œ ì¹´ë©”ë¼ê°€ ì°ê³  ìˆëŠ” í™”ë©´(ë·°í¬íŠ¸)ìƒì˜ ìœ„ì¹˜ë¥¼ Vector3ë¡œ ë„˜ê¸°ë©´ ê·¸ ìœ„ì¹˜ë¥¼ ì‹¤ì œ ê²Œì„ ì›”ë“œì˜ ìœ„ì¹˜ë¡œ ë¦¬í„´í•´ì¤€ë‹¤.
      - *new Vector3(0.5f, 0.5f, 0.0f)*
        - ì¹´ë©”ë¼ê°€ ì°ê³  ìˆëŠ” í™”ë©´ì€ (x, y) 2D ì¢Œí‘œë¥¼ ì‚¬ìš©í•˜ë©° í™”ë©´ì˜ ì¢Œì¸¡ í•˜ë‹¨ì€ (0,0)ì´ë©° í™”ë©´ì˜ ìš°ì¸¡ ìƒë‹¨ì€ (1,1)ì´ë‹¤. 
        - z ê°’ì€ ì¹´ë©”ë¼ ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° ì‹¤ì œ ì¹´ë©”ë¼ê°€ ì°ê³  ìˆëŠ” í™”ë©´ê¹Œì§€ì˜ ì‹¤ì œ ê²Œì„ ì›”ë“œ ê±°ë¦¬, ì¦‰ ì¹´ë©”ë¼ì˜ ê¹Šì´ë¥¼ ì˜ë¯¸í•œë‹¤.
        - (0.5f, 0.5f, 0.0f)ë¥¼ ë„˜ê²¨ì¤€ë‹¤ëŠ” ê²ƒì€ <u>ì¹´ë©”ë¼ í™”ë©´ì˜ ì •ì¤‘ì•™ + í™”ë©´ê³¼ ì¹´ë©”ë¼ ì˜¤ë¸Œì íŠ¸ëŠ” ìœ„ì¹˜ë¥¼ ì¼ì¹˜í•˜ê²Œ</u> ë¼ëŠ” ë“¯ì´ë‹¤.
      - *playerCam.transform.position*ì„ ì‚¬ìš©í•´ë„ ëœë‹¤.
    - **ì¹´ë©”ë¼ê°€ ì •ì¤‘ì•™ìœ¼ë¡œ ì°ê³  ìˆëŠ” í™”ë©´ìƒ ìœ„ì¹˜ì˜ ì‹¤ì œ ê²Œì„ ì›”ë“œ ìœ„ì¹˜ì—ì„œ ê´‘ì„ ì„ ë°œì‚¬í•  ê²ƒì´ë‹¤.** 
  - *Vector3 `rayDir` = playerCam.transform.forward;*
    - ë°œì‚¬ ë°©í–¥
    - ì¦‰, ì¹´ë©”ë¼ì˜ ì•ìª½ ë°©í–¥ ë²¡í„°
  - *if (Input.GetMouseButtonDown(0))*
    - ì¢Œí´ë¦­ì„ ëˆ„ë¥´ëŠ” ìˆœê°„ **ë ˆì´ìºìŠ¤íŠ¸**, ì¹´ë©”ë¼ ì¤‘ì‹¬ì—ì„œ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ” ê´‘ì„ ì„ ì´ì„œ ê´‘ì„ ì— ë‹¿ëŠ” Colliderê°€ ìˆëŠ”ì§€ ê°ì§€í•  ê²ƒì´ë‹¤.
    - *if (<u>Physics.Raycast(rayOrigin, rayDir, distance)</u>)*
      - <u>ê´‘ì„ ì„ ì˜ê³  ì´ì— ê°ì§€ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ìˆë‹¤ë©´ True ë¦¬í„´</u>
      - **<u>Physics.Raycast(rayOrigin, rayDir, distance)</u>**
        - **Raycast**ëŠ” ë¬¼ë¦¬ì— ê´€ë ¨ëœ í•¨ìˆ˜ì™€ ë°ì´í„°ë¥¼ ëª¨ì•„ë‘” ì§‘í•© Physics ì—ì„œ ì§€ì›í•œë‹¤.
        - ë§¤ê°œë³€ìˆ˜ë¡œ (ë°œì‚¬ ìœ„ì¹˜, ë°œì‚¬ ë°©í–¥, ê´‘ì„  ê±°ë¦¬)ë¥¼ ë„˜ê²¨ì¤€ë‹¤.

> ì—¬ê¸°ê¹Œì§€ í•˜ê³  ì‹¤í–‰í•˜ë©´ `Cube`ì™€ `Plane`(ë°”ë‹¥) ì˜¤ë¸Œì íŠ¸ë¥¼ ì¹´ë©”ë¼ í™”ë©´ ì •ì¤‘ì•™ì— ë‹´ê²Œë” ë°”ë¼ë³´ê³  ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ í•˜ë©´ "ë­”ê°€ ê´‘ì„ ì— ê±¸ë ¸ë‹¤!" ì½˜ì†” ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•œë‹¤.

<br>

#### Layer ì„¤ì •, Debug.drawRay

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RayInteration : MonoBehaviour
{
    
    private Camera playerCam;  

    public float distance = 100f; 

    public LayerMask whatIsTarget;  

    void Start()
    {
        playerCam = Camera.main; 
    }

    void Update()
    {
        Vector3 rayOrigin = playerCam.ViewportToWorldPoint(new Vector3(0.5f, 0.5f, 0.0f));

        Vector3 rayDir = playerCam.transform.forward; 

        Debug.DrawRay(ray.origin, ray.direction * 100f, Color.green);

        if (Input.GetMouseButtonDown(0)) 
        {
            if (Physics.Raycast(rayOrigin, rayDir, distance, whatIsTarget))
            {
                Debug.Log("ë­”ê°€ ê´‘ì„ ì— ê±¸ë ¸ë‹¤!");
            }
        }
    }
}
```

> `Plane`(ë°”ë‹¥)ì€ ê´‘ì„  ê°ì§€ ì²˜ë¦¬ ì•ˆí•˜ê³  ì‹¶ê³  `Cube`ë§Œ ê´‘ì„  ê°ì§€ë¥¼ í•˜ê³  ì‹¶ë‹¤. `Cube`ì— Layerë¥¼ ë¶™ì—¬ í•´ë‹¹ Layerë§Œ ê´‘ì„ ì— ì¶©ëŒ ê°ì§€í•˜ë„ë¡ í•˜ì.

> ê´‘ì„ ì´ ì”¬ì°½ì— ë³´ì´ê²Œí•˜ê¸° ìœ„í•´ Debug.drawRay ë¡œ ê´‘ì„ ì„ ê·¸ë ¤ì£¼ì—ˆë‹¤.

- *public LayerMask `whatIsTarget`;*
  - ì–´ë–¤ ë ˆì´ì–´ë¥¼ ê°€ì§„ Colliderë§Œ ì¶©ëŒ ì²˜ë¦¬ë¥¼ í•  ê²ƒì¸ì§€ ë ˆì´ì–´ ì„¤ì •.
  - ìš°ì„  ìƒˆë¡œìš´ Layerë¥¼ ì¶”ê°€í•´ì„œ `Cube`ì— ë¶™ì—¬ì£¼ë©´ ("Interactable"ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í–ˆë‹¤.) ìœ ë‹ˆí‹°ì—ì„œ ë“œë¡­ ë‹¤ìš´ ìŠ¬ë¡¯ì´ ì—´ë¦´í…ë° ì—¬ê¸°ì„œ `Cube`ì— ë¶™ì–´ìˆëŠ” layerë¥¼ ì„ íƒí•œë‹¤.
    - `Cube`ë§Œ ê´‘ì„ ì˜ ì¶©ëŒ ê°ì§€ì— ê±¸ë¦´ ìˆ˜ ìˆë„ë¡.
- *Debug.<u>DrawRay</u>(ray.origin, ray.direction * 100f, Color.green)*
  - ê°œë°œìê°€ ì‹œê°ì ìœ¼ë¡œ ê´‘ì„ ì„ ë³¼ ìˆ˜ ìˆë„ë¡ ê´‘ì„ ì„ ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜ë‹¤.
  - Debugì—ì„œ ì§€ì›í•¨
  - ì‹¤ì œ ê²Œì„ì—ëŠ” ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¤ì§ ê°œë°œìê°€ ì”¬ì°½ì—ì„œ ê´‘ì„ ì„ ë³¼ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ì—­í• ! 
  - ê´‘ì„ ì´ ì”¬ì°½ì—ì„œ ì´ˆë¡ìƒ‰ ì„ ìœ¼ë¡œ ê·¸ë ¤ì§€ê²Œ ëœë‹¤.

> ì´ì œ `Plane`(ë°”ë‹¥)ì„ ë°”ë¼ë³´ê³  ì¢Œí´ ëˆŒëŸ¬ë„ ì¶©ëŒ ê°ì§€ ë˜ì§€ ì•ŠëŠ”ë‹¤. `Cube`ë§Œ ì¶©ëŒ ê°ì§€ í•¨

<br>

#### RaycastHit, ê´‘ì„ ì— ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ì˜ ìƒ‰ê¹”ì„ ë°”ê¾¸ê²Œë”

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RayInteration : MonoBehaviour
{
    
    private Camera playerCam;  
    public float distance = 100f; 

    public LayerMask whatIsTarget;  

    void Start()
    {
        playerCam = Camera.main;  
    }
    void Update()
    {
        Vector3 rayOrigin = playerCam.ViewportToWorldPoint(new Vector3(0.5f, 0.5f, 0.0f));

        Vector3 rayDir = playerCam.transform.forward; 

        if (Input.GetMouseButtonDown(0))  
        {
            RaycastHit hit; 

            if (Physics.Raycast(rayOrigin, rayDir, out hit, distance, whatIsTarget))
            {
                GameObject hitTarget = hit.collider.gameObject;
                hitTarget.GetComponent<Renderer>().material.color = Color.red;

                Debug.Log(hit.collider.gameObject.name);  
            }
        }
    }
} 
```

- *<u>RaycastHit</u> `hit`;*
  - ë ˆì´ìºìŠ¤íŠ¸ë¡œë¶€í„° ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•œ íƒ€ì…ìœ¼ë¡œ
  - <u>ê´‘ì„ ì— ê°ì§€ëœ Colliderì˜ ì •ë³´ë¥¼ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ</u>ë‹¤.
    - *ë³€ìˆ˜*  RaycastHit hit ì¼ë•Œ
      - hit.normal : ê´‘ì„ ì— ê°ì§€ëœ Colliderì˜ ë…¸ë§ ë²¡í„° (ì¶©ëŒ í‘œë©´ì˜ ë°©í–¥ë²¡í„°)
      - hit.distance : ê´‘ì„  ë°œì‚¬ ìœ„ì¹˜ë¡œë¶€í„° ê´‘ì„ ì— ê°ì§€ëœ Colliderê¹Œì§€ì˜ ê±°ë¦¬
      - hit.point : ê´‘ì„ ì— ê°ì§€ëœ Colliderì˜ ì¶©ëŒ ìœ„ì¹˜ë²¡í„°
      - hit.collider : ê´‘ì„ ì— ê°ì§€ëœ Collider
- *if (Physics.Raycast(rayOrigin, rayDir, `out hit`, distance, whatIsTarget))*
  - hitì„ `out`ìœ¼ë¡œ ë„˜ê¸°ë©´ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ê°„ ê°’ì´ ë‚´ë¶€ì—ì„œ ì–´ë–¤ ê°’ì„ ì§€ì •ë°›ê³  ë¹ ì ¸ë‚˜ì˜¨ë‹¤.
  - raycastê°€ hitì„ ë°›ê²Œë˜ë©´ ì´ hitì— ì •ë³´ë“¤ì„ ì±„ì›Œì„œ ë„˜ê²¨ì¤€ë‹¤. ê·¸ëŸ° ë‹¤ìŒì— hitë¡œë¶€í„° ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
  - Physics.Raycast í•¨ìˆ˜ì˜ ì‹¤í–‰ì´ ëë‚˜ìë§ˆì `hit`ì— ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ Colliderì˜ ì •ë³´ê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤.
- *GameObject `hitTarget` = hit.collider.gameObject;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ Collider ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ `hitTarget`ì— ëŒ€ì…í•œë‹¤.
- *hitTarget.GetComponent\<Renderer>().material.color = Color.red;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ Collider ì˜¤ë¸Œì íŠ¸ì˜ ìƒ‰ê¹”ì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë°”ê¿ˆ
- *Debug.Log(hit.collider.gameObject.name);*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ Collider ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ ì¶œë ¥

> ì—¬ê¸°ê¹Œì§€ í•˜ê³  ì‹¤í–‰í•˜ë©´ ì¢Œí´ë¦­í–ˆì„ë•Œ ì¹´ë©”ë¼ ì¤‘ì•™ì— ì˜¤ë¸Œì íŠ¸ê°€ ë“¤ì–´ì˜¨ë‹¤ë©´ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ì˜ ìƒ‰ê¹”ì´ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë°”ë€ë‹¤.

<br>

#### Ray, ê´‘ì„ ì— ë‹¿ëŠ” ì˜¤ë¸Œì íŠ¸ ì¡ê³  ì´ë™ì‹œí‚¤ê¸°

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RayInteration : MonoBehaviour
{
    private Camera playerCam;  
    public float distance = 100f; 

    private Transform moveTarget; 

    private float targetDistance; 

    public LayerMask whatIsTarget;  

    void Start()
    {
        playerCam = Camera.main; 
    }

    void Update()
    {
        Ray ray = new Ray(rayOrigin, rayDir); 

        if (Input.GetMouseButtonDown(0))  
        {
            RaycastHit hit; 

            if (Physics.Raycast(ray, out hit, distance, whatIsTarget))
            {
                GameObject hitTarget = hit.collider.gameObject;
                hitTarget.GetComponent<Renderer>().material.color = Color.red;

                Debug.Log(hit.collider.gameObject.name); 
                Debug.Log("ë­”ê°€ ê´‘ì„ ì— ê±¸ë ¸ë‹¤!");

                moveTarget = hitTarget.transform;
                targetDistance = hit.distance;
            }
        }

        if(Input.GetMouseButtonUp(0)) 
        {
            if(moveTarget != null)
            {
                moveTarget.GetComponent<Renderer>().material.color = Color.white; 
            }
            moveTarget = null;
        }

        if(moveTarget != null)
        {
            moveTarget.position = ray.origin + ray.direction * targetDistance; 
        }
    }
}
```

- *private Transform `moveTarget`;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ë¥¼ Transform íƒ€ì…ìœ¼ë¡œ ì—¬ê¸°ì— ë„£ì„ ê²ƒ
- *private float `targetDistance`;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° ê´‘ì„ ì„ ë°œì‚¬í•œ ì¹´ë©”ë¼ ìœ„ì¹˜ê¹Œì§€ì˜ ê±°ë¦¬
  - ê±°ë¦¬ë¥¼ ìœ ì§€í•˜ë©´ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ì´ë™ì‹œí‚¬ê±°ë¼ì„œ í•„ìš”
- *Ray `ray` = new Ray(rayOrigin, rayDir);*
  - ë°œì‚¬ ìœ„ì¹˜ì™€ ë°œì‚¬ ë°©í–¥ì„ ë‹´ëŠ” ê´‘ì„ 
- *if (Physics.Raycast(`ray`, out hit, distance, whatIsTarget))*
  - ë°œì‚¬ìœ„ì¹˜ì™€ ë°œì‚¬ ë°©í–¥ì„ `ray`ì— ë‹´ì•„ ë„˜ê¸´ë‹¤.
- *moveTarget = hitTarget.transform;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ì˜ ìœ„ì¹˜
- *targetDistance = hit.distance;*
  - ê´‘ì„ ì— ì¶©ëŒ ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° ê´‘ì„ ì„ ë°œì‚¬í•œ ì¹´ë©”ë¼ ìœ„ì¹˜ê¹Œì§€ì˜ ê±°ë¦¬
- *if(Input.GetMouseButtonUp(0))*
  - ë§ˆìš°ìŠ¤ ì¢Œí´ì—ì„œ ì†ì„ ë–¼ìë§ˆì
  - *if(moveTarget != null)*
    - ê´‘ì„ ì— ì¶©ëŒì— ê°ì§€ë˜ì„œ *moveTarget*ì— ì €ì¥ëœê²Œ ìˆë‹¤ë©´
    - *moveTarget.GetComponent\<Renderer>().material.color = Color.white;*
      - ì›ë˜ ìƒ‰ì¸ í•˜ì–€ìƒ‰ìœ¼ë¡œ ëŒë ¤ì¤€ë‹¤. 
    - *moveTarget = null*
      - nullë¡œ ì´ˆê¸°í™”
- *if(moveTarget != null)*
  - <u>ê³„ì† ë§ˆìš°ìŠ¤ ì¢Œí´ì„ ìœ ì§€í•˜ê³  ìˆëŠ” ë™ì•ˆ</u>ì´ ë¨
  - *moveTarget.position = ray.origin + ray.direction * targetDistance;*
    - ê±°ë¦¬ë¥¼ ìœ ì§€í•œ ì±„ë¡œ ê´‘ì„ ì— ê°ì§€ëœ ì˜¤ë¸Œì íŠ¸ì˜ ìœ„ì¹˜ë¥¼ ê´‘ì„ ì˜ ìœ„ì¹˜ì—ì„œ ê´‘ì„ ì´ ì˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì˜®ê²¨ì¤€ë‹¤. 
    - ê±°ë¦¬ë¥¼ ìœ ì§€í•œ ì±„ ì¹´ë©”ë¼ê°€ ë³´ëŠ” ë°©í–¥ìœ¼ë¡œ ì´ë™ì‹œí‚¤ëŠ”ê²Œ ëœë‹¤. 


<br>

## ğŸ”” ë ˆì´ìºìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° 

- RayCastëŠ” ì£¼ë¡œ ì •í™•í•œ ë¬¼ë¦¬ì²˜ë¦¬ë¥¼ ìš”êµ¬í• ë•Œ ì‚¬ìš©í•œë‹¤.
  - OntriggerEnter OnCollisionì€ ë©”ì„¸ì§€ ê¸°ë°˜ í”„ë ˆì„ ê¸°ë°˜ ì²˜ë¦¬ê¸° ë–„ë¬¸ì— ë”± ì •í™•í• ë•Œ ì²˜ë¦¬ ëª»í•  ìˆ˜ë„ ìˆë‹¤.
  - Raycastë¡œ ì•„ë˜ì— ê´‘ì„ ì„ ì´ì„œ ë°”ë‹¥ì„ ê²€ì‚¬í•˜ëŠ” ë“±ë“±ì˜ ë°©ì‹ìœ¼ë¡œ ë” ë§ì´ ì”€
- FPSëŠ” ë ˆì´ì¼€ìŠ¤íŠ¸ë¥¼ ë§ì´ ì“´ë‹¤. ê´‘ì„ ì„ ì´ì„œ ê±°ê¸°ì— ë‹¿ìœ¼ë©´ ë°ë¯¸ì§€ë¥¼ ê¹ëŠ” ì‹ìœ¼ë¡œ!

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}

<br>