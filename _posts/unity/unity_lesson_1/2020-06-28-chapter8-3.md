---
title:  "Unity Chapter 8-3. C# í”„ë¡œê·¸ë˜ë° [ê³ ê¸‰] : ì´ë²¤íŠ¸" 

categories:
  -  Unity Lesson 1 
tags:
  - [Game Engine, Unity, C Sharp]

toc: true
toc_sticky: true

date: 2020-06-28
last_modified_at: 2020-06-28
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì œë¯¼ë‹˜ì˜ **ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ [ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/%EC%9C%A0%EB%8B%88%ED%8B%B0-%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%97%90%EC%84%BC%EC%8A%A4)
{: .notice--warning}

<br>

# Chapter 8. C# í”„ë¡œê·¸ë˜ë° : ê³ ê¸‰ 

<br>

## ğŸ”” ì´ë²¤íŠ¸

- [ì´ì „ í¬ìŠ¤íŠ¸](https://ansohxxn.github.io/unity%20lesson%201/chapter8-1/)ì—ì„œ ê³µë¶€í–ˆë˜ `ìœ ë‹ˆí‹° ì´ë²¤íŠ¸`ëŠ” <u>C#ì—ì„œ ì œê³µí•˜ëŠ”</u> `delegate`ì™€ `Event`ê¸°ëŠ¥ì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” ìœ ë‹ˆí‹°ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ì—ˆë‹¤.

### ì»¤í”Œë§

> `ì»¤í”Œë§` : ë‘ ì˜¤ë¸Œì íŠ¸ê°€ ì˜ ì•Œê³  ì§€ë‚´ê³  í•˜ë“œí•˜ê²Œ ì—°ê²°ë˜ì–´ ìˆëŠ” ì •ë„ë¥¼ ëœ»í•œë‹¤. 

- ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ í•˜ë ¤ë©´ ì»¤í”Œë§ì„ ì¤„ì—¬ì•¼ í•œë‹¤.
  - A ì™€ B ì‚¬ì´ì— <u>ì»¤í”Œë§ì´ ì‹¬í•˜ë‹¤ëŠ” ë§ì€ A ì™€ B ê°€ ì„œë¡œ ì—®ì—¬ìˆëŠ” ì •ë„</u>ê°€ ë†’ê¸° ë•Œë¬¸ì— A ê°€ ì—†ì–´ì§€ë©´ B ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤ëŠ” ì˜ë¯¸ë‹¤.
  - <u>ì»¤í”Œë§ì„ ì¤„ì´ë©´ A ì™€ B ê°€ ì„œë¡œ ëª¨ë¥´ëŠ” ì‚¬ì´ê°€ ë˜ê¸° ë•Œë¬¸ì—</u> ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ì—†ì–´ì ¸ë„ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸° ìˆ˜ì›”í•´ì§€ê±°ë‚˜ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤. 

<br>

### ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

> ì»¤í”Œë§ì„ ì¤„ì—¬ ì£¼ê¸° ë•Œë¬¸.

- A í´ë˜ìŠ¤ì˜ *Dead()* í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ B í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ì™€ C í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ê°€ ì‹¤í–‰ë ë‹¤ê³  í•  ë•Œ
  - ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°
    - ![image](https://user-images.githubusercontent.com/42318591/85945647-266c4580-b97a-11ea-834e-8f716eb11e60.png){: width="50%" height="50%"}{: .align-center}
    - A í´ë˜ìŠ¤ëŠ” B, C í´ë˜ìŠ¤ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.
      - ë”°ë¼ì„œ B, C í´ë˜ìŠ¤ ì°¸ì¡° ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ìŠ¬ë¡¯ì— B, C ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ì–´ì£¼ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.
    - ì»¤í”Œë§ì´ ì¦ê°€í•œë‹¤.
      - ë”°ë¼ì„œ B, C í´ë˜ìŠ¤ê°€ ì—†ì–´ì§€ë©´ A í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ë§ì´ ìƒê¸´ë‹¤.
  - ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•œ ê²½ìš°
    - ![image](https://user-images.githubusercontent.com/42318591/85947297-c75ffe00-b984-11ea-934f-6cc93616c39c.png){: width="50%" height="50%"}{: .align-center}
    - A í´ë˜ìŠ¤ëŠ” B, C í´ë˜ìŠ¤ì— ëŒ€í•´ ëª°ë¼ë„ ëœë‹¤.
      - A í´ë˜ìŠ¤ì˜ <u>OnDead ì´ë²¤íŠ¸ì— B, C í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ë¥¼ ë“±ë¡</u>ë§Œ í•´ë‘ë©´ <u>OnDead ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ì•Œì•„ì„œ B, C í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ë“¤ì´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</u>
    - ì»¤í”Œë§ì´ ì—†ë‹¤.
      - B, C í´ë˜ìŠ¤ê°€ ì—†ì–´ì ¸ë„ A í´ë˜ìŠ¤ ì½”ë“œì—” ì˜í–¥ì´ ì—†ë‹¤.

<br>

### ì´ë²¤íŠ¸ ìš©ì–´
- ì´ë²¤íŠ¸ë¥¼ ë°œë™ ì‹œí‚¤ëŠ” ì¸¡ ğŸ‘‰ **Publisher**
- ì´ë²¤íŠ¸ì— ìê¸° ìì‹ ì˜ ê¸°ëŠ¥ì„ ë“±ë¡ì‹œì¼œ ë†“ê³  ëŒ€ê¸°í•˜ëŠ” ì¸¡ ğŸ‘‰ **Subcriber**

<br>

### ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°

#### ğŸ“œBooster.cs
- ğŸ“œCharacterì˜ hp, defense, damageë¥¼ ì¦ê°€ì‹œì¼œ ì¤€ë‹¤.

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Booster : MonoBehaviour
{
    public void HealthBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ì²´ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.hp += 10;
    }

    public void ShieldBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ë°©ì–´ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.defense += 10;
    }

    public void DamageBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ê³µê²©ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.damage += 10;
    }
}
```

#### ğŸ“œCharacter.cs
- ğŸ“œBooster.cs ì •ë³´ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. 
  - ğŸ“œBooster.csì˜ ì„¸ í•¨ìˆ˜ë¥¼ ì¨ì•¼ ğŸ“œCharacterì˜ *hp, defense, damage*ë¥¼ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ.

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Character : MonoBehaviour
{
    public Booster booster;

    public string playerName = "anso";
    public float hp = 100;
    public float defense = 50;
    public float damage = 30;

    void Awake()
    {
        booster.HealthBoost(this);
        booster.DamageBoost(this);
        booster.ShieldBoost(this);
    }
}
```
- *booter*ì˜ ìœ ë‹ˆí‹° ìŠ¬ë¡¯ì— ğŸ“œBooster.cs ê°€ ë¶™ì€ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¶™ì—¬ì£¼ì–´ì•¼ í•œë‹¤.

> booster.HealthBoost(this);, booster.DamageBoost(this);, booster.ShieldBoost(this); <u>ì´ë ‡ê²Œ ì¼ì¼ì´ ë‚˜ì—´í•  í•„ìš” ì—†ì´</u> `Event`ë¥¼ ì‚¬ìš©í•˜ì—¬ ***Boostë¼ëŠ” ì´ë²¤íŠ¸***ì— *HealthBoost, DamageBoost, ShieldBoost*ë¥¼ ë“±ë¡í•´ ë†“ê³  ***Boostë¼ëŠ” ì´ë²¤íŠ¸***ë§Œ ë°œìƒì‹œí‚¤ë©´ <u>ì½”ë“œê°€ í›¨ì”¬ ê°„ê²°í•´ì§ˆ ìˆ˜ ìˆë‹¤.</u>

<br>

### ì´ë²¤íŠ¸ ì‚¬ìš©í•œ ê²½ìš°

- ì‚¬ìš© ë°©ë²• ğŸ‘‰ `delegate`ì™€ ì¼ë§¥ìƒí†µí•œë‹¤. 
  - `delegate`ë¡œ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 
- ğŸ“œCharacter.cs ê°€ ğŸ“œBooster.csë¥¼ <u>ì•Œ í•„ìš”ê°€ ì—†ë‹¤.</u>

#### ğŸ“œBooster.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Booster : MonoBehaviour
{
    public void HealthBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ì²´ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.hp += 10;
    }

    public void ShieldBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ë°©ì–´ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.defense += 10;
    }

    public void DamageBoost(Character target)
    {
        Debug.Log(target.playerName + "ì˜ ê³µê²©ë ¥ì„ ê°•í™”í–ˆë‹¤!");
        target.damage += 10;
    }

    void Awake()
    {
        Character player = FindObjectOfType<Character>();

        player.playerBoost += HealthBoost;
        player.playerBoost += ShieldBoost;
        player.playerBoost += DamageBoost;
    }
}
```

- *void Awake*
  - ğŸ“œBoosterì—ì„œ `playerBoost` <u>ë¸ë¦¬ê²Œì´íŠ¸ì— ğŸ“œBoosterì˜ í•¨ìˆ˜ë“¤ì„ ë“±ë¡í•´ì¤€ë‹¤.</u>
  - ğŸ“œCharacterì—ì„œ `playerBoost` ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ *void Start()* ì—ì„œ ì‹¤í–‰í•  ê²ƒì´ë¼ì„œ ë¸ë¦¬ê²Œì´íŠ¸ ë“±ë¡ì€ ë¯¸ë¦¬ *void Awake*ì—ì„œ í•´ì£¼ì—ˆë‹¤. 
  - *Character player = FindObjectOfType\<Character>();*
    - ğŸ“œCharacter.cs ê°€ ë¶™ì€ *player* ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¨ í›„
  - [ë¸ë¦¬ê²Œì´íŠ¸](https://ansohxxn.github.io/unity%20lesson%201/chapter8-2/#%ED%95%A8%EC%88%98%EB%93%A4-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0)ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `+`ì™€ `-` ì—°ì‚°ì„ ì´ìš©í•˜ì—¬ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ë“±ë¡í•´ì¤€ë‹¤.

#### ğŸ“œCharacter.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Character : MonoBehaviour
{
    // public Booster booster;  ì•Œ í•„ìš”ê°€ ì—†ë‹¤.

    public delegate void Boost(Character target);

    public Boost playerBoost;

    public string playerName = "anso";
    public float hp = 100;
    public float defense = 50;
    public float damage = 30;

    void Start()
    {
        playerBoost(this);
    }

    void Update()
    {
        if(Input.GetKeyDown(KeyCode.Space))
        {
            playerBoost(this);
        }
    }
}
```

- *public delegate void `Boost`(Character target);*
  - `Boost`ë¼ëŠ” ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì„ ì–¸
  - ë¦¬í„´ì€ ì—†ìœ¼ë©° Characteríƒ€ì…ì˜ ì¸ìˆ˜ë¥¼ 1ê°œ ë°›ëŠ” í•¨ìˆ˜ë§Œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
- *public Boost `playerBoost`;*
  - ìœ„ì—ì„œ ì„ ì–¸í•œ `Boost` ë¸ë¦¬ê²Œì´íŠ¸ íƒ€ì…ì¸ `playerBoost`ë¥¼ ì •ì˜í–ˆë‹¤.
  - `Boost`ë¡œ `playerBoost`ì„ ì°ì–´ëƒ„.
- ***playerBoost(this)***
  - `playerBoost`ì— ë“±ë¡ëœ ëª¨ë“  í•¨ìˆ˜ë“¤ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤.
    - ğŸ“œCharacter.csê°€ ë¶™ì€ ì˜¤ë¸Œì íŠ¸ì¸ ìê¸° ìì‹ ì„ ì¸ìˆ˜ë¡œ ë„˜ê¸´ë‹¤.

<br>

### `delegate`ì™€ `event` í‚¤ì›Œë“œ ì°¨ì´

> `delegate`ë¡œ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”ë° C#ì—” ì™œ `event` í‚¤ì›Œë“œê°€ ìˆì„ê¹Œ?

- `delegate`ìƒì„±ì‹œ `event`<u>ë¥¼ ì•ì— ë¶™ì—¬ì£¼ë©´ ë¸ë¦¬ê²Œì´íŠ¸ê°€ ì´ë²¤íŠ¸ê°€ ì•„ë‹Œ ë°©í–¥ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ì—„ê²©íˆ ì œí•œí•œë‹¤.</u>

ğŸ“œCharacter.cs
```c#
public delegate void Boost(Character target);

public event Boost playerBoost;  // event í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ ì¤Œ
```
- `playerBoost` ë¸ë¦¬ê²Œì´íŠ¸ ìƒì„±ì‹œ `event`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¨ì£¼ë©´ í•¨ìˆ˜ë¥¼ ì´ë²¤íŠ¸ì— ë“±ë¡í•  ë•Œ <u>ë®ì–´ì”Œì›Œì§€ëŠ” ê²ƒì„ ë°©ì§€í•´ì¤€ë‹¤.</u>

ğŸ“œBooster.cs
```c#
player.playerBoost += HealthBoost;
player.playerBoost += ShieldBoost;
player.playerBoost = DamageBoost;  // ë®ì–´ì”Œìš°ê¸° ë°©ì§€. ì—ëŸ¬ğŸ’¥
```
- `+`ì—°ì‚°ì„ í•˜ì§€ ì•Šê³  ì‹¤ìˆ˜ë¡œ `=`ë§Œ í•´ë²„ë¦¬ë©´ ì´ë²¤íŠ¸ì— ê·¸ëŒ€ë¡œ *DamageBoost* í•¨ìˆ˜ í•œê°œë§Œ ë®ì–´ì”Œì›Œì ¸ `playerBoost`ì‹¤í–‰ì‹œ *DamageBoost* í•¨ìˆ˜ë§Œ ì‹¤í–‰ëœë‹¤.
  - ì´ëŸ¬ë©´ ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ê°€ ì‘ì•„ì§„ë‹¤. 
- `event`ë¥¼ ë¶™ì—¬ì£¼ë©´ ì´ë ‡ê²Œ ë®ì–´ì”Œì›Œì§€ëŠ” ê²ƒì„ ë°©ì§€í•´ì¤€ë‹¤. ì—ëŸ¬ê°€ ë‚œë‹¤. 
  - `event`ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë²¤ë“œ ë“±ë¡ì‹œ `=`ëŠ” ì•ˆë˜ê³  `+`, `-`ë§Œ ê°€ëŠ¥í•˜ë‹¤.

ğŸ“œBooster.cs
```c#
player.playerBoost += HealthBoost;
player.playerBoost += ShieldBoost;
player.playerBoost(player); // ë°–ì—ì„œ ì‹¤í–‰ ë°©ì§€. ì—ëŸ¬ğŸ’¥
``` 

- `event`ë¥¼ ì‚¬ìš©í•˜ë©´ ë°–ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë°œë™ì‹œí‚¬ ìˆ˜ ì—†ë‹¤.
  - ì´ê³³ ì €ê³³ì—ì„œ ë©‹ëŒ€ë¡œ ì´ë²¤íŠ¸ë¥¼ ë°œë™ì‹œí‚¤ëŠ” ê²ƒì„ ë°©ì§€.
  - ğŸ“œCharacter.cs ì—ì„œë§Œ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ë°œë™ì‹œí‚¬ ìˆ˜ ìˆê³  ğŸ“œCharacter.cs ë°–ì¸ ğŸ“œBooster.csì—ì„  ë°œë™ì‹œí‚¬ ìˆ˜ ì—†ë‹¤.

ğŸ“œBooster.cs
```c#
player.playerBoost += HealthBoost;
player.playerBoost += ShieldBoost;
player.playerBoost += DamageBoost;
``` 
- ğŸ‘† `event` ì‚¬ìš©ì‹œ ì˜¬ë°”ë¥¸ ë“±ë¡ ë°©ë²•

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}

<br>