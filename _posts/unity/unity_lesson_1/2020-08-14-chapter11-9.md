---
title:  "Unity Chapter 11-9. ì¢€ë¹„ TPS ê²Œì„ ë§Œë“¤ê¸° : Gun" 

categories:
  -  Unity Lesson 1 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-08-14
last_modified_at: 2020-08-14
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì œë¯¼ë‹˜ì˜ **ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ [ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/%EC%9C%A0%EB%8B%88%ED%8B%B0-%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%97%90%EC%84%BC%EC%8A%A4)
{: .notice--warning}

<br>

# Chapter 11. ì¢€ë¹„ TPS ê²Œì„ ë§Œë“¤ê¸° 

## ğŸ“œGun.cs

> `Gun` ì˜¤ë¸Œì íŠ¸ì— ë¶™ì¸ë‹¤.

```c#
using System;
using System.Collections;
using UnityEngine;

// ì´ì„ êµ¬í˜„í•œë‹¤
public class Gun : MonoBehaviour
{
    // ì´ì˜ ìƒíƒœë¥¼ í‘œí˜„í•˜ëŠ”ë° ì‚¬ìš©í•  íƒ€ì…ì„ ì„ ì–¸í•œë‹¤
    public enum State
    {
        Ready, // ë°œì‚¬ ì¤€ë¹„ë¨
        Empty, // íƒ„ì°½ì´ ë¹”
        Reloading // ì¬ì¥ì „ ì¤‘
    }
    public State state { get; private set; } // í˜„ì¬ ì´ì˜ ìƒíƒœ

    private PlayerShooter gunHolder;
    private LineRenderer bulletLineRenderer; // ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ë Œë”ëŸ¬

    private AudioSource gunAudioPlayer; // ì´ ì†Œë¦¬ ì¬ìƒê¸°
    public AudioClip shotClip; // ë°œì‚¬ ì†Œë¦¬
    public AudioClip reloadClip; // ì¬ì¥ì „ ì†Œë¦¬

    public ParticleSystem muzzleFlashEffect; // ì´êµ¬ í™”ì—¼ íš¨ê³¼
    public ParticleSystem shellEjectEffect; // íƒ„í”¼ ë°°ì¶œ íš¨ê³¼

    public Transform fireTransform; // ì´ì•Œì´ ë°œì‚¬ë  ìœ„ì¹˜
    public Transform leftHandMount;

    public float damage = 25; // ê³µê²©ë ¥
    public float fireDistance = 100f; // ì‚¬ì •ê±°ë¦¬

    public int ammoRemain = 100; // ë‚¨ì€ ì „ì²´ íƒ„ì•½
    public int magAmmo; // í˜„ì¬ íƒ„ì°½ì— ë‚¨ì•„ìˆëŠ” íƒ„ì•½
    public int magCapacity = 30; // íƒ„ì°½ ìš©ëŸ‰

    public float timeBetFire = 0.12f; // ì´ì•Œ ë°œì‚¬ ê°„ê²©
    public float reloadTime = 1.8f; // ì¬ì¥ì „ ì†Œìš” ì‹œê°„

    [Range(0f, 10f)] public float maxSpread = 3f;
    [Range(1f, 10f)] public float stability = 1f;
    [Range(0.01f, 3f)] public float restoreFromRecoilSpeed = 2f;
    private float currentSpread;
    private float currentSpreadVelocity;

    private float lastFireTime; // ì´ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ë°œì‚¬í•œ ì‹œì 

    private LayerMask excludeTarget;

    private void Awake()
    {
        // ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜¤ê¸°
        gunAudioPlayer = GetComponent<AudioSource>();
        bulletLineRenderer = GetComponent<LineRenderer>();

        // ì‚¬ìš©í•  ì ì„ ë‘ê°œë¡œ ë³€ê²½
        bulletLineRenderer.positionCount = 2;
        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ ë¹„í™œì„±í™”
        bulletLineRenderer.enabled = false;
    }

    public void Setup(PlayerShooter gunHolder)
    {
        this.gunHolder = gunHolder;
        excludeTarget = gunHolder.excludeTarget;
    }

    private void OnEnable()
    {
        currentSpread = 0;
        // í˜„ì¬ íƒ„ì°½ì„ ê°€ë“ì±„ìš°ê¸°
        magAmmo = magCapacity;
        // ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì´ì„ ì  ì¤€ë¹„ê°€ ëœ ìƒíƒœë¡œ ë³€ê²½
        state = State.Ready;
        // ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì„ ìœ ì‹œì ì„ ì´ˆê¸°í™”
        lastFireTime = 0;
    }

    private void OnDisable()
    {
        StopAllCoroutines();
    }

    public bool Fire(Vector3 aimTarget)
    {
        // í˜„ì¬ ìƒíƒœê°€ ë°œì‚¬ ê°€ëŠ¥í•œ ìƒíƒœ
        // && ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì—ì„œ timeBetFire ì´ìƒì˜ ì‹œê°„ì´ ì§€ë‚¨
        if (state == State.Ready
            && Time.time >= lastFireTime + timeBetFire)
        {
            var xError = Utility.GetRandomNormalDistribution(0f, currentSpread);
            var yError = Utility.GetRandomNormalDistribution(0f, currentSpread);


            var fireDirection = aimTarget - fireTransform.position;

            fireDirection = Quaternion.AngleAxis(yError, Vector3.up) * fireDirection;
            fireDirection = Quaternion.AngleAxis(xError, Vector3.right) * fireDirection;

            currentSpread += 1f / stability;

            // ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì„ ê°±ì‹ 
            lastFireTime = Time.time;
            // ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬ ì‹¤í–‰
            Shot(fireTransform.position, fireDirection);

            return true;
        }

        return false;
    }

    // ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬
    private void Shot(Vector3 startPoint, Vector3 direction)
    {
        // ë ˆì´ìºìŠ¤íŠ¸ì— ì˜í•œ ì¶©ëŒ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì»¨í…Œì´ë„ˆ
        RaycastHit hit;
        // ì´ì•Œì´ ë§ì€ ê³³ì„ ì €ì¥í•  ë³€ìˆ˜
        var hitPosition = Vector3.zero;

        // ë ˆì´ìºìŠ¤íŠ¸(ì‹œì‘ì§€ì , ë°©í–¥, ì¶©ëŒ ì •ë³´ ì»¨í…Œì´ë„ˆ, ì‚¬ì •ê±°ë¦¬)
        if (Physics.Raycast(startPoint, direction, out hit, fireDistance, ~excludeTarget))
        {
            // ë ˆì´ê°€ ì–´ë–¤ ë¬¼ì²´ì™€ ì¶©ëŒí•œ ê²½ìš°

            // ì¶©ëŒí•œ ìƒëŒ€ë°©ìœ¼ë¡œë¶€í„° IDamageable ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ì‹œë„
            var target =
                hit.collider.GetComponent<IDamageable>();

            // ìƒëŒ€ë°©ìœ¼ë¡œ ë¶€í„° IDamageable ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì„±ê³µí–ˆë‹¤ë©´
            if (target != null)
            {
                DamageMessage damageMessage;

                damageMessage.damager = gunHolder.gameObject;
                damageMessage.amount = damage;
                damageMessage.hitPoint = hit.point;
                damageMessage.hitNormal = hit.normal;

                // ìƒëŒ€ë°©ì˜ OnDamage í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ìƒëŒ€ë°©ì—ê²Œ ë°ë¯¸ì§€ ì£¼ê¸°
                target.ApplyDamage(damageMessage);
            }
            else
            {
                EffectManager.Instance.PlayHitEffect(hit.point, hit.normal, hit.transform);
            }
          // ë ˆì´ê°€ ì¶©ëŒí•œ ìœ„ì¹˜ ì €ì¥
            hitPosition = hit.point;
        }
        else
        {
            // ë ˆì´ê°€ ë‹¤ë¥¸ ë¬¼ì²´ì™€ ì¶©ëŒí•˜ì§€ ì•Šì•˜ë‹¤ë©´
            // ì´ì•Œì´ ìµœëŒ€ ì‚¬ì •ê±°ë¦¬ê¹Œì§€ ë‚ ì•„ê°”ì„ë•Œì˜ ìœ„ì¹˜ë¥¼ ì¶©ëŒ ìœ„ì¹˜ë¡œ ì‚¬ìš©
            hitPosition = startPoint + direction * fireDistance;
        }

        // ë°œì‚¬ ì´í™íŠ¸ ì¬ìƒ ì‹œì‘
        StartCoroutine(ShotEffect(hitPosition));

        // ë‚¨ì€ íƒ„í™˜ì˜ ìˆ˜ë¥¼ -1
        magAmmo--;
        if (magAmmo <= 0)
            // íƒ„ì°½ì— ë‚¨ì€ íƒ„ì•½ì´ ì—†ë‹¤ë©´, ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ Emptyìœ¼ë¡œ ê°±ì‹ 
            state = State.Empty;
    }

    // ë°œì‚¬ ì´í™íŠ¸ì™€ ì†Œë¦¬ë¥¼ ì¬ìƒí•˜ê³  ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦°ë‹¤
    private IEnumerator ShotEffect(Vector3 hitPosition)
    {
        // ì´êµ¬ í™”ì—¼ íš¨ê³¼ ì¬ìƒ
        muzzleFlashEffect.Play();
        // íƒ„í”¼ ë°°ì¶œ íš¨ê³¼ ì¬ìƒ
        shellEjectEffect.Play();

        // ì´ê²© ì†Œë¦¬ ì¬ìƒ
        gunAudioPlayer.PlayOneShot(shotClip);

        // ì„ ì˜ ì‹œì‘ì ì€ ì´êµ¬ì˜ ìœ„ì¹˜
        bulletLineRenderer.SetPosition(0, fireTransform.position);
        // ì„ ì˜ ëì ì€ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¶©ëŒ ìœ„ì¹˜
        bulletLineRenderer.SetPosition(1, hitPosition);
        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ í™œì„±í™”í•˜ì—¬ ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦°ë‹¤
        bulletLineRenderer.enabled = true;

        // 0.03ì´ˆ ë™ì•ˆ ì ì‹œ ì²˜ë¦¬ë¥¼ ëŒ€ê¸°
        yield return new WaitForSeconds(0.03f);

        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ ë¹„í™œì„±í™”í•˜ì—¬ ì´ì•Œ ê¶¤ì ì„ ì§€ìš´ë‹¤
        bulletLineRenderer.enabled = false;
    }

    // ì¬ì¥ì „ ì‹œë„
    public bool Reload()
    {
        if (state == State.Reloading ||
            ammoRemain <= 0 || magAmmo >= magCapacity)
            // ì´ë¯¸ ì¬ì¥ì „ ì¤‘ì´ê±°ë‚˜, ë‚¨ì€ ì´ì•Œì´ ì—†ê±°ë‚˜
            // íƒ„ì°½ì— ì´ì•Œì´ ì´ë¯¸ ê°€ë“í•œ ê²½ìš° ì¬ì¥ì „ í• ìˆ˜ ì—†ë‹¤
            return false;

        // ì¬ì¥ì „ ì²˜ë¦¬ ì‹œì‘
        StartCoroutine(ReloadRoutine());
        return true;
    }

    // ì‹¤ì œ ì¬ì¥ì „ ì²˜ë¦¬ë¥¼ ì§„í–‰
    private IEnumerator ReloadRoutine()
    {
        // í˜„ì¬ ìƒíƒœë¥¼ ì¬ì¥ì „ ì¤‘ ìƒíƒœë¡œ ì „í™˜
        state = State.Reloading;
        // ì¬ì¥ì „ ì†Œë¦¬ ì¬ìƒ
        gunAudioPlayer.PlayOneShot(reloadClip);

        // ì¬ì¥ì „ ì†Œìš” ì‹œê°„ ë§Œí¼ ì²˜ë¦¬ë¥¼ ì‰¬ê¸°
        yield return new WaitForSeconds(reloadTime);

        // íƒ„ì°½ì— ì±„ìš¸ íƒ„ì•½ì„ ê³„ì‚°í•œë‹¤
        var ammoToFill = magCapacity - magAmmo;

        // íƒ„ì°½ì— ì±„ì›Œì•¼í•  íƒ„ì•½ì´ ë‚¨ì€ íƒ„ì•½ë³´ë‹¤ ë§ë‹¤ë©´,
        // ì±„ì›Œì•¼í•  íƒ„ì•½ ìˆ˜ë¥¼ ë‚¨ì€ íƒ„ì•½ ìˆ˜ì— ë§ì¶° ì¤„ì¸ë‹¤
        if (ammoRemain < ammoToFill) ammoToFill = ammoRemain;

        // íƒ„ì°½ì„ ì±„ìš´ë‹¤
        magAmmo += ammoToFill;
        // ë‚¨ì€ íƒ„ì•½ì—ì„œ, íƒ„ì°½ì— ì±„ìš´ë§Œí¼ íƒ„ì•½ì„ ëº¸ë‹¤
        ammoRemain -= ammoToFill;

        // ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°œì‚¬ ì¤€ë¹„ëœ ìƒíƒœë¡œ ë³€ê²½
        state = State.Ready;
    }

    private void Update()
    {
        currentSpread = Mathf.SmoothDamp(currentSpread, 0f, ref currentSpreadVelocity, 1f / restoreFromRecoilSpeed);
        currentSpread = Mathf.Clamp(currentSpread, 0f, maxSpread);
    }
}
```

<br>

### ë©¤ë²„ ë³€ìˆ˜

```c#
    public enum State
    {
        Ready, // ë°œì‚¬ ì¤€ë¹„ë¨
        Empty, // íƒ„ì°½ì´ ë¹”
        Reloading // ì¬ì¥ì „ ì¤‘
    }
    public State state { get; private set; } // í˜„ì¬ ì´ì˜ ìƒíƒœ

    private PlayerShooter gunHolder;
    private LineRenderer bulletLineRenderer; // ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ë Œë”ëŸ¬

    private AudioSource gunAudioPlayer; // ì´ ì†Œë¦¬ ì¬ìƒê¸°
    public AudioClip shotClip; // ë°œì‚¬ ì†Œë¦¬
    public AudioClip reloadClip; // ì¬ì¥ì „ ì†Œë¦¬

    public ParticleSystem muzzleFlashEffect; // ì´êµ¬ í™”ì—¼ íš¨ê³¼
    public ParticleSystem shellEjectEffect; // íƒ„í”¼ ë°°ì¶œ íš¨ê³¼

    public Transform fireTransform; // ì´ì•Œì´ ë°œì‚¬ë  ìœ„ì¹˜
    public Transform leftHandMount;

    public float damage = 25; // ê³µê²©ë ¥
    public float fireDistance = 100f; // ì‚¬ì •ê±°ë¦¬

    public int ammoRemain = 100; // ë‚¨ì€ ì „ì²´ íƒ„ì•½
    public int magAmmo; // í˜„ì¬ íƒ„ì°½ì— ë‚¨ì•„ìˆëŠ” íƒ„ì•½
    public int magCapacity = 30; // íƒ„ì°½ ìš©ëŸ‰

    public float timeBetFire = 0.12f; // ì´ì•Œ ë°œì‚¬ ê°„ê²©
    public float reloadTime = 1.8f; // ì¬ì¥ì „ ì†Œìš” ì‹œê°„

    [Range(0f, 10f)] public float maxSpread = 3f;
    [Range(1f, 10f)] public float stability = 1f;
    [Range(0.01f, 3f)] public float restoreFromRecoilSpeed = 2f;
    private float currentSpread;
    private float currentSpreadVelocity;

    private float lastFireTime; // ì´ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ë°œì‚¬í•œ ì‹œì 

    private LayerMask excludeTarget;
```

- `state`
  - 3 ê°€ì§€ ìƒíƒœ
    1. `Ready` : ë°œì‚¬ ì¤€ë¹„ ìƒíƒœ
    2. `Empty` : íƒ„ì°½ì´ ë¹ˆ ìƒíƒœ
    3. `Reloading` : ì¬ì¥ì „ ì¤‘ì¸ ìƒíƒœ
  - í”„ë¡œí¼í‹°ë¥¼ í†µí•˜ì—¬ *get*ì€ public, *set*ì€ privateìœ¼ë¡œ í•´ë‘ì—ˆë‹¤.  
    - ğŸ“œGun ë‚´ë¶€ì—ì„œë§Œ ì´ì˜ ìƒíƒœ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆê³  ì™¸ë¶€ì—ì„œë§Œ ë³€ê²½ ë¶ˆê°€ëŠ¥ í•˜ê³  ê°’ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒë§Œ ê°€ëŠ¥í•˜ê²Œë”.
- `gunHolder`
  - ì´ì„ ì˜ëŠ” ì£¼ì²´ì¸ **Plyaer Shooer** íƒ€ì…
  - ì´ì˜ ì£¼ì¸ì´ ëˆ„êµ¬ì¸ì§€ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.
- `bulletLineRenderer`
  - **LineRenderer** íƒ€ì…ìœ¼ë¡œ ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ë Œë”ëŸ¬
- ì˜¤ë””ì˜¤ ì†ŒìŠ¤
  - `gunAudioPlayer`
    - **AudioSource** íƒ€ì…ìœ¼ë¡œ ì´ ì†Œë¦¬ ì¬ìƒê¸°
  - `shotClip`
    - **AudioClip** íƒ€ì…ìœ¼ë¡œ ë°œì‚¬ ì†Œë¦¬.
  - `reloadClip`
    - **AudioClip** íƒ€ì…ìœ¼ë¡œ ì¬ì¥ì „ ì†Œë¦¬
- íŒŒí‹°í´ 
  - `muzzleFlashEffect`
    - **ParticleSystem** íƒ€ì…ìœ¼ë¡œ ì´êµ¬ í™”ì—¼ íŒŒí‹°í´ íš¨ê³¼
  - `shellEjectEffect`
    - **ParticleSystem** íƒ€ì…ìœ¼ë¡œ íƒ„í”¼ ë°°ì¶œ íš¨ê³¼ íŒŒí‹°í´ íš¨ê³¼
- Transform
  - `fireTransform`
    - **Transform** íƒ€ì…ìœ¼ë¡œ ì´ì•Œì´ ë°œì‚¬ë  ìœ„ì¹˜
  - `leftHandMount`
    - **Transform** íƒ€ì…ìœ¼ë¡œ ì™¼ì†ì˜ ìœ„ì¹˜ 
- ì´ ë°ì´í„°
  - `damage` ğŸ‘‰ ì´ì˜ ë°ë¯¸ì§€
  - `fireDistance` ğŸ‘‰ ì‚¬ì • ê±°ë¦¬. ì´ì•Œ ë°œì‚¬ ì²´í¬ë¥¼ í•  ê±°ë¦¬.
- íƒ„ì°½ ë°ì´í„°
  - `ammoRemain` ğŸ‘‰ ë‚¨ì€ ì „ì²´! ì´ íƒ„ì•½
  - `magAmmo` ğŸ‘‰ í˜„ì¬ íƒ„ì°½ì— ë‚¨ì•„ìˆëŠ” íƒ„ì•½
  - `magCapacity` ğŸ‘‰ íƒ„ì°½ ìš©ëŸ‰. 
- ì´ì•Œ ë°ì´í„°
  - `timeBetFire` ğŸ‘‰ ì´ì•Œ ë°œì‚¬ ì‚¬ì´ì˜ ê°„ê²©. <u>ì ìœ¼ë©´ ì ì„ ìˆ˜ë¡ ë¹ ë¥´ê²Œ ì—°ì‚¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</u>
  - `reloadTime` ğŸ‘‰ ì¬ì¥ì „ ì†Œìš” ì‹œê°„
- íƒ„ í¼ì§
  - `maxSpread` ğŸ‘‰ 0 ~ 10 ë²”ìœ„ì—ì„œ ê²°ì •ë˜ë©° ì´ì•Œì´ í¼ì§€ëŠ” ìµœëŒ€ ë²”ìœ„ë¥¼ ê²°ì •. ì´ ê°’ì´ í¬ë©´ í´ ìˆ˜ë¡ ì´ì•Œì´ ë„“ê²Œ í©ì–´ì§„ë‹¤.
  - `stability` ğŸ‘‰ 1 ~ 10 ë²”ìœ„ì—ì„œ ê²°ì •ë˜ë©° ì•ˆì •ì„±, ì¦‰ ë°˜ë™ì´ ì¦ê°€í•˜ëŠ” ì†ë„. ë†’ì„ ìˆ˜ë¡ ë°˜ë™ì´ ì¦ê°€í•˜ëŠ” ì†ë„ê°€ ë‚®ì•„ì ¸ ì•ˆì •ì„±ì´ ë†’ì•„ì§„ë‹¤. ë‚®ìœ¼ë©´ ë‚®ì„ ìˆ˜ë¡ íƒ„ í¼ì§ì˜ ì†ë„ê°€ ë†’ì•„ì§„ë‹¤.
  - `restoreFromRecoilSpeed` ğŸ‘‰ 0.01 ~ 3 ë²”ìœ„ì—ì„œ ê²°ì •ë˜ë©° ì—°ì‚¬ë¥¼ ë©ˆì¶˜ í›„ íƒ„ í¼ì§ì´ 0 ì´ ë˜ê¸°ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„. íšŒë³µ ì†ë„. 
  - `currentSpread` ğŸ‘‰ í˜„ì¬ íƒ„ í¼ì§ì˜ ì •ë„ê°’ 
  - `currentSpreadVelocity` ğŸ‘‰ í˜„ì¬ íƒ„ í¼ì§ì˜ ë°˜ê²½ì´ ì‹¤ì‹œê°„ ë³€í™”ëŸ‰. smoothDamp ì—°ì‚°ì— ì‚¬ìš©í•  ê²ƒ.
- `lastFireTime`
  - ê°€ì¥ ìµœê·¼ì— ë°œì‚¬ê°€ ì´ë£¨ì–´ì§„ ì‹œì ì„ ê¸°ë¡
- `excludeTarget` 
  - **LayerMask** íƒ€ì…ìœ¼ë¡œ <u>ì´ì•Œì„ ì´ì„œëŠ” ì•ˆë˜ëŠ” ëŒ€ìƒì„ ê±°ë¥´ê¸° ìœ„í•œ Layer</u>
    - ì´ì•Œì„ ë§ìœ¼ë©´ ì•ˆë˜ëŠ” ëŒ€ìƒë“¤ì´ ì—¬ê¸°ì— í• ë‹¹ë  ê²ƒ.

<br>

### ë©¤ë²„ í•¨ìˆ˜

#### private void Awake()

> ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì¸ë§Œí¼ `Gun` ê²Œì„ ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê°€ì ¸ì˜¬ ê²ƒ

```c#
    private void Awake()
    {
        // ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜¤ê¸°
        gunAudioPlayer = GetComponent<AudioSource>();
        bulletLineRenderer = GetComponent<LineRenderer>();

        // ì‚¬ìš©í•  ì ì„ ë‘ê°œë¡œ ë³€ê²½
        bulletLineRenderer.positionCount = 2;
        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ ë¹„í™œì„±í™”
        bulletLineRenderer.enabled = false;
    }
```

- ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜¤ê¸°
- ì´ì•Œì˜ ê¶¤ì ì„ ê·¸ë¦´ ì„ ì— ì‚¬ìš©í•  ì •ì ì„ 2 ê°œë¡œ í•œë‹¤.
  -  **LineRenderer** ì˜ `positionCount`
    - <u>ì„ ì— ìœ„ì¹˜í•œ ì •ì ì˜ ìˆ˜</u>ë¥¼ Set í•˜ê³  Get í•  ìˆ˜ ìˆëŠ” í”„ë¡œí¼í‹°. 
    - ì •ì  1ï¸âƒ£ ì´êµ¬ì˜ ìœ„ì¹˜
    - ì •ì  2ï¸âƒ£ ì´ì•Œì´ ë‹¿ì€ ìœ„ì¹˜
- ì´ì•Œì˜ ê¶¤ì  ê·¸ë¦¬ëŠ” ê²ƒì„ ë¹„í™œì„±í™” í•´ë‘ê³  ì‹œì‘

<br>

#### public void Setup(PlayerShooter gunHolder)

> ì´ ì£¼ì¸ì¸ `PlayerShooter`ì¸¡ì—ì„œ ì‹¤í–‰í•  í•¨ìˆ˜ë¼ *public*. `Gun` ê²Œì„ ì˜¤ë¸Œì íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ì´ì— ëŒ€í•´ ì´ˆê¸°í™”ë¥¼ ì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œ.

- í˜„ì¬ ì´(`Gun`ì…ì¥ì—ì„œ ë‚˜ ìì‹ )ì„ <u>ì¥ê³ ìˆëŠ” shooterê°€ ëˆ„êµ¬ì¸ì§€</u> ì•Œ ìˆ˜ ìˆë„ë¡ ì´ˆê¸°í™”ë¥¼ í•˜ëŠ” ì²˜ë¦¬ê°€ ë“¤ì–´ê°.

```c#
    public void Setup(PlayerShooter gunHolder)
    {
        this.gunHolder = gunHolder;
        excludeTarget = gunHolder.excludeTarget;
    }
```

- ğŸ“œPlayerShooter ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¶”í›„ì— ì‘ì„±í•  ê²ƒ!
- ì¸ìˆ˜ë¡œ ğŸ“œPlayerShooter ë¥¼ ë°›ëŠ”ë‹¤.
- `this.gunHolder = gunHolder;`
  - ì¸ìˆ˜ë¡œ ì…ë ¥ ë°›ì€ gunHolderë¥¼ ìê¸° ìì‹ ì˜ gunHolderë¡œ ì§€ì •.
- `excludeTarget = gunHolder.excludeTarget;`
  - ğŸ“œPlayerShooter ìŠ¤í¬ë¦½íŠ¸ì—ë„ `Player`ê°€ <u>ì´ì„ ì˜ì§€ ì•Šì„ ëŒ€ìƒ</u>ì„ í• ë‹¹ í•  **LayerMask** íƒ€ì…ì˜ `excludeTarget` ë©¤ë²„ ë³€ìˆ˜ê°€ ë”°ë¡œ ë“¤ì–´ê°€ ìˆìŒ.
    - ì´ë¥¼ ì´ì˜(ğŸ“œGun) `excludeTarget`ì— í• ë‹¹.
      - ğŸ“œPlayerShooter ì—ì„œ ì˜ì§€ ì•Šê¸°ë¡œ ê²°ì •ëœ ëŒ€ìƒë“¤ì„ ê°€ì ¸ì™€ì„œ í• ë‹¹

<br>

#### private void OnEnable()

> ğŸ“œGunìŠ¤í¬ë¦½íŠ¸(ì»´í¬ë„ŒíŠ¸)ê°€ í™œì„±í™”ë˜ëŠ” ìˆœê°„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜

```c#
    private void OnEnable()
    {
        currentSpread = 0;
        
        magAmmo = magCapacity;  // í˜„ì¬ íƒ„ì°½ì„ ê°€ë“ì±„ìš°ê¸°
        state = State.Ready; // ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì´ì„ ì  ì¤€ë¹„ê°€ ëœ ìƒíƒœë¡œ ë³€ê²½
        lastFireTime = 0; // ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì„ ìœ ì‹œì ì„ ì´ˆê¸°í™”
    }
```

- ì´ì˜ ìƒíƒœ ì´ˆê¸°í™”
  - íƒ„ì°½ ê°€ë“ ì±„ìš°ê¸° 
  - ìƒíƒœëŠ” `Ready`
  - ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì„ ìœ ì‹œì ì„ ì´ˆê¸°í™”
  - íƒ„í¼ì§ 0

<br>

#### private void OnDisable()

> ğŸ“œGunìŠ¤í¬ë¦½íŠ¸(ì»´í¬ë„ŒíŠ¸)ê°€ ë¹„í™œì„±í™”ë˜ëŠ” ìˆœê°„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜

- í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ì½”ë£¨í‹´ í•¨ìˆ˜ë“¤ì´ ìˆë‹¤ë©´ ëª¨ì¡°ë¦¬ ì¢…ë£Œ. ***StopAllCoroutines()***

```c#
    private void OnDisable()
    {
        StopAllCoroutines();
    }
```

<br>

#### public bool Fire(Vector3 aimTarget)

> `Gun` í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì´ì„ ì‚¬ìš©í•´ì„œ ë°œì‚¬ë¥¼ ì‹œë„í•˜ëŠ” ë©”ì†Œë“œ.

- ***Shot í•¨ìˆ˜***ë¥¼ ì•ˆì „í•˜ê²Œ ê°ì‹¸ëŠ” ì—­í• 
  - ***Shot í•¨ìˆ˜*** ëŠ” privateìœ¼ë¡œì„œ ì‹¤ì œë¡œ ë°œì‚¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
- ë°œì‚¬ ì„±ê³µí•˜ë©´ true ë¦¬í„´ ì‹¤íŒ¨í•˜ë©´ false ë¦¬í„´


- ë°œì‚¬ í•˜ë ¤ë©´ í˜„ì¬ ìƒíƒœê°€ ë°œì‚¬ ê°€ëŠ¥í•œ ìƒíƒœì¸ì§€ë¥¼ ì²´í¬ í•´ì•¼ í•¨
  - ì¡°ê±´ 1ï¸âƒ£ `Ready` ìƒíƒœì—¬ì•¼ í•¨
  - ì¡°ê±´ 2ï¸âƒ£ í˜„ì¬ ì‹œê°„ì´ ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì—ì„œ ë°œì‚¬ ê°„ê²©ì„ ë”í•œ ì‹œê°„ë³´ë‹¤ ë§ì´ ì§€ë‚˜ ìˆì–´ì•¼ í•¨
- ì‹¤ì œë¡œ ë°œì‚¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ì¸ **Shot** ì„ ì‹¤í–‰ì‹œí‚¤ë ¤ë©´ 1ï¸âƒ£ë°œì‚¬ ìœ„ì¹˜, 2ï¸âƒ£ë°œì‚¬ ë°©í–¥ì„ ë„˜ê²¨ì•¼ í•¨ 
  - ë°œì‚¬ ë°©í–¥ `fireDirection` êµ¬í•˜ê¸°
    - ë°œì‚¬ ë°©í–¥ = ëª©í‘œ ì§€ì  - ì‹œì‘ ì§€ì  `var fireDirection = aimTarget - fireTransform.position;`
- ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì„ ë°œì‚¬í•œ ì‹œì ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ê°±ì‹  
- ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬ ì‹¤í–‰ ğŸ‘‰ **Shot** í•¨ìˆ˜ ì‹¤í–‰

```c#
        if (state == State.Ready
            && Time.time >= lastFireTime + timeBetFire)
        {

            var fireDirection = aimTarget - fireTransform.position;

            lastFireTime = Time.time; // ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì„ ê°±ì‹ 
            
            Shot(fireTransform.position, fireDirection); // ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬ ì‹¤í–‰

            return true;
        }
```

- ìœ„ì™€ ê°™ì´ë§Œ êµ¬í˜„í•˜ë©´ 
  - ì´ì•Œì€ ë¬´ì¡°ê±´ ì¡°ì¤€í•œ ë°©í–¥ìœ¼ë¡œë§Œ ë‚ ì•„ê°€ê²Œ ëœë‹¤.
  - <u>ì´ ì—°ì‚¬ì™€ ê·¸ë¡œ ì¸í•œ ë°˜ë™ì— ì˜í•œ ì •í™•ë„ í•˜ë½ & íƒ„í¼ì§ì´ êµ¬í˜„ë˜ì§€ ì•ŠìŒ</u>
- ğŸ‘‰ `fireDirection`ì— ì ì ˆí•œ ì˜¤ì°¨ ê°’ì„ ë”í•´ì„œ íƒ„ í¼ì§ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤.

##### ğŸ“œUtility.cs 

![image](https://user-images.githubusercontent.com/42318591/90242380-e26ccb80-de67-11ea-80dc-5e4f94deb8c8.png){: width="70%" height="70%"}{: .align-center}

```c#
using UnityEngine;
using UnityEngine.AI;

public static class Utility
{
    public static Vector3 GetRandomPointOnNavMesh(Vector3 center, float distance, int areaMask)
    {
        var randomPos = Random.insideUnitSphere * distance + center;
        
        NavMeshHit hit;
        
        NavMesh.SamplePosition(randomPos, out hit, distance, areaMask);
        
        return hit.position;
    }
    
    public static float GetRandomNormalDistribution(float mean, float standard)  // ì •ê·œ ë¶„í¬ë¡œ ë¶€í„° ëœë¤ê°’ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ 
    {
        var x1 = Random.Range(0f, 1f);
        var x2 = Random.Range(0f, 1f);
        return mean + standard * (Mathf.Sqrt(-2.0f * Mathf.Log(x1)) * Mathf.Sin(2.0f * Mathf.PI * x2));
    }
}
```

- í‘œì¤€ ì •ê·œ ë¶„í¬ë„
  - í‰ê· ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ì¶œí˜„ í™•ë¥ ì´ ë†’ì•„ì§€ê³ 
  - í‰ê· ì—ì„œ ë©€ì–´ì§ˆ ìˆ˜ë¡ ì¶œí˜„ í™•ë¥ ì´ ë‚®ì•„ì§„ë‹¤.
  - í‘œì¤€ í¸ì°¨ê°€ í´ ìˆ˜ë¡ ê³¡ì„ ì´ ì™„ë§Œí•´ì§€ë©° í‰ê· ì—ì„œ ë©€ì–´ì ¸ë„ ì¶œí˜„ í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤.

##### íƒ„í¼ì§ êµ¬í˜„í•˜ê¸° ğŸ‘‰ ì •ê·œë¶„í¬ë„ ì‚¬ìš©

> ì •ê·œ ë¶„í¬ë„ë¡œë¶€í„° <u>ì›ë˜ ì¡°ì¤€í–ˆë˜ ìœ„ì¹˜ê°€ ì¶œí˜„í•  í™•ë¥ ì´ ê°€ì¥ ë†’ê³ </u>, <u>ì›ë˜ ì¡°ì¤€í–ˆë˜ ìœ„ì¹˜ì—ì„œ ë¨¼ ìœ„ì¹˜ì¼ ìˆ˜ë¡ ì¶œí˜„ í™•ë¥ ì´ ë‚®ì€</u> ëœë¤ ê°’ì„ ìƒì„±í•œë‹¤.

- ì›ë˜ ì¡°ì¤€í–ˆë˜ ìœ„ì¹˜ì— ê°€ê¹ê²Œ ë‚˜ì˜¬ í™•ë¥ ì´ ë†’ì€ ëœë¤ê°’ë“¤ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. 
  - ğŸ“œUtility.cs ì— ì •ê·œë¶„í¬ë¡œë¶€í„° ëœë¤ê°’ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ ***GetRandomNormalDistribution***ë¥¼ êµ¬í˜„í•´ë†¨ê³  ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
    - ì¸ìˆ˜ ğŸ‘‰ í‰ê·  `mean`, í‘œì¤€í¸ì°¨ `standard`
    - ì •ê·œ ë¶„í¬ ê³µì‹ì„ ì‚¬ìš©í•¨ 
      - ì¸ìˆ˜ë¡œ ë„˜ê¸°ëŠ” `mean`ì´ 0 ì´ë©´ 'í‘œì¤€ ì •ê·œ ë¶„í¬'
        - 0 ì— ê°€ê¹Œìš´ ê°’ì´ ê°€ì¥ ë§ì´ ì¶œí˜„í•˜ê²Œ ëœë‹¤.
  - `Utility.GetRandomNormalDistribution(0f, currentSpread);`
    - í‘œì¤€í¸ì°¨ë¡œ `currentSpread`ë¥¼ ë„£ì–´ì„œ íƒ„í¼ì§ì´ ì‹¬í•˜ë©´ ì‹¬í•  ìˆ˜ë¡ `mean`ì¸ 0 ì—ì„œ ë¨¼ ê°’ì´ ì¶œí˜„í•  í™•ë¥ ë„ ë†’ì•„ì§€ê²Œë” í•œë‹¤.

```c#
    public bool Fire(Vector3 aimTarget)
    {
        // í˜„ì¬ ìƒíƒœê°€ ë°œì‚¬ ê°€ëŠ¥í•œ ìƒíƒœ
        // && ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì—ì„œ timeBetFire ì´ìƒì˜ ì‹œê°„ì´ ì§€ë‚¨
        if (state == State.Ready
            && Time.time >= lastFireTime + timeBetFire)
        {
            var xError = Utility.GetRandomNormalDistribution(0f, currentSpread);
            var yError = Utility.GetRandomNormalDistribution(0f, currentSpread);


            var fireDirection = aimTarget - fireTransform.position;

            fireDirection = Quaternion.AngleAxis(yError, Vector3.up) * fireDirection;
            fireDirection = Quaternion.AngleAxis(xError, Vector3.right) * fireDirection;

            currentSpread += 1f / stability;

            // ë§ˆì§€ë§‰ ì´ ë°œì‚¬ ì‹œì ì„ ê°±ì‹ 
            lastFireTime = Time.time;
            // ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬ ì‹¤í–‰
            Shot(fireTransform.position, fireDirection);

            return true;
        }

        return false;
    }
```

> ì •ê·œ ë¶„í¬ì— ì˜í•œ ì˜¤ì°¨ ìƒì„±. <u>íƒ„í¼ì§ì´ ì‹¬í•˜ë©´ ì‹¬í•  ìˆ˜ë¡ 0 ì—ì„œ ë¶€í„° ë¨¼ ê°’ì˜ ë‚œìˆ˜ê°€ ë°œìƒí•  í™•ë¥ ì´ ì˜¬ë¼ê°„ë‹¤.</u>

- `xError` ğŸ‘‰ X ë°©í–¥ìª½ì˜ ëœë¤ ì˜¤ì°¨ 
- `yError` ğŸ‘‰ Y ë°©í–¥ìª½ì˜ ëœë¤ ì˜¤ì°¨ 
- ìœ„ì—ì„œ êµ¬í•œ ëœë¤ ì˜¤ì°¨ì— ë”°ë¼ì„œ `fireDirection` ë°©í–¥ íšŒì „ì‹œì¼œ ì›€ì§ì—¬ì£¼ê¸°
  - ì›ë˜ ì´ì•Œì´ í–¥í•˜ë˜ ë°©í–¥ì¸ `fireDirection`ì—ì„œ ì˜¤ì°¨ë§Œí¼ íšŒì „ì‹œí‚¨ë‹¤.
    - <u>ì¿¼í„°ë‹ˆì–¸ X ë²¡í„°</u> : ë²¡í„°ë¥¼ í•´ë‹¹ ì¿¼í„°ë‹ˆì–¸ê°’ë§Œí¼ íšŒì „í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.
    - y ë°©í–¥ íšŒì „ ğŸ‘‰ ìœ„ìª½ìœ¼ë¡œ `yError` ê°ë„ë§Œí¼ íšŒì „í•œ ê²°ê³¼ì¸ ì¿¼í„°ë‹ˆì–¸ì— `fireDirection`ì„ ê³±í•œë‹¤.
      - `fireDirection = Quaternion.AngleAxis(yError, Vector3.up) * fireDirection;`
    - x ë°©í–¥ íšŒì „ ğŸ‘‰ ì˜¤ë¥¸ìª½ìœ¼ë¡œ `xError` ê°ë„ë§Œí¼ íšŒì „í•œ ê²°ê³¼ì¸ ì¿¼í„°ë‹ˆì–¸ì— `fireDirection`ì„ ê³±í•œë‹¤.
      - `fireDirection = Quaternion.AngleAxis(xError, Vector3.right) * fireDirection;`
- `currentSpread += 1f / stability;`
  - í•œë²ˆ ë°œì‚¬í•˜ê³ ë‚˜ë©´ íƒ„í¼ì§ì´ ë” ì‹¬í•´ì§€ë„ë¡ `1/ì•ˆì •ì„±` ë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤.
    - ì•ˆì •ì„±ì´ ë‚®ì„ ìˆ˜ë¡ íƒ„í¼ì§ ì •ë„ê°€ ë¹ ë¥´ê²Œ ì¦ê°€í•  ê²ƒì´ê³ 
    - ì•ˆì •ì„±ì´ ë†’ì„ ìˆ˜ë¡ íƒ„í¼ì§ ì •ë„ê°€ ëŠë¦¬ê²Œ ì¦ê°€í•  ê²ƒì´ë‹¤.

<br>

#### private void Shot(Vector3 startPoint, Vector3 direction)

> ì´ ë°œì‚¬ë¥¼ ì‹¤ì œë¡œ ì²˜ë¦¬. 

- 1ï¸âƒ£ ë°œì‚¬ ì‹œì‘ ì§€ì , 2ï¸âƒ£ ì´ì´ ë‚ ì•„ê°€ëŠ” ë°©í–¥ì„ ì¸ìˆ˜ë¡œ ë°›ìŒ

```c#
    // ì‹¤ì œ ë°œì‚¬ ì²˜ë¦¬
    private void Shot(Vector3 startPoint, Vector3 direction)
    {
        // ë ˆì´ìºìŠ¤íŠ¸ì— ì˜í•œ ì¶©ëŒ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì»¨í…Œì´ë„ˆ
        RaycastHit hit;
        // ì´ì•Œì´ ë§ì€ ê³³ì„ ì €ì¥í•  ë³€ìˆ˜
        var hitPosition = Vector3.zero;

        // ë ˆì´ìºìŠ¤íŠ¸(ì‹œì‘ì§€ì , ë°©í–¥, ì¶©ëŒ ì •ë³´ ì»¨í…Œì´ë„ˆ, ì‚¬ì •ê±°ë¦¬)
        if (Physics.Raycast(startPoint, direction, out hit, fireDistance, ~excludeTarget))
        {
            // ë ˆì´ê°€ ì–´ë–¤ ë¬¼ì²´ì™€ ì¶©ëŒí•œ ê²½ìš°

            // ì¶©ëŒí•œ ìƒëŒ€ë°©ìœ¼ë¡œë¶€í„° IDamageable ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ì‹œë„
            var target =
                hit.collider.GetComponent<IDamageable>();

            // ìƒëŒ€ë°©ìœ¼ë¡œ ë¶€í„° IDamageable ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì„±ê³µí–ˆë‹¤ë©´
            if (target != null)
            {
                DamageMessage damageMessage;

                damageMessage.damager = gunHolder.gameObject;
                damageMessage.amount = damage;
                damageMessage.hitPoint = hit.point;
                damageMessage.hitNormal = hit.normal;

                // ìƒëŒ€ë°©ì˜ OnDamage í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ìƒëŒ€ë°©ì—ê²Œ ë°ë¯¸ì§€ ì£¼ê¸°
                target.ApplyDamage(damageMessage);
            }
            else
            {
                EffectManager.Instance.PlayHitEffect(hit.point, hit.normal, hit.transform);
            }
            // ë ˆì´ê°€ ì¶©ëŒí•œ ìœ„ì¹˜ ì €ì¥
            hitPosition = hit.point;
        }
        else
        {
            // ë ˆì´ê°€ ë‹¤ë¥¸ ë¬¼ì²´ì™€ ì¶©ëŒí•˜ì§€ ì•Šì•˜ë‹¤ë©´
            // ì´ì•Œì´ ìµœëŒ€ ì‚¬ì •ê±°ë¦¬ê¹Œì§€ ë‚ ì•„ê°”ì„ë•Œì˜ ìœ„ì¹˜ë¥¼ ì¶©ëŒ ìœ„ì¹˜ë¡œ ì‚¬ìš©
            hitPosition = startPoint + direction * fireDistance;
        }

        // ë°œì‚¬ ì´í™íŠ¸ ì¬ìƒ ì‹œì‘
        StartCoroutine(ShotEffect(hitPosition));

        // ë‚¨ì€ íƒ„í™˜ì˜ ìˆ˜ë¥¼ -1
        magAmmo--;
        if (magAmmo <= 0)
            // íƒ„ì°½ì— ë‚¨ì€ íƒ„ì•½ì´ ì—†ë‹¤ë©´, ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ Emptyìœ¼ë¡œ ê°±ì‹ 
            state = State.Empty;
    }
```

- RaycastHit `hit`
  - ë ˆì´ìºìŠ¤íŠ¸ì— ì˜í•œ ì¶©ëŒ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì»¨í…Œì´ë„ˆ
  - <u>ë ˆì´ìºìŠ¤íŠ¸ë¡œ ì´ì•Œì´ ë¬¼ì²´ì— ë§ì•˜ëŠ”ì§€ë¥¼ ì²´í¬í•  ê²ƒ</u>
- `hitPosition`
  - ì´ì•Œì´ ë§ì€ ìœ„ì¹˜ ë²¡í„° 
- **if (Physics.Raycast(startPoint, direction, out hit, fireDistance, ~excludeTarget))**
  - ì¸ìˆ˜ ğŸ‘‰ ì‹œì‘ì , ë°©í–¥, ì¶©ëŒ ì •ë³´ë¥¼ ì €ì¥í•  `hit`, ë ˆì´ ìºìŠ¤íŠ¸ ì‚¬ì •ê±°ë¦¬, `~`ì„ ë¶™ì—¬ íŠ¹ì • ëŒ€ìƒì˜ ë ˆì´ì–´ ë§ˆìŠ¤í¬ëŠ” ì œì™¸ 
    - ê°ì§€í•  ë ˆì´ì–´ì— `~`ì„ ë¶™ì´ë©´ ì´ ë ˆì´ì–´ê°€ ë¶™ì€ ê²ƒë“¤ì€ ë ˆì´ ìºìŠ¤íŠ¸ ì²˜ë¦¬ì—ì„œ ì œì™¸í•˜ë¼ëŠ” ëœ» 
  - 1ï¸âƒ£ <u>ë ˆì´ ìºìŠ¤íŠ¸ ì„±ê³µí–ˆë‹¤ë©´ `hit`ì— ê·¸ ì¶©ëŒ ì •ë³´ë“¤ì„ ì €ì¥í•œ í›„ true ë¦¬í„´ </u>
    - ì´ì˜ ë°ë¯¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ ì¸ì§€ë¥¼ ê²€ì‚¬í•´ì•¼ í•¨
      - var `target` = hit.collider.GetComponent\<IDamageable>();
        - `IDamageable` íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ì´ë¼ë©´ ë°ë¯¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” íƒ€ì…ì´ë¼ëŠ”ëœ».
          - `if (target != null)` ì¦‰ <u>ë°ë¯¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” íƒ€ì…ì´ë¼ë©´</u>
            - ë°ë¯¸ì§€ ë©”ì„¸ì§€ ìƒì„± 
              - DamageMessage `damageMessage`
              - í´ë˜ìŠ¤ê°€ ì•„ë‹Œ êµ¬ì¡°ì²´ë¼ì„œ new ì‚¬ìš©í•  í•„ìš” ì—†ìŒ
            - ë°ë¯¸ì§€ë¥¼ ì£¼ëŠ” ì‚¬ëŒì€ `gunHolder.gameObject`
            - ë°ë¯¸ì§€ ì–‘ì€ `damage`
            - íƒ€ê²©ì´ ê°€í•´ì§„ ìœ„ì¹˜ëŠ” `hit.point`
            - íƒ€ê²©ì´ ê°€í•´ì§„ ë°©í–¥ì€ `hit.normal`
            - `target`ì— ë°ë¯¸ì§€ ì£¼ê¸°  `target.ApplyDamage(damageMessage);`
              - <u>ì´ ApplyDamage í•¨ìˆ˜ì—ì„œ íŒŒí‹°í´ íš¨ê³¼ë¥¼ ì¬ìƒí•  ê²ƒì´ë‹¤</u>
          - <u>ë°ë¯¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ì—†ëŠ” íƒ€ì…ì´ë¼ë©´</u>
            - ì§ì ‘ ì—¬ê¸°ì„œ íŒŒí‹°í´ í”„ë¦¬íŒ¹ì„ ìƒì„± í•˜ê³  ì¬ìƒí•˜ëŠ” ğŸ“œEffectManager.cs ìŠ¤í¬ë¦½íŠ¸(ì‹±ê¸€í†¤ì´ë¼ í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ ë°”ë¡œ ì ‘ê·¼ ê°€ëŠ¥)ì˜ í•¨ìˆ˜ ì‹¤í–‰
              - *EffectManager.Instance.PlayHitEffect(hit.point, hit.normal, hit.transform);*
              - [ğŸ“œEffectManager.cs í¬ìŠ¤íŠ¸ ì°¸ê³ ](http://127.0.0.1:4000/unity%20lesson%201/chapter11-12/)
    - ë ˆì´ê°€ ì¶©ëŒí•œ ìœ„ì¹˜ ì €ì¥
      - `hitPosition` = hit.point;
  - 2ï¸âƒ£ `else` ğŸ‘‰ ë ˆì´ ìºìŠ¤íŠ¸ ì¶©ëŒì´ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ë‹¤ë©´ 
    - ì´ì•Œì´ ìµœëŒ€ ì‚¬ì •ê±°ë¦¬ê¹Œì§€ ë‚ ì•„ê°”ì„ë•Œì˜ ìœ„ì¹˜ë¥¼ ì¶©ëŒ ìœ„ì¹˜ë¡œ ì‚¬ìš©.
      - ì¦‰ ë­ ë³„ë‹¤ë¥¸ ì¶©ëŒì´ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ë‹¤ë©´ ì´ì•Œì€ ë°œì‚¬ ì§€ì ìœ¼ë¡œë¶€í„° ë‚ ì•„ê°„ ë°©í–¥ìœ¼ë¡œì˜ ìµœëŒ€ ì‚¬ì • ê±°ë¦¬ ìœ„ì¹˜ì—ì„œ íŒŒí‹°í´ íš¨ê³¼ë¥¼ ì¬ìƒí•  ê²ƒì´ë‹¤.
      - `hitPosition` = startPoint + direction * fireDistance
- ë°œì‚¬ ì´í™íŠ¸ ì¬ìƒ ì‹œì‘
  - `hitPosition`ì„ **StartCoroutine** í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ë„˜ê²¨ ì‹¤í–‰
    - íŒŒí‹°í´ íš¨ê³¼ + ì´ê²© ì†Œë¦¬ ì¬ìƒ + ì´ì•Œ ê¶¤ì  ê·¸ë¦¬ê¸°
- ë°œì‚¬í–ˆìœ¼ë‹ˆ íƒ„í™˜ ìˆ˜ ì—…ëƒ
  - íƒ„í™˜ ê°œìˆ˜ 1 ê°ì†Œ
  - íƒ„í™˜ ê°œìˆ˜ê°€ 0 ì— ë„ë‹¬í–ˆë‹¤ë©´ ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ `Empty`ìœ¼ë¡œ ê°±ì‹ 

<br>

#### private IEnumerator ShotEffect(Vector3 hitPosition)

> ì´ì•Œì´ ë§ì€ ì§€ì ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ ì´ì•Œê³¼ ê´€ë ¨ëœ Effect ì¬ìƒí•˜ëŠ” ì½”ë£¨í‹´ í•¨ìˆ˜(ì§€ì—°ì‹œê°„ì„ ë“¤ì—¬ì„œ ì´ë£¨ì–´ì§) 

> íŒŒí‹°í´ íš¨ê³¼ + ì´ê²© ì†Œë¦¬ ì¬ìƒ + ì´ì•Œ ê¶¤ì  ê·¸ë¦¬ê¸°

```c#
    private IEnumerator ShotEffect(Vector3 hitPosition)
    {
        // ì´êµ¬ í™”ì—¼ íš¨ê³¼ ì¬ìƒ
        muzzleFlashEffect.Play();
        // íƒ„í”¼ ë°°ì¶œ íš¨ê³¼ ì¬ìƒ
        shellEjectEffect.Play();

        // ì´ê²© ì†Œë¦¬ ì¬ìƒ
        gunAudioPlayer.PlayOneShot(shotClip);

        // ì„ ì˜ ì‹œì‘ì ì€ ì´êµ¬ì˜ ìœ„ì¹˜
        bulletLineRenderer.SetPosition(0, fireTransform.position);
        // ì„ ì˜ ëì ì€ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¶©ëŒ ìœ„ì¹˜
        bulletLineRenderer.SetPosition(1, hitPosition);
        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ í™œì„±í™”í•˜ì—¬ ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦°ë‹¤
        bulletLineRenderer.enabled = true;

        // 0.03ì´ˆ ë™ì•ˆ ì ì‹œ ì²˜ë¦¬ë¥¼ ëŒ€ê¸°
        yield return new WaitForSeconds(0.03f);

        // ë¼ì¸ ë Œë”ëŸ¬ë¥¼ ë¹„í™œì„±í™”í•˜ì—¬ ì´ì•Œ ê¶¤ì ì„ ì§€ìš´ë‹¤
        bulletLineRenderer.enabled = false;
    }
```

- ë°œì‚¬ì‹œ ë‘ íŒŒí‹°í´ íš¨ê³¼ë¥¼ ì¬ìƒì‹œí‚¨ë‹¤.
- ì´ê²© ì†Œë¦¬ë¥¼ 1íšŒ ì¬ìƒí•œë‹¤.
  - ë°œì‚¬ ì†Œë¦¬ì¸ `shotClip` í´ë¦½ í• ë‹¹
    - **AudioSource**ì˜ **PLayOneShot** í•¨ìˆ˜
      - ê·¸ëƒ¥ **Play()**í•¨ìˆ˜ì™€ì˜ ì°¨ì´ì 
        - ë¯¸ë¦¬ `clip`ì´ ì˜¤ë””ì˜¤ ì†ŒìŠ¤ì— í• ë‹¹ì´ ë˜ì–´ ìˆì–´ ì´ë¥¼ ì¬ìƒë§Œ í•˜ë©´ ë˜ëŠ” Plqy()ì™€ëŠ” ë‹¬ë¦¬ PlayOneShotì€ ì¬ìƒí•  í´ë¦½ì„ ì§ì ‘ ì¸ìˆ˜ë¡œ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.
        - Plqy()ëŠ” ì†Œë¦¬ ì¤‘ì²©ì´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì§ì „ ì†Œë¦¬ë¥¼ ì¤‘ì§€í•œ í›„ ì¬ìƒí•œë‹¤. ë°˜ë©´ì— PlayOneShotì€ ì†Œë¦¬ ì¤‘ì²©ì´ ëœë‹¤. ë°œì‚¬ ì†Œë¦¬ê°™ì´ ì—°ë‹¬ì•„ ì¬ìƒë˜ëŠ” ì†Œë¦¬ ê°™ì€ ê²½ìš°ì—ëŠ” Play() í•¨ìˆ˜ëŠ” ë¶€ì í•©.
- ì„ ì˜ ì •ì ì€ í˜„ì¬ 2 ê°œ (ìœ„ì—ì„œ `positionCount`ë¡œ ì„¤ì • í–ˆì—ˆìŒ
  - ì¸ë±ìŠ¤ 0, 1 ì¸ ì •ì ì´ 2 ê°œ
    - ì²«ë²ˆì§¸ ì •ì , ì¦‰ ì„ ì˜ ì‹œì‘ì ì´ ë˜ëŠ” ì´êµ¬ì˜ ìœ„ì¹˜ì¸ `fireTransform.position`ë¡œ ì„¤ì •
    - ë‘ë²ˆì§¸ ì •ì , ì¦‰ ì¸ìˆ˜ë¡œ ë°›ì€ ì´ì•Œì˜ ì¶©ëŒ ìœ„ì¹˜ì¸ `hitPosition`ë¡œ ì„¤ì •
- ì§§ì€ ì‹œê°„ë™ì•ˆ íƒ„ì•Œ ê¶¤ë„ ê·¸ë¦¼ ğŸ‘‰ ì´ì•Œê¶¤ë„ê°€ ë²ˆì©ì´ëŠ” íš¨ê³¼
  - ì ì‹œë™ì•ˆ ì´ì•Œ ê¶¤ì ì„ ê·¸ë¦° ì±„ë¡œ ë‹¤ì‹œ ëŒ€ê¸°í•˜ê³  ë‹¤ì‹œ ì´ì•Œ ê¶¤ì ì„ ì§€ìš´ë‹¤.
    - 1ï¸âƒ£ì´ì•Œ ê¶¤ì  í™œì„±í™” í•´ì„œ ê·¸ë¦¬ê³  2ï¸âƒ£0.03ì´ˆ ëŒ€ê¸° í•˜ê³  3ï¸âƒ£ë¹„í™œì„±í™”
      - ëŒ€ê¸°ë¥¼ ì•ˆí•´ì£¼ë©´ í™œì„±í™”ë˜ìë§ˆì ë°”ë¡œ ë¹„í™œì„±í™” ë˜ê¸° ë•Œë¬¸ì— ì´ì•Œì´ ê·¸ë ¤ì¡ŒëŠ”ì§€ë„ ì•Œ ìˆ˜ê°€ ì—†ë‹¤. ê·¸ë ¤ì§€ê¸°ë„ ì „ì— ë¹„í™œì„±í™” ë˜ì„œ..

<br>

#### public bool Reload()

>  `Gun` í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì¬ì¥ì „ì„ ì‹œë„í•˜ëŠ” public ë©”ì†Œë“œ

- ì¬ì¥ì „ ì„±ê³µì‹œ true, ì‹¤íŒ¨ì‹œ false ë¦¬í„´
- ì‹¤ì œ ì¬ì¥ì „ ì²˜ë¦¬ëŠ” privateí•œ ì½”ë£¨í‹´ í•¨ìˆ˜ì¸ ***ReloadRoutine()*** ì—ì„œ í•  ê²ƒ.

```c#
    public bool Reload()
    {
        if (state == State.Reloading ||
            ammoRemain <= 0 || magAmmo >= magCapacity)
            // ì´ë¯¸ ì¬ì¥ì „ ì¤‘ì´ê±°ë‚˜, ë‚¨ì€ ì´ì•Œì´ ì—†ê±°ë‚˜
            // íƒ„ì°½ì— ì´ì•Œì´ ì´ë¯¸ ê°€ë“í•œ ê²½ìš° ì¬ì¥ì „ í• ìˆ˜ ì—†ë‹¤
            return false;

        // ì¬ì¥ì „ ì²˜ë¦¬ ì‹œì‘
        StartCoroutine(ReloadRoutine());
        return true;
    }
```

- ì¬ì¥ì „ì´ ê°€ëŠ¥í•œ ê²½ìš°ë¥¼ ê²€ì‚¬í•´ì•¼ í•¨
  - ì¬ì¥ì „ì„ í•  ìˆ˜ ì—†ëŠ” ê²½ìš°
    1. ì´ë¯¸ ì¬ì¥ì „ ì¤‘ì´ê±°ë‚˜
    2. ë‚¨ì€ ì´ì•Œì´ ì—†ê±°ë‚˜
    3. íƒ„ì°½ì— ì´ì•Œì´ ì´ë¯¸ ê°€ë“í•œ ê²½ìš°
  - ì¬ì¥ì „ì„ í•  ìˆ˜ ìˆëŠ” ìƒíƒœì¼ ë•Œë§Œ ì‹¤ì œ ì¬ì¥ì „ ì²˜ë¦¬ë¥¼ í•˜ëŠ” **ReloadRoutine() í•¨ìˆ˜** ì‹¤í–‰

<br>

#### private IEnumerator ReloadRoutine()

> ì‹¤ì œ ì¬ì¥ì „ ì²˜ë¦¬.

```c#
    private IEnumerator ReloadRoutine()
    {
        // í˜„ì¬ ìƒíƒœë¥¼ ì¬ì¥ì „ ì¤‘ ìƒíƒœë¡œ ì „í™˜
        state = State.Reloading;
        // ì¬ì¥ì „ ì†Œë¦¬ ì¬ìƒ
        gunAudioPlayer.PlayOneShot(reloadClip);

        // ì¬ì¥ì „ ì†Œìš” ì‹œê°„ ë§Œí¼ ì²˜ë¦¬ë¥¼ ì‰¬ê¸°
        yield return new WaitForSeconds(reloadTime);

        // íƒ„ì°½ì— ì±„ìš¸ íƒ„ì•½ì„ ê³„ì‚°í•œë‹¤
        var ammoToFill = magCapacity - magAmmo;

        // íƒ„ì°½ì— ì±„ì›Œì•¼í•  íƒ„ì•½ì´ ë‚¨ì€ íƒ„ì•½ë³´ë‹¤ ë§ë‹¤ë©´,
        // ì±„ì›Œì•¼í•  íƒ„ì•½ ìˆ˜ë¥¼ ë‚¨ì€ íƒ„ì•½ ìˆ˜ì— ë§ì¶° ì¤„ì¸ë‹¤
        if (ammoRemain < ammoToFill) ammoToFill = ammoRemain;

        // íƒ„ì°½ì„ ì±„ìš´ë‹¤
        magAmmo += ammoToFill;
        // ë‚¨ì€ íƒ„ì•½ì—ì„œ, íƒ„ì°½ì— ì±„ìš´ë§Œí¼ íƒ„ì•½ì„ ëº¸ë‹¤
        ammoRemain -= ammoToFill;

        // ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°œì‚¬ ì¤€ë¹„ëœ ìƒíƒœë¡œ ë³€ê²½
        state = State.Ready;
    }
```

- í˜„ì¬ ìƒíƒœë¥¼ ì¬ì¥ì „ ì¤‘ ìƒíƒœë¡œ ì „í™˜ `Reloading`
  - ì¬ì¥ì „ ë„ì¤‘ì— ë°œì‚¬í•˜ê±°ë‚˜ ì¬ì¥ì „ ë„ì¤‘ì— ë˜ ì¬ì¥ì „ í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•˜ì—¬ ìƒíƒœ ë³€ê²½
- ì¬ì¥ì „ ì†Œë¦¬ ì¬ìƒ
- ì¬ì¥ì „ ì†Œìš” ì‹œê°„ ë§Œí¼ ëŒ€ê¸° ì‹œê°„ ê°€ì§€ê¸°
- íƒ„ì°½ì— ì±„ìš¸ íƒ„ì•½ì„ ê³„ì‚°í•œë‹¤
  - íƒ„ì°½ì— ì±„ì›Œì•¼í•  íƒ„ì•½ì´ ë‚¨ì€ íƒ„ì•½ë³´ë‹¤ ë§ë‹¤ë©´, ì±„ì›Œì•¼í•  íƒ„ì•½ ìˆ˜ë¥¼ ë‚¨ì€ íƒ„ì•½ ìˆ˜ì— ë§ì¶° ì¤„ì¸ë‹¤
- íƒ„ì°½ì„ ì±„ìš´ë‹¤.
- ë‚¨ì€ íƒ„ì•½ì—ì„œ, íƒ„ì°½ì— ì±„ìš´ë§Œí¼ íƒ„ì•½ì„ ëº¸ë‹¤
- ì´ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°œì‚¬ ì¤€ë¹„ëœ ìƒíƒœë¡œ ë³€ê²½ `Ready`

<br>

#### private void Update()

> í˜„ì¬ **íƒ„ í¼ì§(ë°˜ë™)** ê°’ì„ ìƒíƒœì— ë”°ë¼ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ê°±ì‹ 

```c#
    private void Update()
    {
        currentSpread = Mathf.SmoothDamp(currentSpread, 0f, ref currentSpreadVelocity, 1f / restoreFromRecoilSpeed);
        currentSpread = Mathf.Clamp(currentSpread, 0f, maxSpread);
    }
```

- `currentSpread` ì¦ê°€ëŠ” **Fire** í•¨ìˆ˜ì—ì„œ ì´ë£¨ì–´ ì§„ë‹¤.
- <u>ê°€ë§Œíˆ ìˆëŠ” ìƒíƒœë¼ë©´ `currentSpread`ë¥¼ 0 ìœ¼ë¡œ ì„œì„œíˆ ìŠ¤ë¬´ìŠ¤í•˜ê²Œ ì´ˆê¸°í™” í•´ì•¼ í•œë‹¤.</u>
  - **Mathf.Clamp** ë¥¼ í†µí•˜ì—¬ `currentSpread` ê°€ `maxSpread`ë¥¼ ë„˜ê¸°ì§€ ëª»í•˜ë„ë¡ í•œë‹¤. 
    - ì•„ë¬´ë¦¬ ë°˜ë™ì´ ëˆ„ì ì´ ë˜ë”ë¼ë„ ë§¤ í”„ë ˆì„ë§ˆë‹¤ `currentSpread`ê°€ `maxSpread`ë¥¼ ë„˜ê¸°ì§€ ëª»í•˜ë„ë¡ ë§‰ì•„ ì¤€ë‹¤.
  - **Mathf.SmoothDamp** ë¥¼ í†µí•˜ì—¬ `currentSpread`ê°€ <u>âœ¨ì¦ê°€í•˜ëŠ” ê²ƒê³¼ ë³„ê°œë¡œ</u> <u>ë§¤ í”„ë ˆì„ë§ˆë‹¤ ìŠ¤ë¬´ìŠ¤ í•˜ê²Œ 0 ì— ê°€ê¹Œì›Œ ì§€ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.</u> 
    - ì§€ì—° ì‹œê°„ìœ¼ë¡œëŠ” `1 / restoreFromRecoilSpeed`
      - `restoreFromRecoilSpeed` ê°€ ë†’ìœ¼ë©´ ë†’ì„ ìˆ˜ë¡ ì§€ì—° ì‹œê°„ì´ ì¤„ì–´ë“¤ì–´ì„œ ë¹ ë¥´ê²Œ íƒ„í¼ì§ì´ 0 ì— ë„ë‹¬ í•¨.

<br>

## Gun ì»´í¬ë„ŒíŠ¸ ì„¤ì •

![image](https://user-images.githubusercontent.com/42318591/90249900-3b436080-de76-11ea-9885-a8a2c7ad1edb.png){: width="60%" height="60%"}{: .align-center}


***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}

<br>