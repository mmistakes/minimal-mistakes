---
title:  "Unity Chapter 4-6. ì†Œì½”ë°˜ ê²Œì„ ë§Œë“¤ê¸° : ê²Œì„ ë§¤ë‹ˆì €, ìŠ¹ë¦¬ UI, ìµœì¢… ë¹Œë“œ" 

categories:
  -  Unity Lesson 1 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-06-15
last_modified_at: 2020-06-15
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì œë¯¼ë‹˜ì˜ **ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
[ğŸŒœ [ë ˆíŠ¸ë¡œì˜ ìœ ë‹ˆí‹° C# ê²Œì„ í”„ë¡œê·¸ë˜ë° ì—ì„¼ìŠ¤] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!](https://www.inflearn.com/course/%EC%9C%A0%EB%8B%88%ED%8B%B0-%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%97%90%EC%84%BC%EC%8A%A4)
{: .notice--warning}

<br>

# Chapter 4. ì†Œì½”ë°˜ ê²Œì„ ë§Œë“¤ê¸° : ê²Œì„ ë§¤ë‹ˆì €, ìŠ¹ë¦¬ UI, ìµœì¢… ë¹Œë“œ

## ê²Œì„ ë§¤ë‹ˆì €ì™€ ìŠ¹ë¦¬ ì¡°ê±´

- ê²Œì„ ë§¤ë‹ˆì €ëŠ” ê²Œì„ ë¡œì§ì„ ê´€ë¦¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë‹¤.
  - ê²Œì„ ë§¤ë‹ˆì €ë„ ìŠ¤í¬ë¦½íŠ¸ì´ê¸° ë•Œë¬¸ì— ë‚˜ì¤‘ì— ì‹¤í–‰ ì „ ë¹ˆ ì˜¤ë¸Œì íŠ¸ì— ë¶™ì—¬ì¤„ ê²ƒì´ë‹¤.
- "GameManager"ë¼ëŠ” ì´ë¦„ì˜ <u>C# ìŠ¤í¬ë¦½íŠ¸</u>ë¥¼ ìƒì„±í•œë‹¤. ìœ ë‹ˆí‹°ì—ì„œëŠ” ìŠ¤í¬ë¦½íŠ¸ ì´ë¦„ì„ ê²Œì„ë§¤ë‹ˆì €ë¼ê³  ì§€ìœ¼ë©´ í†±ë‹ˆ ë°”í€´ ëª¨ì–‘ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤.
  - "GameManager"ê°€ ***êµ¬í˜„í•  ì¼***
    - <u>ItemBox 3ê°œê°€ EndPointì™€ ëª¨ë‘ í•œë²ˆì”© ì¶©ëŒí–ˆìœ¼ë©´ ìŠ¹ë¦¬</u>
  - ***ì•Œì•„ì•¼ í•  ê²ƒ***
    1. `GameManager`ëŠ” ItemBox ì˜¤ë¸Œì íŠ¸ 3ê°œë¥¼ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.
      - ItemBox ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹´ëŠ” 3 í¬ê¸°ì˜ ë°°ì—´
    2. `ItemBox`ëŠ” ìì‹ ì´ EndPointì™€ ì¶©ëŒí–ˆì—ˆëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤.
      - boolíƒ€ì…ì˜ flagë¥¼ ë‘ê¸°. ì¶©ëŒí•˜ë©´ trueë¡œ.
      - ì´ flagë“¤ì„ `GameManager`ì—ì„œ ì°¸ê³ í•´ì„œ 3ê°œì˜ ëª¨ë“  flagê°€ trueë©´ ê²Œì„ì„ ìŠ¹ë¦¬ì²˜ë¦¬í•˜ê³  ì¢…ë£Œí•´ì•¼í•¨.

### ğŸ“œ ItemBox.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ItemBox : MonoBehaviour
{
    public bool isOveraped = false; // ItemBoxê°€ ItemBoxì™€ ë¶™ì–´ ìˆë‹¤ë©´ true. ë°˜ë“œì‹œ publicìœ¼ë¡œ í•´ì•¼ ê²Œì„ë§¤ë‹ˆì €ì—ì„œ ì‚¬ìš© ê°€ëŠ¥.

    private Renderer myRenderer;

    public Color touchColor; 
    private Color originalColor; 

    void Start()
    {
        myRenderer = GetComponent<Renderer>();
        originalColor = myRenderer.material.color; 
    }

    void Update()
    {

    }

    void OnTriggerEnter(Collider other)  // EnterëŠ” ì¶©ëŒì„ í•œ ìˆœê°„
    {
        if (other.tag == "EndPoint")
        {
            isOveraped = true; 
            myRenderer.material.color = touchColor;
        }
    }

    void OnTriggerExit(Collider other)  // ExitëŠ” ë–¼ì–´ì§€ëŠ” ìˆœê°„
    {
        if (other.tag == "EndPoint")
        {
            isOveraped = false;
            myRenderer.material.color = originalColor; // ì›ë˜ ìƒ‰ê¹”ë¡œ ëŒë¦¬ê¸° 
        }
    }

    void OnTriggerStay(Collider other)  // StayëŠ” ë¶™ì–´ìˆëŠ” ë™ì•ˆ
    {
        if (other.tag == "EndPoint")
        {
            isOveraped = true;
            myRenderer.material.color = touchColor;
        }
    }
}

```

- <u>public</u> bool `isOveraped` = false;
  - ItemBoxê°€ EndPointì™€ ê²¹ì³ì§€ë©´ trueë¡œ ë°”ë€ë‹¤.
    - `OnTriggerEnter`, `OnTriggerStay`ì¸ ê²½ìš°.
    - 3ê°œì˜ ëª¨ë“  ItemBoxì˜ isOverapedê°€ ë‹¤ trueë©´ ê²Œì„ ìŠ¹ë¦¬.
  - ì´ˆê¸°ê°’ì€ false
  - GameManager ìŠ¤í¬ë¦½íŠ¸ì—ì„œ 3ê°œì˜ ItemBoxì˜ `isOveraped` ê°’ë“¤ì´ ëª¨ë‘ trueì¸ì§€ ì²´í¬í•´ì•¼ í•˜ë¯€ë¡œ `public`ìœ¼ë¡œ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.
    - GameManager ìŠ¤í¬ë¦½íŠ¸ì—ì„œ, ì¦‰ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë‹ˆê¹Œ.

### ğŸ“œ GameManager.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GameManager : MonoBehaviour
{
    public ItemBox[] itemBoxes;
    public bool isGameOver;

    void Start()
    {
        isGameOver = false;
    }

    void Update()
    {
        if(isGameOver == true) // ItemBox ì˜¤ë¸Œì íŠ¸ì˜ ê°ê°ì˜ `isOveraped` ê°’ì´ ëª¨ë‘ Trueì´ë©´
        {
            return; // Updateí•¨ìˆ˜ë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. ë” ì´ìƒ ì•„ë˜ ì½”ë“œë¥¼ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ì‹œí‚¤ì§€ ì•ŠìŒ.
        }

        int count = 0;
        for(int i = 0; i < 3 ; i++)
        {
            if(itemBoxes[i].isOveraped == true) // updateë‹ˆê¹Œ ë§¤ í”„ë ˆì„ë§ˆë‹¤ forë¬¸ ëŒë ¤ì„œ isOveraped ê°€ trueê°€ ëëŠ”ì§€ ê³„ì† ì„¼ë‹¤. 
            {
                count++;
            }
        }

        if(count >= 3)  // count ê°€ 3 ì´ìƒì´ë©´ ê²Œì„ ìŠ¹ë¦¬.
        {
            Debug.Log("ê²Œì„ ìŠ¹ë¦¬!");
            isGameOver = true;  // ì—…ëƒ
        }
    }
}
```

- Hierarchy - Create Empty í•˜ì—¬ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„± í›„ ì´ë¦„ì„ "GameManager"ë¼ê³  í•´ì£¼ì. ê·¸ëŸ° ë‹¤ìŒ ì´ ê²Œì„ ë§¤ë‹ˆì € ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ ì˜¤ë¸Œì íŠ¸ì— ë¶™ì—¬ì¤€ë‹¤.
- `public ItemBox[] itemBoxes;`
  - ItemBox ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ì„ ìˆ˜ ìˆëŠ” ë°°ì—´ì´ë‹¤. 
  - í¬ê¸°ëŠ” ì•„ì§ ì§€ì • X. í¬ê¸°ëŠ” ìœ ë‹ˆí‹°ì—ì„œ ì§€ì •í•  ê²ƒ.
    - `public`ì´ë¯€ë¡œ ìœ ë‹ˆí‹°ì—ì„œ ìŠ¬ë¡¯ì´ ì—´ë ¤ì„œ `size`ë¥¼ ì…ë ¥í•˜ë©´ ê·¸ ìˆ˜ë§Œí¼ ë°°ì—´ì˜ í¬ê¸°ê°€ ê²°ì •ë˜ê³  ì›ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìŠ¬ë¡¯ì´ ë‚˜ì˜¨ë‹¤.
      - GameManager ìŠ¤í¬ë¦½íŠ¸ëŠ” GameManager ì˜¤ë¸Œì íŠ¸ì— ë¶™ì´ë¯€ë¡œ GameManager ì˜¤ë¸Œì íŠ¸ì˜ Inspectorì°½ì—ì„œ ìŠ¬ë¡¯ì´ ì—´ë ¤ ì›ì†Œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
  - ìœ ë‹ˆí‹°ì—ì„œ <u>sizeë¥¼ 3ìœ¼ë¡œ ì…ë ¥</u>í•˜ë©´ 3ê°œì˜ ìŠ¬ë¡¯ì´ ì—´ë¦¬ëŠ”ë° <u>ItemBox ì˜¤ë¸Œì íŠ¸ 3ê°œë¥¼ ê°ê°ì˜ ìŠ¬ë¡¯ì— ì›ì†Œë¡œ ë“œë˜ê·¸ ì•¤ ë“œë¡­</u> í•´ì£¼ì.
- `public bool isGameOver;`
  - ItemBox ì˜¤ë¸Œì íŠ¸ì˜ ê°ê°ì˜ `isOveraped` ê°’ì´ ëª¨ë‘ Trueì´ë©´ `isGameOver`ê°’ì„ Trueë¡œ ë°”ê¾¸ê³  update í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•  ê²ƒì´ë‹¤. 
  - publicì´ê¸° ë•Œë¬¸ì— ItemBoxë¥¼ ë‹¤ EndPointì— ì˜®ê¸°ê³ ë‚˜ë©´ `isGameOver`ìŠ¬ë¡¯ì´ ì²´í¬ê°€ ë˜ìˆëŠ”(True) ê²ƒì„ ìœ ë‹ˆí‹°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤
- `return`
  - Updateí•¨ìˆ˜ë¥¼ ì¢…ë£Œí•œë‹¤.
    - Updateí•¨ìˆ˜ê°€ ì‹¤í–‰ì´ ì•„ì˜ˆ ì•ˆë˜ëŠ”ê²Œ ì•„ë‹˜! ì°©ê° ë…¸ë…¸. Updateí•¨ìˆ˜ëŠ” ë§¤ ìˆœê°„ ì‹¤í–‰ë˜ë‚˜ returnì„ ì•ì—ì„œ ë§Œë‚˜ë‹ˆ ë°”ë¡œ Updateí•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì–´ ë²„ë¦¬ëŠ” ê²ƒì¼ ë¿. 
  - ë” ì´ìƒ ì•„ë˜ ì½”ë“œë¥¼ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ì‹œí‚¤ì§€ ì•ŠìŒ.

![image](https://user-images.githubusercontent.com/42318591/84607706-c42b3380-aee9-11ea-99f7-0710ac03f347.png){: width="80%" height="80%"}{: .align-center}


<br>

## ìŠ¹ë¦¬ UI ë§Œë“¤ê¸° 

### UI ì¶”ê°€í•˜ê¸°

Hierarchyì—ì„œ ìš°í´ í•œ í›„ UI - Text í•´ì£¼ë©´ í…ìŠ¤íŠ¸ UI ì˜¤ë¸Œì íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì´ë¦„ì„ "Win UI"ë¡œ í•´ì£¼ì.

![image](https://user-images.githubusercontent.com/42318591/84608003-4d8f3580-aeeb-11ea-9560-2ae81d486f8a.png){: width="50%" height="50%"}{: .align-center}

UIë¥¼ ìƒì„±í•˜ë©´ `Canvas`ì™€ `EventSystem`ì´ë¼ëŠ” ê²ƒì´ í•¨ê»˜ ìƒê¸´ë‹¤.

### Canvasì™€ EventSystem

![image](https://user-images.githubusercontent.com/42318591/84608385-25a0d180-aeed-11ea-8536-f018221afc4a.png){: width="50%" height="50%"}{: .align-center}

- `Canvas`
  - UIë¥¼ ìœ„í•œ 2D `ì¢Œí‘œê³„`.
    - ì´ë¯¸ì§€, í…ìŠ¤íŠ¸, ë²„íŠ¼ ë“±ë“± ëª¨ë“  UIë“¤ì€ ì´ `Canvas`ìœ„ì— ë‚˜íƒ€ë‚œë‹¤.
    - <u>UIëŠ” ê²Œì„ ì›”ë“œë‘ì€ ìƒê´€ì—†ëŠ” ë³¸ì¸ë§Œì˜ ì¢Œí‘œê³„</u>ë¥¼ ì“´ë‹¤.
      - ê²Œì„ ì›”ë“œì˜ í¬ê¸°, ìœ„ì¹˜ì™€ëŠ” ì „í˜€ ìƒê´€ì—†ìŒ. ê²Œì„ ì›”ë“œì™€ ë…ë¦½ì ì„. 
  - ìœ„ ì‚¬ì§„ì„ ë³´ë©´ ì•Œê² ì§€ë§Œ CanvasëŠ” ì—„~ì²­ í¬ë‹¤. ë¹¨ê°„ ë™ê·¸ë¼ë¯¸ëŠ” í˜„ì¬ê¹Œì§€ ë§Œë“  ì†Œì½”ë°˜ ê²Œì„ ë§µ... 
    - ì»¤ë‹¤ë€ ì´ìœ ëŠ” ê²Œì„ ì›”ë“œì™€ ì‚¬ìš©í•˜ëŠ” ì¢Œí‘œê³„ê°€ ë‹¤ë¥¸ë° ê²Œì„ ì›”ë“œì— ì ìš©í•˜ë‹ˆ ì¶•ì²™ì´ ë˜ì„œ ì €ë ‡ê²Œ ì»¤ì§„ ê²ƒ.
  - ê²Œì„ ì›”ë“œì˜ ì¢Œí‘œê³„ì™€ëŠ” ì „í˜€ ìƒê´€ì´ ì—†ê³  í”Œë ˆì´ì–´ê°€ ë³´ê²Œ ë  í™”ë©´ì— ëŒ€ì‘í•œë‹¤. 
    - ìº”ë²„ìŠ¤ì˜ í¬ê¸°ì™€ ë¹„ìœ¨ì€ ì¦‰ Gameì°½ ë¹„ìœ¨ì— ë¹„ë¡€í•œë‹¤. 
- `EventSystem`
  - ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ìš°ë¦¬ê°€ ë§Œì§ˆ í•„ìš” X
  - ìœ ì €ì˜ í‚¤ë³´ë“œ, ë§ˆìš°ìŠ¤, í„°ì¹˜ ë“±ë“± ì´ëŸ¬í•œ <u>ìœ ì €ë“¤ì˜ ì…ë ¥ì„ ë°›ì•„ UIì—ê²Œ ì „ë‹¬</u>í•´ì¤€ë‹¤.

### í…ìŠ¤íŠ¸ UIë¥¼ í¸ì§‘í•´ë³´ì : Rect Transform
1. í…ìŠ¤íŠ¸ í¸ì§‘ì„ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ Sceneì°½ì˜ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” `2D`ë¥¼ ëˆŒëŸ¬ 2D ë·°ë¡œ ë°”ê¿”ì£¼ì.
  - ì´ ìƒíƒœì—ì„œ Hierarchyì—ì„œ Text UIë¥¼ ë”ë¸” í´ë¦­í•˜ì—¬ Textë¥¼ ì¤‘ì ì ìœ¼ë¡œ ì”¬ ì¹´ë©”ë¼ë¥¼ ì˜®ê²¨ì£¼ì.
2. Text UIë¥¼ ìº”ë²„ìŠ¤ ì •ì¤‘ì•™ ìœ„ì¹˜ì— <u>ë°°ì¹˜</u>í•´ì£¼ì. ì²˜ìŒì—” Textê°€ ì—‰ëš±í•œ ìœ„ì¹˜ì— ìƒê¸°ëŠ” ê²½ìš°ë„ ë§ì•„ì„œ..
  - Inspectorì°½ì˜ `Rect Transform` ì»´í¬ë„ŒíŠ¸.
    - ì¼ë°˜ Transform ì»´í¬ë„ŒíŠ¸ì™€ ë¹„ìŠ·í•˜ë˜ <u>ì‚¬ê°í˜• ì˜ì—­ì— 'ë°°ì¹˜'í•˜ê¸° ìœ„í•œ Transform</u>
      - `Pos X,Y,Z`, `Width`, `Height`,`Anchors`, `Pivot`ìœ¼ë¡œ UIì˜ ë°°ì¹˜ë¥¼ ì„¸ë°€í•˜ê²Œ ë””ìì¸ í•  ìˆ˜ ìˆì§€ë§Œ ê·€ì°®ìœ¼ë¯€ë¡œ `Anchor Presets`ë¥¼ ì´ìš©í•˜ì. (ì¢Œì¸¡ì— ìˆëŠ” ì–‘ê¶ ê³¼ë…˜ê°™ì€ ê·¸ë¦¼)
    - `Anchor Presets`
      - ìœ ë‹ˆí‹°ì—ì„œ ì œê³µí•˜ëŠ” ìì£¼ ì“°ì´ëŠ” UI ë°°ì¹˜.
      - ì„ íƒí•´ì„œ ì‚¬ìš©í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
      - ì„ íƒì‹œ `Alt í‚¤`ë¥¼ ëˆ„ë¥¸ ìƒíƒœì—ì„œ ì„ íƒí•´ì•¼ ë°˜ì˜ëœë‹¤!
3. Text ì»´í¬ë„ŒíŠ¸ì—ì„œ í…ìŠ¤íŠ¸ ë‚´ìš©ì„ í¸ì§‘í•´ì£¼ì.
  - "You Win!"ìœ¼ë¡œ ë°”ê¿”ì£¼ì.
  - í°íŠ¸ ì‚¬ì´ì¦ˆë¥¼ í‚¤ì›Œì¤€ë‹¤.
    - í°íŠ¸ ì‚¬ì´ì¦ˆë¥¼ ë„ˆë¬´ í‚¤ì›Œ ë‚´ìš©ì´ ì§¤ë¦´ ê²½ìš° í…ìŠ¤íŠ¸ ìƒìë¥¼ í‚¤ì›Œì£¼ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ ì•„ë˜ì—ì„œ í•´ê²°í•  ìˆ˜ë„ ìˆë‹¤. 
      - Paragraph
         - Horizontal Overflow, Vertical Overflow ì—ì„œ
        - ê°ê° ìˆ˜í‰ í˜¹ì€ ìˆ˜ì§ìœ¼ë¡œ ê¸€ì”¨ ìˆ˜ê°€ í…ìŠ¤íŠ¸ UI í¬ê¸°ë¥¼ ë„˜ì–´ê°€ì„œ ì˜ë¦´ ë•Œ `Overflow`ë¼ê³  ì„ íƒí•´ì£¼ë©´ ê¸€ì”¨ê°€ ì•ˆì˜ë¦°ë‹¤. ë‘˜ë‹¤ Overflowë¡œ ë°”ê¿” ì¤€ë‹¤.
  - ê°€ìš´ë° ì •ë ¬ í•´ì¤€ë‹¤.
  - í…ìŠ¤íŠ¸ ì»¬ëŸ¬ë¥¼ ì„ íƒí•œë‹¤. 
  - í°íŠ¸ ì¢…ë¥˜ë„ ë°”ê¿”ì¤€ë‹¤. 
    - ê°–ê³  ìˆëŠ” í°íŠ¸ íŒŒì¼ì„ ìœ ë‹ˆí‹° `ğŸ“/Assets`ì— ë„£ì–´ì¤€ í›„ í°íŠ¸ íŒŒì¼ì„ ë“œë˜ê·¸ í•´ì„œ Fontì— ë„£ì–´ì£¼ë©´ ëœë‹¤. 
  - í…ìŠ¤íŠ¸ì— shadow ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ì£¼ì
    - í…ìŠ¤íŠ¸ UIì— `Shadow` ì»´í¬ë„ŒíŠ¸ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì¶”ê°€í•´ì£¼ë©´ ê·¸ë¦¼ìê°€ ìƒê¸´ë‹¤.
  
### UIê°€ ê²Œì„ ìŠ¹ë¦¬ì‹œì—ë§Œ ë‚˜íƒ€ë‚˜ë„ë¡ êµ¬í˜„í•˜ê¸°

UIì˜ Inspectorì°½ì— UI ì´ë¦„ì´ ìˆëŠ” ê³³ ë°”ë¡œ ì™¼ìª½ì— ì²´í¬ ë°•ìŠ¤ê°€ ìˆë‹¤. ì´ ì²´í¬ ë°•ìŠ¤ë¥¼ í•´ì œí•˜ë©´ UIê°€ ë³´ì´ì§€ ì•Šê²Œ ëœë‹¤. <u>ê²Œì„ì´ ìŠ¹ë¦¬í•  ë•Œë§Œ</u> ì´ ì²´í¬ ë°•ìŠ¤ë¥¼ ì²´í¬ í•˜ì—¬ <u>UIê°€ ë³´ì´ê²Œ í•˜ì.</u> ì´ ê°™ì€ ì²˜ë¦¬ë¥¼ ì—­ì‹œ GameManagerì—ì„œ í•´ì£¼ë©´ ëœë‹¤.

### ğŸ“œ GameManager.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GameManager : MonoBehaviour
{
    public GameObject winUI;

    public ItemBox[] itemBoxes;
    public bool isGameOver;

    void Start()
    {
        isGameOver = false;
    }

    void Update()
    {
        if(isGameOver == true) 
        {
            return; 
        }

        int count = 0;
        for(int i = 0; i < 3 ; i++)
        {
            if(itemBoxes[i].isOveraped == true) 
            {
                count++;
            }
        }

        if(count >= 3) 
        {
            Debug.Log("ê²Œì„ ìŠ¹ë¦¬!");
            isGameOver = true;  
            winUI.SetActive(true); // winUI ë³€ìˆ˜ê°€ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë³´ì´ê²Œë” ì¼œì¤€ë‹¤.
        }
    }
}
```
ìš°ì„  WinUI ì˜¤ë¸Œì íŠ¸ì˜ ì²´í¬ë°•ìŠ¤ë¥¼ í•´ì œí•˜ì—¬ êº¼ì¤€ë‹¤.

-`public GameObject winUI`
  - publicì´ë¯€ë¡œ ì–´ë–¤ GameObjectë¥¼ ë„£ì„ ìˆ˜ ìˆëŠ” ìŠ¬ë¡¯ì´ ìœ ë‹ˆí‹°ì—ì„œ ì—´ë¦°ë‹¤
  - ìŠ¹ë¦¬ í…ìŠ¤íŠ¸ UIë¥¼ ì—¬ê¸° ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•´ì£¼ë©´ `winUI`ë³€ìˆ˜ê°€ ì´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ëœë‹¤. 
- `winUI.SetActive(true);`
  - winUI ë³€ìˆ˜ê°€ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë³´ì´ê²Œë” ì¼œì¤€ë‹¤.
  - ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•˜ë©´ (if(count >= 3)) ìŠ¬ë¡¯ì—ì„œ winUIì— `WinUI` UI ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ì–´ì£¼ì—ˆìœ¼ë‹ˆ êº¼ë†¨ë˜ WinUIê°€ ì¼œì ¸ í…ìŠ¤íŠ¸ UIê°€ ë³´ì´ê²Œ ë  ê²ƒì´ë‹¤. 

![image](https://user-images.githubusercontent.com/42318591/84612733-7835ba00-aefc-11ea-8055-fe4a826ec88f.png){: width="60%" height="60%"}{: .align-center}

<br>

## ìŠ¤í˜ì´ìŠ¤ë°” ëˆ„ë¥´ë©´ ê²Œì„ì„ ì¬ì‹œì‘í•˜ê²Œë” í•´ë³´ì.

1. `Ctrl + S`ë¥¼ ëˆŒëŸ¬ ì”¬ì„ ì €ì¥í•´ì¤€ë‹¤. 
2. ë©”ë‰´ - File - Build Settings ì— ë“¤ì–´ê°„ë‹¤. 
3. Scenes In Buildì— ë§Œë“  scene íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ì—¬ ë„£ì–´ì¤€ë‹¤. 
  - ì˜¤ë¥¸ìª½ì— ë³´ì´ëŠ” ìˆ«ì `0`ì€ ë¹Œë“œ ë²ˆí˜¸ì´ë‹¤. ë¹Œë“œì— í¬í•¨ë˜ëŠ” ìˆœì„œ.
    - ì• ë²ˆí˜¸ì¼ ìˆ˜ë¡ ê²Œì„ì„ ì‹¤í–‰í–ˆì„ ë•Œ ê°€ì¥ ë¨¼ì € ì—´ë¦¬ëŠ” ì”¬ì´ ëœë‹¤.
4. ì•„ì§ ë¹Œë“œ í•˜ì§€ ë§ê³  3ë²ˆê¹Œì§€ ì‹¤í–‰í•œ ìƒíƒœì—ì„œ GameManager.cs ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì

### ğŸ“œ GameManager.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement; // ğŸ’› ì¶”ê°€

public class GameManager : MonoBehaviour
{
    public GameObject winUI;

    public ItemBox[] itemBoxes;
    public bool isGameOver;

    void Start()
    {
        isGameOver = false;
    }

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            // SceneManager.LoadScene("Main");
            SceneManager.LoadScene(0);
        }

        if (isGameOver == true)
        {
            return;
        }

        int count = 0;
        for (int i = 0; i < 3; i++)
        {
            if (itemBoxes[i].isOveraped == true)
            {
                count++;
            }
        }

        if (count >= 3)
        {
            Debug.Log("ê²Œì„ ìŠ¹ë¦¬!");
            isGameOver = true;
            winUI.SetActive(true);
        }
    }
}
```

- `using UnityEngine.SceneManagement`
  - sceneê³¼ sceneì„ ë„˜ë‚˜ ë“œëŠ” ì‘ì—…ì„ í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©.
  - `SceneManagement`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- `if (Input.GetKeyDown(KeyCode.Space))`
  - ìŠ¤í˜ì´ìŠ¤ë°”ë¥¼ <u>ëˆ„ë¥´ëŠ” ìˆœê°„</u> 
  - `GetKey` : í‚¤ë¥¼ ëˆ„ë¥´ëŠ” ë™ì•ˆ
  - `GetKeyUp` : í‚¤ë¥¼ ë–¼ëŠ” ìˆœê°„
  - `GetKeyDown` : í‚¤ë¥¼ ëˆ„ë¥´ëŠ” ìˆœê°„ 
- `SceneManager.LoadScene(0);`
  - ìš°ë¦¬ê°€ Build Settingsì—ì„œ ì„¤ì •í•œ 0ë²ˆì§¸ë¡œ ë¹Œë“œë˜ëŠ” ì”¬ì„ ë¶ˆëŸ¬ ì˜¨ë‹¤. 
  - SceneManager.LoadScene("Main");
    - "Main"ì´ë¼ëŠ” ì´ë¦„ì˜ ì”¬ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.
  - ì¦‰ ìŠ¤í˜ì´ìŠ¤ë°”ë¥¼ ëˆ„ë¥´ë©´ í•´ë‹¹ ì”¬ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ.

<br>

## ë°°ê²½ ìŒì•… ì…íˆê¸°

1. ë°°ê²½ ìŒì•…ìœ¼ë¡œ ì“¸ mp3íŒŒì¼ì„ `/ğŸ“Assets`ì— ë„£ì–´ ì¤€ë‹¤.
2. ë°°ê²½ ìŒì•…ì„ ì‘ë™ì‹œí‚¤ëŠ” <u>Audio Source ì»´í¬ë„ŒíŠ¸</u>ë¥¼ ë¶™ì—¬ ì¤„ <u>ë¹ˆ ì˜¤ë¸Œì íŠ¸</u>ë¥¼ ìƒì„±í•œë‹¤. 
  - ì´ë¦„ì€ "BGM"ìœ¼ë¡œ í•´ì£¼ì.
  - Audio ì»´í¬ë„ŒíŠ¸ë¥¼ ê²€ìƒ‰í•˜ì—¬ BGM ì˜¤ë¸Œì íŠ¸ì— ë¶™ì—¬ì£¼ì.  
  - ìœ ë‹ˆí‹°ì—ì„œëŠ” ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì˜¤ë””ì˜¤ í´ë¦½(Audio Clip)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.
3. Audio Clip ë¶€ë¶„ì— ë°°ê²½ìŒì•…ìœ¼ë¡œ ì“¸ mp3 íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•´ì¤€ë‹¤.
4. ì˜µì…˜ ì„¤ì •
  - `Play On Awake` : ê²Œì„ ì‹œì‘í•˜ì ë§ˆì ì¬ìƒí• ê±´ì§€
  - `Loop` : ìŒì•…ì´ ëë‚˜ë„ ë‹¤ì‹œ ë°˜ë³µí• ê±´ì§€
  - ë³¼ë¥¨ í¬ê¸° ì„¤ì •ë„ ê°€ëŠ¥

<br>

## ê²Œì„ì´ ëë‚˜ë©´ í”Œë ˆì´ì–´ ì˜¤ë¸Œì íŠ¸ë¥¼ ì›€ì§ì´ì§€ ëª»í•˜ë„ë¡ í•˜ê¸°

- Player ìŠ¤í¬ë¦½íŠ¸ì—ì„œ <u>GameManagement ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° ê²Œì„ì´ ìŠ¹ë¦¬í•˜ê³  ì¢…ë£Œë˜ì—ˆë‹¤ëŠ” ì •ë³´ë¥¼ ì „ë‹¬ ë°›ì•„ì„œ</u> Player ì˜¤ë¸Œì íŠ¸ë¥¼ ëª» ì›€ì§ì´ê²Œë” í•´ì£¼ì–´ì•¼ í•¨.
- Player ìŠ¤í¬ë¦½íŠ¸ì˜ <u>updateí•¨ìˆ˜ë¥¼ ì•ë¶€ë¶„ ifë¬¸ì„ ë†”ì„œ returní•´ ì¢…ë£Œì‹œì¼œ ì£¼ë©´ ëœë‹¤.</u>
  - ê·¸ëŸ¼ ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆë‹¤ëŠ” if ì¡°ê±´ë¬¸ì— í•´ë‹¹ë˜ë©´ ì•„ë˜ì— í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ì•„ Player ì˜¤ë¸Œì íŠ¸ë¥¼ ì›€ì§ì´ëŠ” ì½”ë“œë¥¼ ì´ì œ ì‹¤í–‰í•  ìˆ˜ ì—†ê²Œ ë¨. 

### ğŸ“œ Player.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    public GameManager gameManager; // ì¶”ê°€

    public float speed = 10f;
    Rigidbody playerRigidbody;
    
    void Start()
    {
        playerRigidbody = GetComponent<Rigidbody>(); 
    }

    
    void Update()
    {
        if (gameManager.isGameOver == true) // ì¶”ê°€
        {
            return;
        }

        float inputX = Input.GetAxis("Horizontal");

        float inputZ = Input.GetAxis("Vertical");

        float fallSpeed = playerRigidbody.velocity.y; 

        Vector3 velocity = new Vector3(inputX, 0, inputZ);
        velocity = velocity * speed;

        velocity.y = fallSpeed; 

        playerRigidbody.velocity = velocity;  
    }
}
```

- `public GameManager gameManager;`
  - ê²Œì„ì„ ìŠ¹ë¦¬í•˜ë©´ True ê°’ì´ ë˜ëŠ” GameManager ìŠ¤í¬ë¦½íŠ¸ì˜ `isGameOver` ë³€ìˆ˜ ì •ë³´ê°€ í•„ìš”í•˜ë¯€ë¡œ
  - GameManager ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¸ì¡°í•  `gameManager` ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.
  - public ì´ë¯€ë¡œ ì§ì ‘ Hierarchyì°½ì— ìˆëŠ” GameManager ì˜¤ë¸Œì íŠ¸ë¥¼ ë“œë˜ê·¸ í•˜ì—¬ Playerì˜ ìŠ¤í¬ë¦½íŠ¸ gameManager ìŠ¬ë¡¯ì— ë“œë¡­ í•´ì£¼ì–´ì•¼ í•¨!
    - ì˜ ì—°ê²°í•˜ë©´ ì´ì œ `isGameOver` ë³€ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
      - `isGameOver` ë³€ìˆ˜ë„ publicì´ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ì™¸ë¶€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ê²ƒ.
- `if (gameManager.isGameOver == true)`
  - ê²Œì„ì´ ì¢…ë£Œëë‹¤ëŠ” ì •ë³´ë¥¼ GameManager ì˜¤ë¸Œì íŠ¸ë¡œë¶€í„° ë°›ìœ¼ë©´
  - `return`
    - Update í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•œë‹¤.
      - `isGameOver = True` ê°€ ë˜ì–´ ì´ì œ ë§¤ í”„ë ˆì„ë§ˆë‹¤ Update í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ ì—¬ê¸°ì„œ return ë í…Œë‹ˆ ì•„ë˜ì— í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ì•„ Player ì˜¤ë¸Œì íŠ¸ë¥¼ ì›€ì§ì´ëŠ” ì½”ë“œë¥¼ ì´ì œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

<br>

## ìµœì¢… ë¹Œë“œ
1. ë¹Œë“œ ì „ `Ctrl + S`ë¥¼ ëˆŒëŸ¬ ì”¬ì„ ì €ì¥í•´ì¤€ë‹¤. 
2. ë©”ë‰´ - File - Build Settings ì— ë“¤ì–´ê°„ë‹¤. 
3. ì‘ì—…í•œ Scene íŒŒì¼ì„ ë“œë˜ê·¸ í•˜ì—¬ Scene in Buildì— ë“œë¡­í•´ì¤€ë‹¤. ì´ë¯¸ ë˜ìˆë‹¤ë©´ íŒ¨ìŠ¤
4. `Build and Run`ì„ í•´ì£¼ê³  ì €ì¥í•˜ë©´ ë
  - í”„ë¡œì íŠ¸ ê²½ë¡œì— ê°™ì´ ì €ì¥í•˜ëŠ”ê±´ ë¹„ì¶”ë‹¤. ê¼¬ì¼ ìˆ˜ ìˆìŒ.
  - ê·¸ëƒ¥ ë°”íƒ•í™”ë©´ ê°™ì€ ê³³ì— ìƒˆ í´ë” ë§Œë“¤ì–´ì„œ ê·¸ê³³ì— ì €ì¥í•´ì£¼ì.
5. ì €ì¥í•  íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œ ê²Œì„ì„ í”Œë ˆì´ í•´ë³´ì.

*cf) ë§Œë“  ê²Œì„ì„ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ë³´ë‚¼ ë•ŒëŠ” ë§Œë“¤ì–´ì§„ í´ë”, íŒŒì¼ì„ ì „ì²´ ì••ì¶•í•´ì•¼ í•œë‹¤.*

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}