---
title:  "Unity Chapter 7-5. C# ν”„λ΅κ·Έλλ° [μ¤‘κΈ‰] (2/2) : μΈν„°νμ΄μ¤" 

categories:
  -  Unity Lesson 1 
tags:
  - [Game Engine, Unity, C Sharp]

toc: true
toc_sticky: true

date: 2020-06-28
last_modified_at: 2020-06-28
---

μΈν”„λ°μ— μλ” μ΄μ λ―Όλ‹μ **λ νΈλ΅μ μ λ‹ν‹° C# κ²μ„ ν”„λ΅κ·Έλλ° μ—μ„Όμ¤** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€  
[π [λ νΈλ΅μ μ λ‹ν‹° C# κ²μ„ ν”„λ΅κ·Έλλ° μ—μ„Όμ¤] κ°•μ λ“¤μΌλ¬ κ°€κΈ°!](https://www.inflearn.com/course/%EC%9C%A0%EB%8B%88%ED%8B%B0-%EA%B2%8C%EC%9E%84-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%97%90%EC%84%BC%EC%8A%A4)
{: .notice--warning}

<br>

# Chapter 7. C# ν”„λ΅κ·Έλλ° : μ¤‘κΈ‰ (2/2)

<br>

## π”” μΈν„°νμ΄μ¤


λ¨λ“  μ•„μ΄ν…μ <u>κ³µν†µμ μΈ κΈ°λ¥</u>, λ¨λ“  μ§μ—…μ <u>κ³µν†µμ μΈ νΉμ§•</u>μ„ `μΈν„°νμ΄μ¤` μ•μ— κµ¬ν„ν•¨.

> `Interface` : μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›λ” μμ‹ ν΄λμ¤λ“¤μ€ μΈν„°νμ΄μ¤μ ν•¨μλ‚ ν”„λ΅νΌν‹°λ¥Ό <u>λ°λ“μ‹ λ¨λ‘ μ¬μ •μ</u> ν•΄μ•Ό ν•λ‹¤.

> **<u>λ‹¤ν•μ„±</u>**μ„ ν†µν•΄ λ¶€λ¨ν΄λμ¤μΈ `Interface`λ΅ <u>μ—¬λ¬ μμ‹λ“¤μ„ ν•λ²μ— κ΄€λ¦¬</u>ν•  μ μλ‹¤.

<br>

### μΈν„°νμ΄μ¤λ¥Ό μ“°μ§€ μ•μ€ κ²½μ°

- Player κ°€ μ•„μ΄ν…μ„ λ¨ΉμΌλ©΄ Hp νΉμ€ Goldκ°€ μ¦κ°€ν•κ² ν•λ ¤ ν•λ‹¤.
- μ•„μ΄ν…λ“¤μ€ μ¶©λ μ²λ¦¬λ¥Ό μ„ν•΄ Collider μ»΄ν¬λ„νΈμ—μ„ Is Trigger μ²΄ν¬λ¥Ό ν•΄μ¤€λ‹¤. 

#### π“ GoldItem.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GoldItem : MonoBehaviour
{
    public int goldAmount = 100;

    public void Use()
    {
        Debug.Log("κ³¨λ“λ¥Ό μ–»μ—λ‹¤!");

        Player player = FindObjectOfType<Player>(); // ν”λ μ΄μ–΄λ¥Ό μ°Ύμ•„
        player.gold += goldAmount; // ν”λ μ΄μ–΄μ κ³¨λ“λ¥Ό 100λ§νΌ μ¦κ°€μ‹ν‚¨λ‹¤.

        gameObject.SetActive(false); // κ³¨λ“ μ•„μ΄ν…μ„ νλ“ν–μΌλ‹ κΊΌμ¤€λ‹¤.
    }
}
```

#### π“ HealthKitItem.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class HealthKitItem : MonoBehaviour
{
    public int restoreHealth = 100;

    public void Use()
    {
        Debug.Log("μ²΄λ ¥μ„ νλ³µν–λ‹¤!");

        Player player = FindObjectOfType<Player>(); // ν”λ μ΄μ–΄λ¥Ό μ°Ύμ•„
        player.hp += restoreHealth; // ν”λ μ΄μ–΄μ hpλ¥Ό 100λ§νΌ μ¦κ°€μ‹ν‚¨λ‹¤.

        gameObject.SetActive(false); // ν—¬μ¤ν‚·μ„ νλ“ν–μΌλ‹ κΊΌμ¤€λ‹¤.
    }
}
```

#### π“Player.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
    public float hp = 50;
    public int gold = 1000;

    private Rigidbody2D m_rigidbody;
    private float speed = 3f;
    private float jumpSpeed = 5f;

    void Start()
    {
        m_rigidbody = GetComponent<Rigidbody2D>();
    }

    void Update()
    {
        Vector2 currentVelocity = m_rigidbody.velocity;
        float horizontal = Input.GetAxis("Horizontal");
        currentVelocity.x = horizontal * speed;

        if(Input.GetButtonDown("jump"))
        {
            currentVelocity.y = jumpSpeed;
        }

        m_rigidbody.velocity = currentVelocity;
    }

    void OnTriggerEnter2D(Collider2D other)
    {
        GoldItem goldItem = other.GetComponent<GoldItem>();
        if(goldItem != null)
        {
            goldItem.Use();
        }

        HealthKitItem healthKitItem = other.GetComponent<HealthKitItem>();
        if(healthKitItem != null)
        {
            healthKitItem.Use();
        }
    }
}
```

#### μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” μ΄μ 

```c#
    void OnTriggerEnter2D(Collider2D other)
    {
        GoldItem goldItem = other.GetComponent<GoldItem>();
        if(goldItem != null)
        {
            goldItem.Use();
        }

        HealthKitItem healthKitItem = other.GetComponent<HealthKitItem>();
        if(healthKitItem != null)
        {
            healthKitItem.Use();
        }

        // μ•„μ•„ν…μ΄ λμ–΄λ‚  μλ΅ μ΄ ifλ¬Έμ„ κ³„μ†ν•΄μ„ μ¶”κ°€ν•΄μ•Όν•λ‹¤.
    }
```

- λ¬Έμ λ” μ‹¤μ  κ²μ„μƒμ—μ„  μ•„μ΄ν… μΆ…λ¥κ°€ ν• λ‘κ°κ°€ μ•„λ‹λΌλ” κ²ƒ. 
  - μ•„μ΄ν…μ΄ μμ‹­κ°, μλ°±κ°μΌ κ²½μ° μ•„μ΄ν…λ§λ‹¤ GetComponent ν•΄ μ™€μ„ ifλ¬Έ μ²λ¦¬λ¥Ό ν•λ©΄ μ½”λ“κ°€ κΈΈμ–΄μ§€κ³  λ³µμ΅ν•΄μ§ κ²ƒμ΄λ‹¤. 
  - ν•λ§λ””λ΅ λ…Έκ°€λ‹¤λ‹¤. 
- `Use()`ν•¨μλ” λ¨λ“  μ•„μ΄ν…λ“¤μ΄ κ°€μ§€λ” κ³µν†µλ κΈ°λ¥μ΄λ―€λ΅ **μ•„μ΄ν… μ© μΈν„°νμ΄μ¤** λ¥Ό λ§λ“¤μ–΄ μ΄λ¥Ό μƒμ†λ°›λ” λ¨λ“  μμ‹λ“¤μ΄ `Use()` ν•¨μλ¥Ό κµ¬ν„ν•κ² ν•λ‹¤λ©΄
  - **λ‹¤ν•μ„±**μ„ μ‚¬μ©ν•μ—¬ μμ‹μ νƒ€μ…κ³Ό μƒκ΄€μ—†μ΄ λ¶€λ¨(μΈν„°νμ΄μ¤) νƒ€μ… ν•λ‚λ΅ κ³µν†µλ `Use()` ν•¨μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

<br>

### μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν• κ²½μ°

- μΈν„°νμ΄μ¤ C# μ¤ν¬λ¦½νΈμ μ΄λ¦„μ€ λ¬΄μ΅°κ±΄ μ•μ— λ€λ¬Έμ `I`λ¥Ό λ¶™μ—¬μ£Όμ–΄μ•Ό ν•λ‹¤. 
  - μΈν„°νμ΄μ¤ μ¤ν¬λ¦½νΈ π“IItem.cs λ¥Ό λ§λ“¤μ–΄ μ£Όμ—λ‹¤.

> μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›λ” μμ‹ν΄λμ¤λ“¤μ€ **<u>λ¨λ“ </u>** ν•¨μ νΉμ€ ν”„λ΅νΌν‹°λ¥Ό <u>λ°λ“μ‹ μ¬μ •μ</u> ν•μ—¬μ•Όν•λ‹¤. 

#### μΈν„°νμ΄μ¤ μ‘μ„±ν•κΈ° 

##### π“IItem.cs

```c#
public interface IItem
{
    void Use();
}
```
- μ¤ν¬λ¦½νΈ μƒμ„±μ‹ κΈ°λ³ΈμΌλ΅ μ ν€μλ” using UnityEngine, ν΄λμ¤ λ“±λ“± μ „λ¶€ λ‹¤ μ§€μ›μ¤€ ν›„
- `public interface μΈν„°νμ΄μ¤μ΄λ¦„` μ„ μ‘μ„±ν•΄μ¤€λ‹¤.
- *void Use();*
  - μ΄ μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›μ„ μμ‹ν΄λμ¤μ—μ„ μ „λ¶€ μ¬μ •μ ν•λ„λ΅ <u>ν•¨μλ” κ»λ°κΈ°(ν”„λ΅ν† νƒ€μ…)λ§ μ‘μ„±ν•λ‹¤.</u>
    - μΈν„°νμ΄μ¤λ” μμ‹ ν΄λμ¤λ“¤μ΄ μ΄λ¥Ό μ–΄λ–»κ² μ¬μ •μν• μ§€λ” μ‹ κ²½μ“°μ§€ μ•μ§€λ§ <u>λ°λ“μ‹ μ¬μ •μ ν•μ—¬ μ΄ ν•¨μλ¥Ό κ°€μ§€λ„λ΅ κ°•μ ν•λ‹¤.</u>

#### μΈν„°νμ΄μ¤ μƒμ†λ°›κ³  μ¬μ •μν•κΈ°

##### π“ GoldItem.cs 

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GoldItem : MonoBehaviour, IItem
{
    public int goldAmount = 100;

    public void Use()   // μ¤λ²„λΌμ΄λ”©
    {
        Debug.Log("κ³¨λ“λ¥Ό μ–»μ—λ‹¤!");

        Player player = FindObjectOfType<Player>();
        player.gold += goldAmount;

        gameObject.SetActive(false);
    }
}
```

- *public class GoldItem : MonoBehaviour **, IItem***
  - π“GoldItem ν΄λμ¤λ” λ¶€λ¨ν΄λμ¤μΈ **π“IItem** μΈν„°νμ΄μ¤λ„ μƒμ†λ°›κ³  MonoBehaviourλ„ μƒμ†λ°›λ”λ‹¤. *(λ‹¤μ¤‘μƒμ†)*
  - **π“IItem** μΈν„°νμ΄μ¤μ ν•¨μ `Use()`μ„ <u>λ°λ“μ‹ μ¬κµ¬ν„ ν•΄μ•Όν•λ‹¤.</u>
    - ν•¨μ `Use()`μ„ μ¤λ²„λΌμ΄λ”© ν•μ§€ μ•μΌλ©΄ μ—λ¬κ°€ λ‚λ‹¤.

##### π“ HealthKitItem.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class HealthKitItem : MonoBehaviour, IItem
{
    public int restoreHealth = 100;

    public void Use()
    {
        Debug.Log("μ²΄λ ¥μ„ νλ³µν–λ‹¤!");

        Player player = FindObjectOfType<Player>();
        player.hp += restoreHealth;

        gameObject.SetActive(false);
    }
}
```

- *public class HealthKitItem : MonoBehaviour **, IItem***
  - π“HealthKitItem ν΄λμ¤λ” λ¶€λ¨ν΄λμ¤μΈ **π“IItem** μΈν„°νμ΄μ¤λ„ μƒμ†λ°›κ³  MonoBehaviourλ„ μƒμ†λ°›λ”λ‹¤. *(λ‹¤μ¤‘μƒμ†)*
  - **π“IItem** μΈν„°νμ΄μ¤μ ν•¨μ `Use()`μ„ <u>λ°λ“μ‹ μ¬κµ¬ν„ ν•΄μ•Όν•λ‹¤.</u>
    - ν•¨μ `Use()`μ„ μ¤λ²„λΌμ΄λ”© ν•μ§€ μ•μΌλ©΄ μ—λ¬κ°€ λ‚λ‹¤.

<br>

#### μ •λ¦¬

##### π“Player.cs

```c#
void OnTriggerEnter2D(Collider2D other)  // μ½”λ“κ°€ ν›¨μ”¬ κΉ”λ”ν•΄μ΅λ‹¤!.
{
    IItem item = other.GetComponent<IItem>();

    if(item != null)
    {
        item.Use();
    }
}
```

- <u>λ¨λ“  μ•„μ΄ν…λ“¤μ€</u> π“IItem μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›κΈ° λ•λ¬Έμ— <u>Use() ν•¨μλ¥Ό κ°€μ§€κ³  μλ” κ²ƒμ΄ λ³΄μ¥</u>λμ–΄ μλ‹¤. 
  - λ¨λ“  μ•„μ΄ν…λ“¤μ€ <u>κ³µν†µμ μΌλ΅</u> Use()ν•¨μλ¥Ό κ°€μ§€κ³  μλ‹¤.
- λ”°λΌμ„ **λ‹¤ν•μ„±**μ— μν•μ—¬ λ¶€λ¨ νƒ€μ… `IItem` ν•λ‚λ΅ ν•λ°©μ— λ¨λ“  μ•„μ΄ν…λ“¤μ Use()ν•¨μλ¥Ό  μ‹¤ν–‰μ‹ν‚¬ μ μλ‹¤. 
  - *IItem item = other.GetComponent\<IItem>();*
    - μ–΄λ–¤ μΆ…λ¥μ μ•„μ΄ν…μ΄λ“  `IItem` νƒ€μ… ν•λ‚λ΅ λ°›μ„ μ μλ‹¤.
    - μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ‹ <u>μ•„μ΄ν…λ“¤μ„ κ°κ° κµ¬λ³„ν•μ—¬ if-elseλ¬Έ νΉμ€ switchλ¬Έμ„ μ‚¬μ©ν•μ—¬ μ²λ¦¬ν•  ν•„μ”κ°€ μ—†μ–΄μ΅λ‹¤.</u>
  - μ½”λ“κ°€ ν›¨μ”¬ κ°„κ²°ν•΄μ§
  - λ‹¤λ§, π“GoldItem κ³Ό π“HealthKitItem μ κ°μμ κ³ μ ν• κΈ°λ¥μ€ `IItem`μΌλ΅ μ ‘κ·Όν•  μ μ—†μ.

> λ¨λ“  μμ‹ ν΄λμ¤λ“¤μ΄ 1οΈβƒ£ κΈ°λ³Έμ μΌλ΅ κ°€μ§€κ³  μμ–΄μ•Ό ν•λ©° 2οΈβƒ£ κ°μ λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ κΈ°λ¥ν•΄μ•Ό ν•λ” ν•¨μλΌλ©΄ `μΈν„°νμ΄μ¤`μ— μ΄ ν•¨μλ¥Ό κµ¬ν„ν•μ—¬ μƒμ† λ°›μ•„ μ‚¬μ©ν•μ.

<br>

#### μΈν„°νμ΄μ¤λ§μ νΉμ§•, μ£Όμμ‚¬ν•­

1. μΈν„°νμ΄μ¤ μ¤ν¬λ¦½νΈλ” μ»΄ν¬λ„νΈλ΅μ„ <u>μ¤λΈμ νΈμ— λ¶™μΌ μ μ—†λ‹¤.</u>
  - κ·Έμ € μμ‹λ“¤μ΄ κΌ­ κµ¬ν„ν•΄μ•Όν•  ν•¨μ λ©λ΅λ§ λ§λ“¤μ–΄ λ†“μ€ κ»λ°κΈ°μ΄κΈ° λ•λ¬Έμ΄λ‹¤. 
  - μ°μ–΄λ‚Ό μ μ—†λ‹¤.
2. λ©¤λ²„κ°€ κµ¬ν„λμ–΄ μμΌλ©΄ μ•λλ‹¤.
  - λ©¤λ²„ λ³€μλ¥Ό κ°€μ§ μ μ—†μΌλ©°
  - <u>ν•¨μ λν• μ „λ¶€ ν”„λ΅ν† νƒ€μ…λ§ μμ–΄μ•Ό ν•λ‹¤.</u> κµ¬ν„λ ν•¨μλ¥Ό κ°€μ§ μ μ—†μ.

***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}

<br>