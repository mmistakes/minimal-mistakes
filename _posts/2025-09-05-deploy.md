---
layout: single
title: "github pagesにdeploy"
categories: etc
tag: [gh-pages]
use_math: true
author_profile: false
---

今回のポスティングでは、github pages に deploy する方法について紹介したいと思います。  
gh-pages を利用したら簡単に自分のウェブサイトを作ることができます。  
このポスティングでは、これらの設定プロセスを段階的に説明します。

## ① gh-pages とは？

結果物を github pages にアップロードできるようにするパッケージ

github pages は、github が提供する無料サービスです。  
html、css、javascrip をアップロードすると、  
それをウェブサイトにして全世界に無料で配布してくれます。

インストールするために、コマンド入力

```bash
npm i gh-pages
```

## ② build

package.json にある scripts を確認

```javascript
"scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
},
```

package.json には build という script がある  
build を実行すると、ウェブサイトの production ready code が生成される  
実行するため、コマンド入力

```bash
npm run build
```

完了すると、プロジェクトに build というフォルダが作成される  
![deploy3]({{site.url}}/images/deploy/deploy3.png)

## ③ homepage url 作成

プッシュする前に URL を作成しなければならない  
package.json で最後に部分で

```javascript
“homepage”: "https://GitHub の username.github.io/コードが入っている github repository"
```

github repository の確認方法

```bash
git remote-v
```

## ④ package.json に script を追加

deploy 追加  
deploy は gh-pages を実行させ、build というディレクトリを持つ

```javascript
"deploy": "gh-pages -d build”
```

predeploy 追加
deploy を実行する前に build を実行

```javascript
"predeploy": "npm run build”
```

結果

```javascript
"scripts": {
  "start": "react-scripts start",
  "build": "react-scripts build",
  "test": "react-scripts test",
  "eject": "react-scripts eject",
  "deploy": "gh-pages -d build",
  "predeploy": "npm run build"
},
```

## ⑤ コマンドで deploy 実行

```bash
 npm run deploy
```

deploy 実行前に build を実行する  
![deploy7]({{site.url}}/images/deploy/deploy7.png)  
build が終了すると gh-pages-dbuild が実行される  
![deploy8]({{site.url}}/images/deploy/deploy8.png)

## ⑥ deploy 確認

5 番を実行した後、5 分後に deploy になる  
package.json に入力した homepage アドレスを入力  
![deploy9]({{site.url}}/images/deploy/deploy9.png)
