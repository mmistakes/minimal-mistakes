---
layout: single
title:  "Spring ê¸°ì´ˆ - 2"
categories: Spring
tag: [Spring , ìŠ¤í”„ë§ì˜ ì •ì„]
toc: true
toc_sticky: true
author_profile: false
sidebar:
  nav: "docs"
---

# ğŸ’»2022-03-14

## Spring  

<!--Quote-->
> ğŸ’¡ íŒ¨ìŠ¤íŠ¸ ìº í¼ìŠ¤ ìŠ¤í”„ë§ì˜ ì •ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„± ì˜ˆì •

> â— ê°œì¸ì´ ê³µë¶€í•œ ë‚´ìš©ì„ ì ì€ ê²ƒ ì´ê¸°ì— ì˜¤ë¥˜ê°€ ë§ì„ ìˆ˜ë„ ìˆìŒ 


## 1ï¸âƒ£ ì‹¤í–‰ ë©”ì»¤ë‹ˆì¦˜

```java
// 1. ì›ê²© í˜¸ì¶œê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë“±ë¡
@Controller
public class Hello {
	// 2. URLê³¼ ë©”ì„œë“œë¥¼ ì—°ê²°
	@RequestMapping("/hello")
	public void main() {
		System.out.println("Hello"); // consoleì— ì¶œë ¥í•œê±°ì„ 
	}
}
```

- @RequestMapping("/hello") : localhost:8080/ch/hello í•˜ë©´ main í•¨ìˆ˜ê°€ ì‹¤í–‰ì´ëœë‹¤
- mainì— staticì´ ìˆì–´ë„ ë˜ê³ , ì—†ì–´ë„ ëœë‹¤. ê·¸ëŸ¼ staticì´ ì™œì—†ì–´ë„ ì‹¤í–‰ì´ ë ê¹Œ? â†’ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì´ê¸°ì—, ê°ì²´ ìƒìƒ í›„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ í•˜ì§€ë§Œ , ë‹¤ë¥¸ ì„œë²„ì—ì„œ ê°ì²´ìƒì„±ì„ ëŒ€ì‹  í•´ì¤€ë‹¤

```java
@RequestMapping("/hello")
	public void main() {  // ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ - iv, cv ë‘˜ë‹¤ ì‚¬ìš©ê°€ëŠ¥ 
		System.out.println("Hello"); // consoleì— ì¶œë ¥í•œê±°ì„
		System.out.println(cv); // ok
		System.out.println(iv); // ok
	}
	
	public static void main2() {   // static ë©”ì„œë“œ - cvë§Œ ì‚¬ìš©ê°€ëŠ¥ 
		System.out.println(cv); // ok
//		System.out.println(iv); // ì—ëŸ¬
	}
```

- ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜(iv) ì™€ í´ë˜ìŠ¤ ë³€ìˆ˜(cv) ë‘˜ë‹¤ ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ê¸°ì— static ì„ ëº€ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì¸ public void mainì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ

## 2ï¸âƒ£ request / response

```java

import java.io.IOException;
import java.io.PrintWriter;
import java.util.Calendar;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
// ë…„ì›”ì¼ì„ ì…ë ¥í•˜ë©´ ìš”ì¼ì„ ì•Œë ¤ì£¼ëŠ” í”„ë¡œê·¸ë¨ 
public class Date {
	@RequestMapping("/Date")
	public  void main(HttpServletRequest request, HttpServletResponse response) throws IOException{
		// ì…ë ¥ ë°›ê¸°
		String year = request.getParameter("year");
		String month = request.getParameter("month");
		String day = request.getParameter("day");
		
		// ì¶œë ¥
		response.setContentType("text/html");
		response.setCharacterEncoding("utf-8");
		PrintWriter out = response.getWriter(); // responseê°ì²´ì—ì„œ ë¸Œë¼ìš°ì €ë¡œì˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì„ ì–»ëŠ”ë‹¤.
		out.println(year + "ë…„ " + month + "ì›” " + day + "ì¼ì€ ");
		out.println(yoil + "ìš”ì¼ì…ë‹ˆë‹¤." );
	}

}
```

- requestì—ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œê°’ì„ ë°›ê³  responseì—ì„œ ì…ë ¥í•œ ê°’ì„ ë³´ì—¬ì¤€ë‹¤
- responseì—ì„œ text/html íŒŒì¼ì´ë¼ëŠ”ê²ƒì„ ëª…ì‹œí•´ì£¼ê³ , í•œê¸€ì´ ì•ˆê¹¨ì§€ê²Œ utf-8ë¡œ í•´ì¤€ë‹¤
- PrintWriter out = response.getWriter(); ë¥¼ ì…ë ¥í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚˜ê¸° ë•Œë¬¸ì— â€œthrows IOExceptionâ€ ë¥¼ í•´ì¤€ë‹¤
- Controller / RequestMapping(ì–´ë…¸í…Œì´ì…˜)
- out.printlnì€ ë¸Œë¼ìš°ì €ì— ì¶œë ¥ í•´ì£¼ëŠ”ê²ƒ

 

## 3ï¸âƒ£ ì´ë¯¸ì§€ íŒŒì¼ ìœ„ì¹˜

- src < main < webapp < resources < img(ì´ë¦„ì„ imgë¡œ í•˜ëŠ” í´ë” ë„£ê¸°)

## 4ï¸âƒ£ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°œë…

- í´ë¼ì´ì–¸íŠ¸(client) : ì„œë¹„ìŠ¤ë¥¼ ìš”ì²­í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜
- ì„œë²„(server) : ì„œë¹„ìŠ¤(service)ë¥¼ ì œê³µí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„(WAS) : ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œë¹„ìŠ¤í•˜ëŠ” ì„œë²„ â†’ ì›ê²©ìœ¼ë¡œ ì‚¬ìš©í• ë•Œ ë„ì™€ì¤Œ EX) í†°ìº£

## 5ï¸âƒ£ HTTP ìš”ì²­

![1.png](/assets/images/posts/2022-03-14/1.png)

- í…ìŠ¤íŠ¸ì™€ ë°”ì´ë„ˆë¦¬ë¥¼ êµ¬ë¶„í•´ì„œ ë³´ë‚´ê¸° ìœ„í•´ WebKitFormBoundaryë¡œ êµ¬ë¶„


## 6ï¸âƒ£ Reflection API

Reflection API 

- í´ë˜ìŠ¤ì˜ ì´ë¦„ë§Œ ì•Œê³  ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ë’¤ì ¸, í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤
- í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, ë©”ì†Œë“œ, ê°ì²´ ìƒì„±, ë³€ìˆ˜ ë³€ê²½, ë©”ì†Œë“œ í˜¸ì¶œ ê°€ëŠ¥

```java
package com.study.excercise;

import java.lang.reflect.Method;

public class Main {
	public static void main(String[] args) throws Exception{
		// Hello hello  = new Hello();
		// ello.main(); // ì´ ìƒí™©ì—ì„œëŠ” ì—ëŸ¬ ë°œìƒ -- helloê°€ private ì´ê¸°ì— ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ë¶ˆê°€ëŠ¥ 

		// Reflection APIë¥¼ ì‚¬ìš© í•´ì•¼í•œë‹¤ => í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì–»ê³  ë‹¤ë£° ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ ì œê³µ 
		// java.lang.reflectíŒ¨í‚¤ì§€ë¥¼ ì œê³µ
		// Helloí´ë˜ìŠ¤ì˜ Classê°ì²´(í´ë˜ìŠ¤ì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´)ë¥¼ ì–»ì–´ì˜¨ë‹¤
	Class helloClass = Class.forName("com.study.excercise.Hello"); // Exception ì²˜ë¦¬ í•„ìš” // íŒ¨í‚¤ì§€ì´ë¦„.ê°€ì ¸ì˜¬íŒŒì¼  
	Hello hello = (Hello)helloClass.newInstance(); // Class ê°ì²´ê°€ ê°€ì§„ ì •ë³´ë¡œ ê°ì²´ ìƒì„± // í˜•ë³€í™˜ í•„ìš”
	Method main = helloClass.getDeclaredMethod("main");
	main.setAccessible(true); // privateì¸ main()ì„ í˜¸ì¶œê°€ëŠ¥í•˜ê²Œ í•œë‹¤
	main.invoke(hello);
	}
}
```

Class.forName() 

- í´ë˜ìŠ¤ì˜ ì´ë¦„ì„ ì•Œê³  ìˆì„ë•Œ, í´ë˜ìŠ¤ ì •ë³´ë¥¼ í™•ì¸ í•  ë•Œ ì‚¬ìš©


## ğŸ“‘ ì¶œì²˜ 

 - [ReflectionAPI](https://codechacha.com/ko/reflection) 
 - [ìŠ¤í”„ë§ì˜ ì •ì„](https://fastcampus.co.kr/dev_academy_nks)
