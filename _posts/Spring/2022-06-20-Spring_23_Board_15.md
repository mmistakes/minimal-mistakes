---
layout : single
title : Spring 게시판 만들기(15)
categories: Spring
tags: [SPRING, JSP]
toc:  true
toc_icon: "bars"
toc_sticky: true
author_profile: true
sidebar:
  nav: "docs"
---

> ### 글삭제 연결

> ##### 일단 get.jsp에서 제거버튼 클릭시 사용되는 자바스크립트 만들기

~~~jsp
    <script>
    
      $(document).ready(function(){

        // 수정버튼 클릭시 동작구문 <button type="button" id="btn_modify" class="btn btn-primary">Modify</button>
          $("#btn-modify").on("click", function(){
            console.log("수정버튼 클릭"); // 나오는지 console에서 확인
            // 수정폼 주소
            let bno = $("#bno").val(); // 입력망식 태그의 값을 
            location.href = "modify?bno=" + bno;
          });

        // 제거버튼 클릭시 동작구문
          $("#btn-remove").on("click", function(){
            // console.log("제거버튼 클릭");
            // 제거주소
            let bno = $("#bno").val();
            if(!confirm(bno + "번 글을 삭제하겠습니까?")) return;

            location.href = "remove?bno=" + bno;
          });

        // 목록버튼 클릭시 동작구문
          

      });

    </script>

<!-- 맨 아래쪽에 3가지 버튼 -->
	  <button type="button" id="btn-modify" class="btn btn-primary">Modify</button>
	  <button type="button" id="btn-remove" class="btn btn-danger">Remove</button>
	  <button type="button" id="btn-list" class="btn btn-primary">List</button>
~~~

> ##### 다시 Mapper.xml부터

bno에 변수 bno를 넣는다

~~~xml
	<delete id="remove" parameterType="com.demo.domain.BoardVO">
		delete from tbl_board where bno = #{bno}
	</delete>
~~~

> ##### BoardMapper 인터페이스

그러면 Mapper에서 변수를 remove 메서드로 받는다

~~~java
void remove(Long bno);
~~~

똑같이 Service에서 작성하고

~~~java
void remove(Long bno);
~~~

> ##### BoardServiceImpl

여기에서 @Override를 받는다

~~~java
	@Override
	public void remove(Long bno) {
		
		mapper.remove(bno);
	}
~~~

> ##### 컨트롤러에서 GetMapping작업

그러면 연결연결해서 받아온 bno를 변수 bno에 넣어서 진행하고 리턴은 list.jsp로 보낸다

~~~java
	@GetMapping("/remove")
	public String remove(@RequestParam("bno") Long bno) {
		
		log.info("삭제할 글번호 : " + bno);
		
		service.remove(bno);
		
		return "redirect:/board/list";
	}
~~~

**결론적으로, modify 작업과는 다르게 바로 삭제를 진행하면 되어서**

**jsp파일로 따로 없고 입력할 것도 없어서 GetMapping를 이용해 버튼 누르면**

**자바스크립트만 작동하도록 만든다**