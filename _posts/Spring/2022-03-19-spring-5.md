---
layout: single
title:  "Spring ê¸°ì´ˆ - 4"
categories: Spring
tag: [Spring , ìŠ¤í”„ë§ì˜ ì •ì„]
toc: true
toc_sticky: true
author_profile: false
sidebar:
  nav: "docs"
---

# ğŸ’»2022-03-19

## Spring  

<!--Quote-->
> ğŸ’¡ íŒ¨ìŠ¤íŠ¸ ìº í¼ìŠ¤ ìŠ¤í”„ë§ì˜ ì •ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„± ì˜ˆì •

> â— ê°œì¸ì´ ê³µë¶€í•œ ë‚´ìš©ì„ ì ì€ ê²ƒ ì´ê¸°ì— ì˜¤ë¥˜ê°€ ë§ì„ ìˆ˜ë„ ìˆìŒ 


# 2022-03-19

## 1ï¸âƒ£ @RequestParam

> @RequestParam(â€ê°€ì ¸ì˜¬ ë°ì´í„°ì˜ ì´ë¦„â€)[ë°ì´í„° íƒ€ì…][ê°€ì ¸ì˜¨ë°ì´í„°ë¥¼ ë‹´ì„ ë³€ìˆ˜]
> 

### 1) ì •ìƒ ì‹¤í–‰

```java
@Controller 
public class classMateExam {
	@RequestMapping("/classMate")
	public String checkName(@RequestParam("name") String name, Model model)
			model.addAttribute("name",name);
			return "/test";
}
```

- RequestParam Annotaionì€ HttpServletRequestì™€ ê°™ì€ ì—­í• ì„ í•œë‹¤
- ì‚¬ìš©ìê°€ ìš”ì²­ì‹œ ì „ë‹¬í•œ ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ 1:1 ë§µí•‘ í•  ë•Œ ì‚¬ìš©
- /classMate?name=â€minsuâ€ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê°’ì„ ë„˜ê²¨ì¤€ë‹¤
- Modelê°ì²´ë¥¼ ì´ìš©í•´ viewë¡œ(ìœ„ì—ì„œ ë°›ì€ minsu)ë¥¼ ë„˜ê²¨ì¤€ë‹¤

### 2) ì—ëŸ¬

```java
@Controller 
public class classMateExam {
		@RequestMapping("/classMate")
		public String checkName(@RequestParam("name",required=false,defaultValue="")String name, Model model)
				model.addAttribute("name",name);
				return "/test";
}
```

- ê°’ì„ ë„˜ê²¨ì£¼ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ â†’ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ defaultê°’ì„ ì„¤ì •í•œë‹¤
- ì£¼ì†Œì— ê°’ì„ ì „ë‹¬í•˜ì§€ ì•Šìœ¼ë©´ default ê°’ì¸ â€œâ€ê°€ ê°’ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤
- defaultê°’ì„ ì£¼ë ¤ë©´ requiredëŠ” falseë¡œ í•´ì•¼í•œë‹¤

## 2ï¸âƒ£ ModelAttribute

```java

public class TestExam {
    private String name;
    private int age;
		
		public String getName() {
			return name;
		}
		public void setName(String name) {
			this.name = name;
		}
		public int getAge() {
			return age;
		}
		public void setAge(int age) {
			this.age = age;
		}
}

@Controller
public class TestController {
    @GetMapping("/")
    public String getTestPage(@ModelAttribute TestModel testModel) {
        System.out.println("ì´ë¦„ : " + testModel.getName());
        System.out.println("ë‚˜ì´ : " + testModel.getAge());
        return "test";
    }
}
```

- ì‚¬ìš©ìê°€ ìš”ì²­ì‹œ ì „ë‹¬í•œ ê°’ì„ ê°ì²´ í˜•íƒœë¡œ ë§¤í•‘í•´ì£¼ëŠ” Annotation
- /?name=minsu&age=27ë¡œ ìš”ì²­ì„ í•˜ë©´ ê°ê°ì˜ ê°’ì´ í•¸ë“¤ëŸ¬ì˜ testModel ê°ì²´ë¡œ ë°”ì¸ë”©ëœë‹¤.
- RequestParamì„ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œë¥¼ ë°›ê¸° í˜ë“¤ ë•Œ ì‚¬ìš©



## 3ï¸âƒ£ EL(Expression Language) , param, paramValues

- JSPì˜ í‘œí˜„ì‹ì€ <%= %>ì´ë‹¤ â†’ ë„ˆë¬´ ì“°ê¸° ê·€ì°®ë‹¤ â†’ ${ }ë¡œ í‘œí˜„í•œë‹¤ ì´ê²ƒì´ ELì´ë‹¤

### 1) param

HTML ì½”ë“œ 

```java
<!-- loginForm.html -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login</title>
</head>
<body>
	<form action="login.jsp" method="post">
		<input type="text" placeholder="ì•„ì´ë””" name="id" required><br />
		<input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" name="pw" required><br />
		<input type="submit" value="ë¡œê·¸ì¸">
	</form>
</body>
</html>

```

- "ë¡œê·¸ì¸"ì´ë¼ëŠ” submit ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, í…ìŠ¤íŠ¸ ë°•ìŠ¤ë¡œ ì…ë ¥ë°›ì€ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ POST(method) ë°©ì‹ìœ¼ë¡œ login.jspì— ì „ë‹¬í•œë‹¤.

JSP ì½”ë“œ 

```java
<!-- login.jsp -->

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login Data</title>
</head>
<body>
${param.id }
${param.pw }
</body>
</html>

```

- login.jsp í˜ì´ì§€ì—ì„œëŠ” ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„° ê°’ì„ í™”ë©´ì— ì¶œë ¥í•œë‹¤.

> ${param.id} , ${param.pw}

- param ê°ì²´ëŠ” ELì˜ ë‚´ì¥ ê°ì²´ì´ë©°, íŒŒë¼ë¯¸í„° ê°’ì„ ì–»ì–´ì˜¬ ìˆ˜ ìˆë‹¤. nameì´  "id"ì™€ â€œpwâ€ì— í•´ë‹¹í•˜ëŠ” íŒŒë¼ë¯¸í„° ê°’ì„ ì–»ì–´ì˜¬ ìˆ˜ ìˆìœ¼ë©°, JSP ìŠ¤í¬ë¦½íŠ¸ ìš”ì†Œ ì•ˆì˜request.getAttribute("id")ì™€ ê°™ë‹¤.

### 2) paramValues

HTML ì½”ë“œ

```java
<!-- loginForm.html -->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login</title>
</head>
<body>
	<form action="login.jsp" method="post">
		<input type="text" placeholder="ì•„ì´ë””" name="id" required><br />
		<input type="text" placeholder="text" name="id" required><br />
		<input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" name="pw" required><br />
		<input type="submit" value="ë¡œê·¸ì¸">
	</form>
</body>
</html>

```

- nameì´ â€œidâ€ì¸ ì†ì„±ì´ ë‘ ê°œê°€ ìˆë‹¤

JSP ì½”ë“œ 

```java
<!-- login.jsp -->

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login</title>
</head>
<body>
${paramValues.id[0] }
${paramValues.id[1] }
${param.pw }
</body>
</html>

```

- nameì—  ê°™ì€ ì†ì„±ì¸ â€œidâ€ê°€ 2ê°œ ì¡´ì¬
- paramValues ê°ì²´ëŠ” ë‹¤ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì˜ ê°’ì„ ë°°ì—´ë¡œ ê°€ì ¸ì˜¨ë‹¤
- name=â€idâ€ ê°€ 2ê°œ ì´ê¸°ì— paramValuesë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤

## 4ï¸âƒ£ RequestMapping / GetMapping / PostMapping

### 1) ê¸°ë³¸

```java

<!-- RequestMapping -->
@RequestMapping(value="/testMapping", method=RequestMethod.GET)
@RequestMapping(value="/testMapping", method=RequestMethod.POST)

<!-- GetMapping / PostMapping -->
@GetMapping("/testMapping")
@PostMapping("/testMapping")
```

- method í‘œê¸°ë¥¼ ì•ˆí•´ì£¼ê³  ì½”ë“œê°€ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— GetMappingê³¼ PostMapping ì‚¬ìš©

### 2) ì‚¬ìš©ì˜ ì§„ì§œ ì´ìœ 

```java
@RequestMapping("testMapping")
```

> ìœ„ì˜ ì½”ë“œê°™ì´ RequestMappingë„ method í‘œê¸° ì—†ì´ ì½”ë“œë¥¼ ì§§ê²Œ ì“°ê¸° ê°€ëŠ¥í•˜ë‹¤ â†’ ê·¸ëŸ¼ ì™œ?  GetMapping / PostMappingë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
> 

1. url ì¤‘ë³µ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤
2. ì½”ë“œì— ì˜ë¯¸ë¥¼ ëª…í™•í•˜ê²Œ ëª…ì‹œ í•  ìˆ˜ìˆë‹¤. 

```java
@getMapping("/testMapping")
@PostMapping("/testMapping")
```


- url ìš”ì²­ì„ í†µí•´ ë©”ì„œë“œë¥¼ ìš”ì²­í•  ë•Œ ì „ì†¡ ë°©ì‹ì„ ëª…ì‹œí•˜ë©´ í•˜ë‚˜ì˜ urlë¡œë„ ë‘ ê°œ ì´ìƒì˜ ë§¤í•‘ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
- /testMappingì˜ í•˜ë‚˜ì˜ urlë¡œ ì´ë ‡ê²Œ ë‘ ê°œì˜ ë§¤í•‘ì´ ê°€ëŠ¥í•˜ë‹¤. @RequestMapping("/testMapping")ìœ¼ë¡œ GET ë°©ì‹ì˜ ìš”ì²­ì„ ë°›ì•˜ë‹¤ë©´ POST ë°©ì‹ì˜ ìš”ì²­ì€ ë‹¤ë¥¸ urlì„ ì¨ì•¼í•œë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ë³´ê¸°ì—ë„ ì½”ë“œë¥¼ ê´€ë¦¬í•˜ê¸°ì—ë„ ì¢‹ì§€ ëª»í•˜ë‹¤.Â ê²°ë¡ ì ìœ¼ë¡œ ì „ì†¡ ë°©ì‹ì„ ëª…ì‹œí•˜ë©´ urlì„ ê²½ì œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.



## 5ï¸âƒ£ URLEncoder,Â URLDecoder

### 1) ì‚¬ìš© ì´ìœ 

URLì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ê·œì¹™ì´ ìˆê³  ê·¸ ê·œì¹™ì— ì‚¬ìš©ë˜ëŠ” ë¬¸ìë“¤ì´ ì •í•´ì ¸ìˆê³  ì¿ í‚¤(Cookie)ì™€ ê°™ì´ í•œê¸€ì„ í‘œí˜„í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° í•œê¸€ì„ ASCIIê°’ìœ¼ë¡œ ì¸ì½”ë”©í•´ì•¼í•œë‹¤.

```java

import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import java.net.URLEncoder;

public class Main {
	public static void main(String args[]) {
		try{
			String txt = "ì˜¤ëŠ˜ë„ ë°°ìš°ì";
			String txtEnc = URLEncoder.encode(txt, "UTF-8");  
			System.out.println(URLEncoder.encode(txt, "UTF-8")); //%EC%98%A4%EB%8A%98%EB%8F%84+%EB%B0%B0%EC%9A%B0%EC%9E%90
			System.out.println(URLDecoder.decode(txtEnc, "UTF-8")); //ì˜¤ëŠ˜ë„ ë°°ìš°ì
			 
			}catch(UnsupportedEncodingException e){
			   e.printStackTrace();
			}
	}
}
```

> URLEncoder.encode(String encodingString, String charsetName); //ì¸ì½”ë”©í•  ë¬¸ì, ì¼€ë¦­í„°ì…‹("UTF-8")
> 

> URLDecoder.decode(String decodingString, String charsetName); //ì¸ì½”ë”©í•  ë¬¸ì, ì¼€ë¦­í„°ì…‹("UTF-8")
>