# [TroubleShooting] npm run storybookì‹¤í–‰ ì‹œ ì˜¤ë¥˜ 

**[ì˜¤ë¥˜ ë©”ì‹œì§€] **

**TypeError: Cannot read property 'NormalModule' of undefined**



**[ê°œë°œ í™˜ê²½]**

- m1 mac
- Vue3
- Webpack5
- Storybook6



**[ë¬¸ì œ ìƒí™©]**

npm run serveë¡œ vueë¥¼ ì‹¤í–‰í•  ê²½ìš° ì˜ ì‘ë™í•˜ì˜€ëŠ”ë° npm run storybookë¥¼ ì‹¤í–‰ í•  ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ë¥¼ ë‚´ë¿œëŠ”ë‹¤. 

![image-20220430021312514](/Users/kangjiwon/Library/Application Support/typora-user-images/image-20220430021312514.png)





ë¬¸ì œ ì›ì¸ì€ webpackê³¼ storybookì€ ë‘˜ ë‹¤ build ì˜µì…˜ì´ í¬í•¨ëœ ë„êµ¬ì´ë¯€ë¡œ ìƒê¸°ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ëœë‹¤. 



ê³µì‹ í•´ê²°ì±…ì€ ```npx sb init --builder webpack5 ``` ì´ë‚˜, ê·¸ ì „ì— ê¹ƒí—ˆë¸Œë¥¼ refresh ì‹œì¼œì£¼ì–´ì•¼ í•œë‹¤. (ë¬¼ë¡  ê¹ƒí—ˆë¸Œì— ì—°ê²°ë˜ì–´ìˆì„ ê²½ìš° ì¼ ê²ƒì´ë‹¤.)



```git reset --hard``` , ```git clean -fd```  ì´ ë‘ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œ í›„, ```npx sb init --builder webpack5``` í•˜ë©´ Storybookì´ ì˜ ì‘ë™ í•  ê²ƒì´ë¼ ë³¸ë‹¤. 



ì•„ë˜ëŠ” ê¹ƒì—ì„œ ì–»ì„ ìˆ˜ ìˆì—ˆë˜ ë‹µë³€ì´ë‹¤.

https://github.com/storybookjs/storybook/issues/17745#

`npx sb init --builder webpack5` Also worked for me but only after a full project reset, so `git reset --hard; git clean -fd`, them deleting and reinstalling node_modules. Finally, `npx sb init --builder webpack5` worked and get Storybook running in an existing Vue 3 project.

ğŸ‘2

<details class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown reactions-menu js-reaction-popover-container js-comment-header-reaction-button" style="box-sizing: border-box; display: inline-block !important; position: relative; z-index: 100;"><summary aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted" style="box-sizing: border-box; display: flex !important; cursor: pointer; position: relative; padding: 0px !important; font-size: 14px; font-weight: 500; line-height: 20px; white-space: nowrap; vertical-align: middle; user-select: none; border-top-width:  !important; border-right-width:  !important; border-bottom-width:  !important; border-left-width:  !important; border-top-style:  !important; border-right-style:  !important; border-bottom-style:  !important; border-left-style:  !important; border-color: var(--color-border-muted)  !important; border-image-source:  !important; border-image-slice:  !important; border-image-width:  !important; border-image-outset:  !important; border-image-repeat:  !important; border-radius: 50% !important; appearance: none; color: var(--color-fg-muted); background-color: var(--color-canvas-subtle)  !important; box-shadow: none; transition: color 80ms cubic-bezier(0.33, 1, 0.68, 1) 0s, background-color, box-shadow, border-color; justify-content: center !important; align-items: center !important; margin-right: 4px !important; width: 26px; height: 26px; list-style: none;"><svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary></details>





ì°¸ê³  ê³µì‹ ë¬¸ì„œ: https://storybook.js.org/blog/storybook-for-webpack-5/



