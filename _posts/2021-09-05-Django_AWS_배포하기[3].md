---
layout: single

title: "Django(장고)기반 애플리케이션 AWS EC2로 배포하는 방법 - [3] Github 활용"

date: 2020-09-06
show_date: true
---

# 배포 준비 순서

1. 배포할 Django 프로젝트 준비
   1. 가상 환경 준비
   2. Django 프로젝트 만들기
   3. requirements.txt 만들기
2. AWS EC2 Server
   1. Instance 생성하기
      1. Ubuntu Server 18.04 LTS 서버설정
      2. key pair (.pem)
   2. Instance 접속하기
      1. ssh를 이용한 원격 접속
   3. AWS EC2 서버 세팅
3. **[Github 활용](#3-github-활용)**
   1. [github repository에 Django 프로젝트 업로드](#1-github-repository에-django-프로젝트-업로드)
   2. [AWS EC2 서버에 git 연동해서 Django 프로젝트 클론](#2-aws-ec2-서버에-git-연동해서-django-프로젝트-clone)
4. uWSGI 연결
   1. runserver 테스트
   2. uWSGI 서버 연결
5. nginx 연결
   1. nginx와 uwsgi 연결



---

## 3. Github 활용

###  1. github repository에 Django 프로젝트 업로드

우선 Django 프로젝트를 Github에 업로드 해주어야 합니다.

![githubRepo](/images/2021-09-06/githubRepo.jpg)

이전에 생성한 testSite 폴더 안에서 manage.py가 있는 위치에서 위의 명령어를 통해 깃허브에 업로드 합니다.

> 제 경우는 repository이름을 **Django_AWS_DeployTest**라고 만들었습니다.
>
> 명령어중에 ***git add README.md*** 대신에 **git add .**명령어를 입력해주세요!! (전체 파일을 github에 업로드 하겠다는 명령어 입니다.)
>
> 순서대로 똑같이 명령어들을 입력해주시면 업로드가 완료된 것을 확인할 수 있습니다 :)

![githubUpload](/images/2021-09-06/githubUpload.jpg)

이제 이 내용들을 **AWS EC2 서버**에 **clone**해주겠습니다.



### 2. AWS EC2 서버에 git 연동해서 Django 프로젝트 clone

**git clone**은 우리의 github repository를 어딘가에 다운로드 할때 쓰이는 명령어 입니다. 우리는 **git clone**을 서버에 다운로드 및 서버와 local PC의 버전관리를 위해 사용한다고 이해하면 됩니다.

먼저 서버에 접속하겠습니다.

![awsAccess](/images/2021-09-06/awsAccess.jpg)

프로젝트 파일들은 모두 /srv/폴더에 다운로드 받을 것 입니다. 따라서 이 폴더를 현재 유저은 **ubuntu**의 폴더로 소유자를 변경해 주겠습니다.

![ubuntuAuth](/images/2021-09-06/ubuntuAuth.jpg)

> **sudo**: 관리자 권한으로 명령
>
> **chown**: change owner, 폴더의 소유권 변경

폴더의 소유권이 **ubuntu**유저로 변경 되었는지 확인 해 봅시다.

![folderAuth](/images/2021-09-06/folderAuth.jpg)

이제 **/srv/**폴더로 이동하여 github repository의 내용들을 다운로드 해줍니다.

![gitClone](/images/2021-09-06/gitClone.jpg)

> github repository의 주소는 github repo페이지에서 **clone or download**라는 버튼을 클릭하면 HTTPS의 형식으로 나타나는 주소입니다.

제대로 Clone이 됐는지 확인해 보겠습니다.

![repoCheck](/images/2021-09-06/repoCheck.jpg)

이렇게 AWS EC2 서버에 우리의 local PC에 있던 Django 프로젝트가 업로드 된 걸 확인 할 수 있습니다 :)

