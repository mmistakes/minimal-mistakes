---
layout: single
title: JDK 18~21 featureëŠ” ì•Œê³  ì“°ì
categories: java
tag: [java feature,java]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "docs"
search: true
sidebar:
    nav: "counts"
typora-root-url: ../
---

  

ìë°” 12 ë²„ì „ë¶€í„° 17ë²„ì „ê¹Œì§€ ìë°” featureë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.



## ìë°” 18 ~ 21 feature ì •ë¦¬





### ìë°” 21 

#### record pattern

**record class(DTO)**ë¥¼ instanceof pattern matchingê³¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ë‚´ë¶€ í•„ë“œì— ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

+ `record class`ëŠ” ìë°” 16ì— ì¶”ê°€ëœ ë°ì´í„° ì „ì†¡ ì „ìš© ê°ì²´ì…ë‹ˆë‹¤.  

  ```java
  public record Member(
  	//component private final ê¸°ë³¸ ì¥ì°©
      String name,
      int age
  ){
      static field;
      static method;
      instance method;
      
      //auto override
      toString,equals,hashCode;
          
      //get
  }
  ```

+ `instanceof pattern matching`  : í˜•ë³€í™˜í›„ ìƒˆ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ê³¼ì •ì„ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ```java
  public void checkPerson(Person person){
      if(!(person instanceof Member member)){
          return;
      }
      // use member 
  }
  ```

record patternì„ ì‚¬ìš©í•˜ì—¬ Member ê°ì²´ì— ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```java
public class Main {
    record Member(String name, int age) {
        public Member {
            if (age < 0) {
                throw new IllegalArgumentException("ë‚˜ì´ëŠ” 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.");
            }
        }
    }
    public static void main(String[] args) {
        Member member = new Member("í™ê¸¸ë™", 20);
        printMember(member);
    }
    public static void printMember(Object member){
        if (member instanceof Member(String name, int age)){
            System.out.println("name = " + name);
            System.out.println("age = " + age);
        }
    }
}
```

ë§¤ê°œë³€ìˆ˜ì˜ ìë£Œí˜•ì„ ê°„ë‹¨í•˜ê²Œ `var`ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public static void printMember(Object member){
    if (member instanceof Member(var name, var age)){
        System.out.println("name = " + name);
        System.out.println("age = " + age);
    }
}
```

##### ì¤‘ì²© record pattern

ë‚´ë¶€ í´ë˜ìŠ¤ì—ì„œë„ ì ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```java
public class Main {
    record Address(String city, String street, int zipCode) {}

    record Member(String name, int age, Address address) {}

    record Family(Member father, Member mother) {}

    public static void main(String[] args) {
        // address create
        Address address1 = new Address("ì„œìš¸", "ê°•ë‚¨", 12345);
        Address address2 = new Address("ì ì‹¤", "ì ì‹¤51ë²ˆê¸¸", 12345);

        Family family = new Family(new Member("ì•„ë¹ ", 50,address1), new Member("ì—„ë§ˆ", 45,address2));
        printMember(family);
    }

    public static void printMember(Object member) {
        if (member instanceof Member(String name, int age, Address address)) {
            System.out.println("name = " + name);
            System.out.println("age = " + age);
            System.out.println("address = " + address);
        }
        if (member instanceof Family(
                Member(String fatherName, int fatherAge, Address(String city1, String street2, int zipCode2)),
                Member(String motherName, int motherAge, Address(String city2, String street3, int zipCode3))
        )) {
            System.out.println("fatherName = " + fatherName);
            System.out.println("fatherAge = " + fatherAge);
            System.out.println("city1 = " + city1);
            System.out.println("street2 = " + street2);
            System.out.println("zipCode3 = " + zipCode2);
  				:			:				:
        }
    }
}
```

ìœ„ ì½”ë“œë¥¼ ë³´ë©´ ì¤‘ì²©ì•ˆì— ë‹¤ì‹œ ì¤‘ì²© í´ë˜ìŠ¤ë„ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.



#### switch pattern matching

ìë°” 14ì— ì¶”ê°€ëœ `switch Expression`ì€ `switch`ë¬¸ì´ `statement`ê°€ ì•„ë‹ˆë¼ `expression`ìœ¼ë¡œ ë³€ê²½ë˜ì–´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.

```java
private int calculateStudyCafeFee(int hours){
    return switch(hours){
        case 1,2 -> 2_000;
        case 3,4 -> 4_000;
        case 5,6 -> 5_000;
        default -> 7_000;
    };
}
```

switchë¬¸ì„ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³  `->` í™”ì‚´í‘œë¥¼ í†µí•´ì„œ ê°„ë‹¨í•˜ê²Œ ë°˜í™˜í•  ê°’ì„ ì„ íƒí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

**switch(`selector`)**: selectorëŠ” `char`,`byte`,`short`,`int`,`String`,`Enum`ë§Œ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.

ê°ì²´ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ê³ ,  selectorëŠ” ë¶„ê¸°ë¥¼ ì¹  ìˆ˜ ìˆëŠ” ê°’ë„ ìƒìˆ˜ì— ëŒ€í•´ì„œë§Œ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤

##### reference type í—ˆìš©

> ìë°” 21ë¶€í„° selector ì•ˆì— ì–´ë–¤ **reference type**ë„ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
>
> ì¶”ê°€ë¡œ case ë’¤ì— íŒ¨í„´ ë§¤ì¹­ì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

ì¦‰, **case Member member** ì™€ ê°™ì€ êµ¬ë¬¸ë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ ë³€í™”í–ˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ë³€ê²½ëœ ì´í›„ë¡œ `if-else-if`ë¥¼ ì‚¬ìš©í–ˆë˜ `instanceOf` ë¶„ê¸° ì²˜ë¦¬ë¥¼  `switch expression`ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public static void printMemberSwitch(Object obj) {
    switch(obj){
        case Member member -> {
            System.out.println("member = " + member);
        }
        case Family family -> {
            System.out.println("family = " + family);
        }
        default -> {
            System.out.println("default");
        }
    }
}
```

switchì— ê°ì²´ë¥¼ ë°›ì•„ì„œ ë³€ìˆ˜ì— ë°”ë¡œ ê°’ì„ í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

##### sealed class ì¶”ê°€ ê¸°ëŠ¥

ë§Œì•½ ë“¤ì–´ì˜¤ëŠ” ê°ì²´ê°€ `sealed class`ì¼ ê²½ìš° `default` ë¼ë²¨ë„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤( ì»´íŒŒì¼ ì‹œì ì— í´ë˜ìŠ¤ ìƒí™©ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

```java
public sealed interface Computer permits DeskTop, Laptop {
    void boot();
    void shutdown();
}

//switch pattern matching example by Computer
public static void boot(Computer computer) {
    switch (computer) {
        case DeskTop deskTop -> System.out.println("ë°ìŠ¤í¬íƒ‘ ë¶€íŒ… : " );
        case Laptop laptop -> System.out.println("ë©íƒ‘ ë¶€íŒ… : ");
    }
}
```

##### ìˆœì„œ ì£¼ì˜

ë§Œì•½ ìŠ¤ìœ„ì¹˜ ë¬¸ì¥ì—ì„œ ì „í˜€ ë„ë‹¬ í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, ì¦‰ ì•„ë˜ switchë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```java
 public static void boot(Computer computer) {
    switch (computer) {
[ì—ëŸ¬]   case Computer computerTmp -> System.out.println("ì»´í“¨í„° ë¶€íŒ…");
        case Laptop laptop when laptop.isOn() -> System.out.println("ë©íƒ‘ ë¶€íŒ… ì„±ê³µ");
        case DeskTop deskTop -> System.out.println("ë°ìŠ¤í¬íƒ‘ ë¶€íŒ… : " );
        case Laptop laptop -> System.out.println("ë©íƒ‘ ë¶€íŒ… : ");
        case null -> ...
    }
}
```

`Laptop`ê³¼ `DeskTop`ì˜ ìƒìœ„ í´ë˜ìŠ¤ëŠ” `Computer`ì…ë‹ˆë‹¤. case ë¬¸ ì²« ì¤„ì— ìˆëŠ” ê²½ìš° ë‚˜ë¨¸ì§€ `case` ë¬¸ì€ ì „í˜€ ë„ë‹¬ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 

ì´ëŸ° ê²½ìš° ì˜ˆì™¸ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

ëŒ€ì‹  **`when`ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš°**ê°€ëŠ¥í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ `&&` ìœ¼ë¡œ ì¡°ê±´ì´ ì¶”ê°€ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```java
public static void boot(Computer computer) {
    switch (computer) {
        case Computer computerTmp when computerTmp.isIntel() -> System.out.println("ì»´í“¨í„° ë¶€íŒ…");
        case Laptop laptop when laptop.isOn() -> System.out.println("ë©íƒ‘ ë¶€íŒ… ì„±ê³µ");
        case DeskTop deskTop -> System.out.println("ë°ìŠ¤í¬íƒ‘ ë¶€íŒ… : " );
        case Laptop laptop -> System.out.println("ë©íƒ‘ ë¶€íŒ… : ");
        case null -> ...
    }
}
```

##### switchì˜ NPE ì¡°ê±´ë„ ë³€ê²½

ì´ì „ ë²„ì „ì—ì„œëŠ” switch ì„ íƒìì— nullì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš° ë°”ë¡œ **NPE**ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

21 ë²„ì „ë¶€í„°ëŠ” **ì„ íƒì is null And Case null not existing** ì¼ ê²½ìš°ì—ë§Œ **NPE**ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

```java
//switch pattern matching example by Computer
public static void boot(Computer computer) {
    switch (computer) {
        case DeskTop deskTop -> deskTop.boot();
        case Laptop laptop -> laptop.boot();
        case null, default -> System.out.println("ì»´í“¨í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
    }
}
```

ë§¨ ì•„ë«ì¤„ì— `case null, defualt ->` ê°€ ì—†ì„ ê²½ìš°ì—ë§Œ **NPE** ì˜ˆì™¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ê·¸ëŸ°ë° ì´ëŸ° ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. **default**ê°€ ë‚˜ë¨¸ì§€ë¥¼ ë‹¤ ì²˜ë¦¬í•˜ë‹ˆ  `null`ì´ ë“¤ì–´ì™€ë„ ì‹¤í–‰ë˜ì§€ ì•Šì„ê¹Œ?

> ì˜ˆì™¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```java
public static void main(String[] args) {
    boot(null);
}

//switch pattern matching example by Computer
public static void boot(Computer computer) {
    switch (computer) {
        case DeskTop deskTop -> deskTop.boot();
        case Laptop laptop -> laptop.boot();
        default -> System.out.println("ì»´í“¨í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
    }
}
```

```java
Exception in thread "main" java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:233)
```

##### sealed class ì™€ ê°™ì´ í™œìš©

í•œ APIì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ìŠ¤í™ì„ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì— `sealed class`ì™€ `switch pattern matching`ì„ ì‚¬ìš©í•˜ë©´ ì¡°ê¸ˆ ë” ê¹”ë”í•œ ì½”ë”©ì´ ê°€ëŠ¥í•˜ê²Œ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ API ê²°ê³¼ `response`ë¡œ ë…¸íŠ¸ë¶ì´ë‚˜ ë°ìŠ¤í¬íƒ‘ ì •ë³´ë¥¼ ë°˜í™˜í•´ì•¼í•  ë•Œ ë‘ ìŠ¤í™ì´ ë‹¤ë¥¼ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```java
public record DeskTop(
        String name,
        boolean isIntelCPU,
        int price
) implements Computer {}
public record Laptop(
        String name,
        double screenSize,
        int price
) implements Computer {} 
```

**ComputerAsService**

ì´í›„ ìˆ˜ì •

#### Math API clamp í•¨ìˆ˜

í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” valueì˜ ê°’ê³¼ **min** ê³¼ **max** ì‚¬ì´ì— ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

1. **min** <= value <= **max** : value ë°˜í™˜
2. value < **min**:  min ë°˜í™˜
3. **max** < value : max ë°˜í™˜

```java
public static void main(String[] args) {
    //test clamp
    // case 1 : value < min // 1
    System.out.println(Math.clamp(0, 1, 5));

    // case 2 : value > max // 5
    System.out.println(Math.clamp(10, 1, 5));

    // case 3 : value == min // 1
    System.out.println(Math.clamp(1, 1, 5));

    // case 4 : value == max // 5
    System.out.println(Math.clamp(5, 1, 5));

    // case 5 : min < value < max // 3
    System.out.println(Math.clamp(3, 1, 5));
}
```

#### String ê´€ë ¨ í•¨ìˆ˜

##### String indexOf í•¨ìˆ˜

íŠ¹ì • ë²”ìœ„ ì•ˆì— ìˆëŠ”ë¬¸ì ë˜ëŠ” ë¬¸ìì—´ì˜ ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public static void main(String[] args) {
    // test String.indexOf(ch,idx,end)
    String str = "ì•ˆë…•í•˜ì„¸ìš”. ìë°” 21 ì…ë‹ˆë‹¤.";
    // find 1st 'ì' from 0 to 7 (exclusive)
    System.out.println(str.indexOf('ì', 0, 7)); // -1
    System.out.println(str.indexOf('ì', 0, 10)); // 7

    // find 2nd 'ì'
    System.out.println(str.indexOf('ì', 8, 10)); // -1
}
```

**ì£¼ì˜ì‚¬í•­ì€ ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ëŠ” `exclusive`ë¡œ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**



##### String splitWithDelimiters í•¨ìˆ˜

delimitersê¹Œì§€ í¬í•¨í•˜ì—¬ ë°°ì—´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

```java
String str2 = "ì•ˆë…•í•˜ì„¸ìš”.|ìë°”|21|ì…ë‹ˆë‹¤.";
String[] split = str2.splitWithDelimiters("\\|", -1);
System.out.println(Arrays.toString(split));
// [ì•ˆë…•í•˜ì„¸ìš”., |, ìë°”, |, 21, |, ì…ë‹ˆë‹¤.]
```



##### StringBuffer/Builder repeat í•¨ìˆ˜

```java
public static void main(String[] args) {
    //test StringBuilder repeat
    StringBuilder sb = new StringBuilder();
    sb.repeat("abc ", 3);
    System.out.println(sb);
}
// abc abc abc 
```

##### Character í´ë˜ìŠ¤ - emoji ê´€ë ¨ í•¨ìˆ˜ë“¤ ì¶”ê°€

```java
public static void main(String[] args) {
    int codePoint = Character.codePointAt("ğŸ˜€", 0); // ì˜ˆì‹œ ì´ëª¨ì§€ ì½”ë“œ í¬ì¸íŠ¸ ()

    // isEmoji: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ ì´ëª¨ì§€ì¸ì§€ í™•ì¸
    System.out.println(Character.isEmoji(codePoint));

    // isEmojiPresentation: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ ì´ëª¨ì§€ í”„ë ˆì  í…Œì´ì…˜ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸
    System.out.println(Character.isEmojiPresentation(codePoint));

    // isEmojiModifier: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ ì´ëª¨ì§€ ìˆ˜ì •ìì¸ì§€ í™•ì¸
    System.out.println(Character.isEmojiModifier(codePoint));

    // isEmojiModifierBase: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ ì´ëª¨ì§€ ìˆ˜ì •ì ë² ì´ìŠ¤ì¸ì§€ í™•ì¸
    System.out.println(Character.isEmojiModifierBase(codePoint));

    // isEmojiComponent: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ ì´ëª¨ì§€ êµ¬ì„± ìš”ì†Œì¸ì§€ í™•ì¸
    System.out.println(Character.isEmojiComponent(codePoint));

    // isEmojiZeroWidthJoiner: ì£¼ì–´ì§„ ì½”ë“œ í¬ì¸íŠ¸ê°€ í™•ì¥ëœ ê·¸ë¦¼ë¬¸ìì¸ì§€ í™•ì¸
    System.out.println(Character.isExtendedPictographic(codePoint));

    // codePointê°€ ì´ëª¨ì§€ì¸ì§€ í™•ì¸í•˜ê³ , ë§ë‹¤ë©´ intë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
    int emojiInt = getEmojiCodePoint(codePoint);
    if (emojiInt != -1) {
        System.out.println("ì´ëª¨ì§€ ì½”ë“œ í¬ì¸íŠ¸: " + emojiInt);
    } else {
        System.out.println("ì´ëª¨ì§€ê°€ ì•„ë‹™ë‹ˆë‹¤.");
    }
}
public static int getEmojiCodePoint(int codePoint) {
    if (Character.isEmoji(codePoint) ||
            Character.isEmojiPresentation(codePoint) ||
            Character.isEmojiModifier(codePoint) ||
            Character.isEmojiModifierBase(codePoint) ||
            Character.isEmojiComponent(codePoint) ||
            Character.isExtendedPictographic(codePoint)) {
        return codePoint;
    }
    return -1; // ì´ëª¨ì§€ê°€ ì•„ë‹Œ ê²½ìš° -1 ë°˜í™˜
}
```

```
true
true
false
false
false
true
ì´ëª¨ì§€ ì½”ë“œ í¬ì¸íŠ¸: 128512
```



#### Sequenced Collection API ì¶”ê°€

ìë°” 21ì— ì¶”ê°€ëœ ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¡œ ìˆœì„œê°€ ìˆëŠ” ì»¬ë ‰ì…˜ì˜ ìš”ì†Œì— ëŒ€í•´ í†µì¼ëœ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ ê°œë…ì€ Listì™€ Deque ì²˜ëŸ¼ ìš”ì†Œì˜ **ìˆœì„œê°€ ì¤‘ìš”**í•œ ì»¬ë ‰ì…˜ì—ì„œ **ì¼ê´€ëœ ë°©ë²•**ìœ¼ë¡œ ìš”ì†Œë¥¼ ì ‘ê·¼,ì¶”ê°€,ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°˜ëŒ€ë¡œ ë’¤ì§‘ëŠ” `reversed()` ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



![SequencedCollectionDiagram20220216](/images/2024-06-30-jdk-1821/SequencedCollectionDiagram20220216.png "ì´ë¯¸ì§€ ì¶œì²˜: https://openjdk.org/jeps/431"){: .img80 .align-center}

##### ê¸°ì¡´ ë¹„ì¼ê´€ì ì¸ API

| ì‘ì—…                     | List ì˜ˆì‹œ ì½”ë“œ                  | Deque ì˜ˆì‹œ ì½”ë“œ              |       Sequenced Collection ì˜ˆì‹œ ì½”ë“œ       |
| ------------------------ | :------------------------------ | ---------------------------- | :----------------------------------------: |
| ì²« ë²ˆì§¸ ìœ„ì¹˜ì— ìš”ì†Œ ì¶”ê°€ | `list.add(0, "ì²« ë²ˆì§¸");`       | `deque.addFirst("ì²« ë²ˆì§¸");` | `sequencedCollection.addFirst("ì²« ë²ˆì§¸");` |
| ë§ˆì§€ë§‰ ìœ„ì¹˜ì— ìš”ì†Œ ì¶”ê°€  | `list.add("ë§ˆì§€ë§‰");`           | `deque.addLast("ë§ˆì§€ë§‰");`   |  `sequencedCollection.addLast("ë§ˆì§€ë§‰");`  |
| ì²« ë²ˆì§¸ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°    | `list.get(0);`                  | `deque.getFirst();`          |     `sequencedCollection.getFirst();`      |
| ë§ˆì§€ë§‰ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°     | `list.get(list.size() - 1);`    | `deque.getLast();`           |      `sequencedCollection.getLast();`      |
| ì²« ë²ˆì§¸ ìš”ì†Œ ì œê±°        | `list.remove(0);`               | `deque.removeFirst();`       |    `sequencedCollection.removeFirst();`    |
| ë§ˆì§€ë§‰ ìš”ì†Œ ì œê±°         | `list.remove(list.size() - 1);` | `deque.removeLast();`        |    `sequencedCollection.removeLast();`     |

##### reversed()

ìë°” `view Collection`ì„ ë§Œë“œëŠ” `List<String> result = Collections.unmodifiableList(list);` ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.

ì°¨ì´ì ì€ **reversedë§Œ** ì›ë³¸ì˜ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´, `reversed` ê²°ê³¼ë„ ë³€ê²½ë˜ì–´ ë³´ì´ê³ , `reversed`ì˜ ë°ì´í„°ê°€ ë°”ë€Œë©´, ì›ë³¸ë„ ë°”ë€ë‹ˆë‹¤.

###### ì›ë³¸ ë°ì´í„° ë³€ê²½ì‹œ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.

``` java
public static void main(String[] args) {
    List<Integer> origins = new ArrayList<>(List.of(1, 2, 3, 4, 5));
    List<Integer> reversed = origins.reversed();
    List<Integer> unmodifiableList = Collections.unmodifiableList(origins);

    // size ë¹„êµ 3ê°€ì§€ ëª¨ë‘ ë™ì¼
    System.out.println(origins.size()); // 5
    System.out.println(reversed.size()); // 5
    System.out.println(unmodifiableList.size()); // 5

    // ì›ë³¸ ë°ì´í„° ì¶”ê°€
    origins.addLast(6);

    // size ë¹„êµ 3ê°€ì§€ ëª¨ë‘ ë™ì¼
    System.out.println(origins.size()); // 6
    System.out.println(reversed.size()); // 6
    System.out.println(unmodifiableList.size()); // 6
}
```

###### reversed ìˆ˜ì •ì‹œ ì›ë³¸ ë°ì´í„°ë„ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.

```java
public static void main(String[] args) {
    List<Integer> origins = new ArrayList<>(List.of(1, 2, 3, 4, 5));
    List<Integer> reversed = origins.reversed();
    List<Integer> unmodifiableList = Collections.unmodifiableList(origins);

    // size ë¹„êµ 3ê°€ì§€ ëª¨ë‘ ë™ì¼
    System.out.println(origins.size()); // 5
    System.out.println(reversed.size()); // 5
    System.out.println(unmodifiableList.size()); // 5

    // reversed ë°ì´í„° ì¶”ê°€
    reversed.addLast(6);

    // size ë¹„êµ 3ê°€ì§€ ëª¨ë‘ ë™ì¼
    System.out.println(origins.size()); // 6
    System.out.println(reversed.size()); // 6
    System.out.println(unmodifiableList.size()); // 6
}
```

##### Setì€ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.

1. LinkedHashSet: ì§‘í•©ì˜ ë™ì¼í•œ ì›ì†ŒëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ë¯€ë¡œ ìœ„ì¹˜ê°€ ì¬ì¡°ì •ë©ë‹ˆë‹¤.
2. SortedSet: ë§¨ì²˜ìŒê³¼ ë§¨ ë’¤ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©´ ì˜ˆì™¸(`UnsupportedOperationException`)ì´ ë°œìƒí•©ë‹ˆë‹¤.  
   ìš”ì†Œë¥¼ ì¶”ê°€í• ë•Œ ìë™ìœ¼ë¡œ ì •ë ¬ëœ ìˆœì„œë¡œ ë°°ì¹˜ë˜ê¸° ë•Œë¬¸ì— `addFirst`,`addLast`ëŠ” ì˜ˆì™¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.



##### Mapì€ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.

ì •ë ¬ëœ ìƒíƒœë¡œ ê´€ë¦¬í•˜ëŠ” `SortedMap`,`LinkedHashMap`ì—ì„œ ì¶”ê°€ëœ ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.

| ë©”ì„œë“œ                     | ì„¤ëª…                                                         | ë°˜í™˜ íƒ€ì…              | ë¶ˆë³€(Immutable) ì—¬ë¶€ |
| -------------------------- | ------------------------------------------------------------ | ---------------------- | -------------------- |
| `firstEntry()`             | ì²« ë²ˆì§¸ í‚¤-ê°’ ìŒì„ ë°˜í™˜í•©ë‹ˆë‹¤.                               | `Map.Entry<K, V>`      | ë¶ˆë³€                 |
| `lastEntry()`              | ë§ˆì§€ë§‰ í‚¤-ê°’ ìŒì„ ë°˜í™˜í•©ë‹ˆë‹¤.                                | `Map.Entry<K, V>`      | ë¶ˆë³€                 |
| `pollFirstEntry()`         | ì²« ë²ˆì§¸ í‚¤-ê°’ ìŒì„ ì œê±°í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.                      | `Map.Entry<K, V>`      | ë¶ˆë³€                 |
| `pollLastEntry()`          | ë§ˆì§€ë§‰ í‚¤-ê°’ ìŒì„ ì œê±°í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.                       | `Map.Entry<K, V>`      | ë¶ˆë³€                 |
| `putFirst(K key, V value)` | ë§µì˜ ì²« ë²ˆì§¸ ìœ„ì¹˜ì— í‚¤-ê°’ ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤.                   | V                      | ì•„ë‹ˆì˜¤               |
| `putLast(K key, V value)`  | ë§µì˜ ë§ˆì§€ë§‰ ìœ„ì¹˜ì— í‚¤-ê°’ ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤.                    | V                      | ì•„ë‹ˆì˜¤               |
| `reversed()`               | ì—­ìˆœìœ¼ë¡œ ì •ë ¬ëœ `SequencedMap<K, V>`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.           | `SequencedMap<K, V>`   | ì•„ë‹ˆìš”               |
| `sequencedEntrySet()`      | ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ í‚¤-ê°’ ìŒì„ ë°˜í™˜í•˜ëŠ” `Set<Map.Entry<K, V>>`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. | `Set<Map.Entry<K, V>>` | ë¶ˆë³€                 |
| `sequencedKeySet()`        | ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ í‚¤ë“¤ì„ ë°˜í™˜í•˜ëŠ” `NavigableSet<K>`ì„ ë°˜í™˜í•©ë‹ˆë‹¤. | `NavigableSet<K>`      | ë¶ˆë³€                 |
| `sequencedValues()`        | ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ ê°’ë“¤ì„ ë°˜í™˜í•˜ëŠ” `Collection<V>`ì„ ë°˜í™˜í•©ë‹ˆë‹¤. | `Collection<V>`        | ë¶ˆë³€                 |

ì½”ë“œë¡œ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

1. ë¶ˆë³€ ë°˜í™˜ í™•ì¸  
   ```java
   LinkedHashMap<String, String> linkedHashMap = new LinkedHashMap<>();
   linkedHashMap.put("key1", "value1");
   linkedHashMap.put("key2", "value2");
   linkedHashMap.put("key3", "value3");
   
   Map.Entry<String, String> firstEntry = linkedHashMap.pollFirstEntry();
   firstEntry.setValue("new value"); // ì˜ˆì™¸ë°œìƒ
   ```

2. `reversed()` ìˆ˜ì •í™•ì¸  

   ```java
   @Test
   @DisplayName("reversed ë°ì´í„° ì¶”ê°€ ë° ì›ë³¸ ë°ì´í„° ìˆ˜ì •ê°€ëŠ¥í•˜ë‹¤.")
   void add() {
       LinkedHashMap<String, String> linkedHashMap = new LinkedHashMap<>();
       linkedHashMap.put("key1", "value1");
       linkedHashMap.put("key2", "value2");
       linkedHashMap.put("key3", "value3");
   
       SequencedMap<String, String> reversed = linkedHashMap.reversed();
       reversed.put("key4", "value4");
   
       Assertions.assertSame(4, linkedHashMap.size());
   }
   ```

##### Iterableë¡œ ì¡°íšŒí•œ ê²½ìš° ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë‹¤.

`firstEntry()`ì™€ ê°™ì€ ë©”ì„œë“œê°€ ì•„ë‹Œ ì´í„°ë ˆì´í„°ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš° ì›ë³¸ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
@Test
@DisplayName("iteratorë¡œ ì¡°íšŒí•œ Entryì˜ value ìˆ˜ì •ì‹œ ì›ë³¸ ë°ì´í„° ìˆ˜ì •ê°€ëŠ¥í•˜ë‹¤.")
void modify() {
    LinkedHashMap<String, String> linkedHashMap = new LinkedHashMap<>();
    linkedHashMap.put("key1", "value1");
    linkedHashMap.put("key2", "value2");
    linkedHashMap.put("key3", "value3");

    Map.Entry<String, String> firstEntry = linkedHashMap.entrySet().iterator().next();
    firstEntry.setValue("new value");

    Assertions.assertSame("new value", linkedHashMap.get("key1"));
}
```
