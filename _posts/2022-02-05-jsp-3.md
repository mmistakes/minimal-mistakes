---
layout: single
title:  "JSP ë‚´ì¥ê°ì²´ "
categories: Servlet/JSP 
tag: [JSP, ì¸í”„ëŸ°, request, response, out, session]
toc: true
author_profile: false
sidebar:
  nav: "docs"
---

# 2022-02-05

<!--Quote-->
> ğŸ’¡ ì¸í”„ëŸ° JSPê°•ì˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±.

> â— ê°œì¸ì´ ê³µë¶€í•œ ë‚´ìš©ì„ ì ì€ ê²ƒ ì´ê¸°ì— ì˜¤ë¥˜ê°€ ë§ì„ ìˆ˜ë„ ìˆìŒ 


## JSP í˜ì´ì§€ì˜ ë‚´ì¥ê°ì²´ 1

request / response / out / session / application / pageContext / page / config / exception 

# Request

- ì›¹ ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ìˆëŠ” ê°ì²´

## <form action="RequestLoginProc.jsp" method="get">

1) getë°©ì‹ì€ ì •ë³´ê°€ ë‹¤ë³´ì„ 

![get.png](/assets/images/posts/2022-02-05/get.png)

2) postë°©ì‹ì€ ì •ë³´ê°€ ì•ˆë³´ì„

![post.png](/assets/images/posts/2022-02-05//post.png)

 

## 1. RequestLogin(ë¡œê·¸ì¸ í˜ì´ì§€)

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	
	<center>
	<h2> ë¡œê·¸ì¸ í˜ì´ì§€</h2>
	
	<form action="RequestLoginProc.jsp" method="post">
	<table width="400" border="1">
	<tr height=60>
		<td align="center" width="150"> ì•„ì´ë”” </td>
		<td align="left" width="250"> 
			<input type="text" name="id">
		</td>
	</tr>
	<tr height="60">
		<td align="center" width="150"> íŒ¨ìŠ¤ì›Œë“œ </td>
		<td align="left" width="250">
			<input type="password" name="pass">
		</td>
	</tr>
	<tr height="60">
		<td colspan="2" align="center">
		<input type="submit" value="ì „ì†¡">
		</td> 	
	</tr>
	</table>
	</form>
	</center>
</body>
</html>
```

- submitì„ ëˆ„ë¥´ê²Œ ë˜ë©´ form íƒœê·¸ ì•ˆì— actionì´ ì‹¤í–‰ëœë‹¤

## 2.RequestLoginProc(ë°ì´í„° ë°›ì•„ì™€ì„œ ì¶œë ¥í•˜ëŠ” í˜ì´ì§€)

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<!-- RequestLoginì—ì„œ ë„˜ì–´ì˜¨ ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì½ì–´ë“œë¦¼ -->

<%
	// ì‚¬ìš©ìì˜ ì •ë³´ê°€ ì €ì¥ë˜ì–´ ìˆëŠ” ê°ì²´ (ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œê°€ requestì— ì €ì¥ë¨) 
  // requestì˜ getParameter() ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¶”ì¶œ  
	String id = request.getParameter("id"); // í‘œì˜ nameì„ ë„£ì–´ì•¼í•œë‹¤ ì‚¬ìš©ìì˜ id ê°’ì„ ì½ì–´ë“œë ¤ì„œ ë³€ìˆ˜ idì— ì €ì¥
	String pass = request.getParameter("pass");
%>

	<h2>
	ë‹¹ì‹ ì˜ ì•„ì´ë””ëŠ” <%= id %> ì´ê³  íŒ¨ìŠ¤ì›Œë“œëŠ” <%= pass %>ì…ë‹ˆë‹¤ // ë¸Œë¼ìš°ì €ì— ì¶œë ¥í•˜ëŠ” ë¶€ë¶„
	</h2>
</body>
</html>
```

- ìˆœì„œ :  RequestLogin(ë¡œê·¸ì¸ í˜ì´ì§€) â†’ RequestLoginProc(ë°ì´í„° ë°›ì•„ì™€ì„œ ì¶œë ¥í•˜ëŠ” í˜ì´ì§€) â†’ë‹¹ì‹ ì˜ ì•„ì´ë””ëŠ” <%= id %> ì´ê³  íŒ¨ìŠ¤ì›Œë“œëŠ” <%= pass %>ì…ë‹ˆë‹¤(ì…ë ¥í•œ id ì™€ pass ì¶œë ¥)

## RequestJoinProc(ë°ì´í„° ë°›ì•„ì™€ì„œ ì¶œë ¥í•˜ëŠ” í˜ì´ì§€)

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<center>
<h2> íšŒì› ì •ë³´ ë³´ê¸°</h2>
<%
	// ("") ê´„í˜¸ì•ˆì— ë“¤ì–´ê°€ëŠ”ê±´ nameì˜ ê°’ì´ ë“¤ì–´ê°„ë‹¤  
	
	// postë°©ì‹ìœ¼ë¡œ ë°ì´í„°ê°€ ë„˜ì–´ì˜¬ë•Œ í•œê¸€ì´ ê¹¨ì§ˆìˆ˜ ìˆê¸°ì— 
	request.setCharacterEncoding("EUC-KR");

	// ê°ì¢… ì‚¬ìš©ìë¡œë¶€í„° ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ ì €ì¥í•´ì¤Œ
	String id = request.getParameter("id");
	String pass1 = request.getParameter("pass1");
	String pass2 = request.getParameter("pass2");
	String email = request.getParameter("email");
	String tel = request.getParameter("tel");
	
	// checkboxëŠ” String[]ìœ¼ë¡œ ë°›ì•„ì¤€ë‹¤. request.getParameterValues("nameìœ¼ë¡œ ì§€ì •í•œê±° ë„£ê¸°");
	String[] hobby = request.getParameterValues("hobby");
	
	// selectëŠ” ì—¬ëŸ¬ê°œ ì¤‘ì— í•˜ë‚˜ë§Œ ë°›ê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ String í•´ë„ ëœë‹¤.
	String job = request.getParameter("job");
	
	// radio ë²„íŠ¼ë„ ì—¬ëŸ¬ê°œ ì¤‘ì— í•˜ë‚˜ë§Œ ë°›ê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ String í•´ë„ ëœë‹¤.
	String age = request.getParameter("age");
	String info = request.getParameter("info");
	
	if(!pass1.equals(pass2)){
%>
	<script type="text/javascript">
		alert("ë¹„ë¯¼ë²ˆí˜¸ê°€ í‹€ë¦½ë‹ˆë‹¤"); //ê²½ê³ ì°½
		history.go(-1); //ì´ì „ í˜ì´ì§€ë¡œ ì´ë™ 
	</script>
<% 	
	}
%>

<table width="400" border="1">
<tr height="50">
		<td width="150" align="center"> ì•„ì´ë”” </td>
		<td width="350" align="center"> <%= id %>
	</td>
<tr height="50">
		<td width="150" align="center"> ì´ë©”ì¼ </td>
		<td width="350" align="center"> <%= email %>
	</td>
<tr height="50">
		<td width="150" align="center"> tel </td>
		<td width="350" align="center"> <%= tel %>
	</td>
<tr height="50"> <!-- ê´€ì‹¬ë¶„ì•¼ëŠ” ë°°ì—´ì´ê¸°ì— forë¬¸ì„ ì´ìš©í•´ì•¼í•œë‹¤  -->
		<td width="150" align="center"> ê´€ì‹¬ë¶„ì•¼ </td>
		<td width="350" align="center">
		<%
			for(int i=0; i<hobby.length; i++){
				out.write(hobby[i]+" ");
			}
		%>
	</td>
<tr height="50">
		<td width="150" align="center"> ì§ì—… </td>
		<td width="350" align="center"> <%= job %>
	</td>
<tr height="50">
		<td width="150" align="center"> ì—°ë ¹ì€ </td>
		<td width="350" align="center"> <%= age %>
	</td>
<tr height="50">
		<td width="150" align="center"> í•˜ê³ ì‹¶ì€ë§ </td>
		<td width="350" align="center"> <%= info %>
	</td>
</table>
</center>
</body>
</html>
```

- checkboxëŠ” String[]ìœ¼ë¡œ ë°›ì•„ì¤€ë‹¤. request.getParameterValues("nameìœ¼ë¡œ ì§€ì •í•œê±° ë„£ê¸°") â†’ ì¶œë ¥í•  ë•Œë„ ë°°ì—´ë¡œ í•´ì•¼í•œë‹¤
- selectëŠ” ì—¬ëŸ¬ê°œ ì¤‘ì— í•˜ë‚˜ë§Œ ë°›ê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ String í•´ë„ ëœë‹¤


<details>
<summary>ğŸ‘ˆê²°ë¡  </summary>
<div markdown="1">       
ì—¬ëŸ¬ê°œë¥¼ ì„ íƒí•˜ë©´ ë°°ì—´ë¡œ í‘œí˜„ , í•œ ê°œë¥¼ ì„ íƒí•˜ë©´ ì¼ë°˜ì ì¸ Stringìœ¼ë¡œ ë°›ê¸°
</div>
</details> 


## Response.sendRedirect

- ì–´ë– í•œ ì¡°ê±´ì´ ë§Œì¡±í•˜ë©´ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤Œ

### 1) ë¡œê·¸ì¸ í™”ë©´ í˜ì´ì§€

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<center>
	<h2> ë¡œê·¸ì¸ í˜ì´ì§€</h2>
	
	<form action="ResponseLoginProc.jsp" method="post">
	<table width="400" border="1">
	<tr height=60>
		<td align="center" width="150"> ì•„ì´ë”” </td>
		<td align="left" width="250"> 
			<input type="text" name="id">
		</td>
	</tr>
	<tr height="60">
		<td align="center" width="150"> íŒ¨ìŠ¤ì›Œë“œ </td>
		<td align="left" width="250">
			<input type="password" name="pass">
		</td>
	</tr>
	<tr height="60">
		<td colspan="2" align="center">
		<input type="submit" value="ì „ì†¡">
		</td> 	
	</tr>
	</table>
	</form>
	</center>
	
</body>
</html>
```

### 2) ë¡œê·¸ì¸ ì²˜ë¦¬ í˜ì´ì§€

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<h2> ë¡œê·¸ì¸ ì²˜ë¦¬ í˜ì´ì§€ </h2>
	<%
		request.setCharacterEncoding("EUC-KR");
	
		//ì„ì˜ì ìœ¼ë¡œ idì™€ passë¥¼ ì„¤ì •
		String dbid = "aaaa";
		String dbpass = "1234";
		
		//ì‚¬ìš©ìë¡œë¶€í„° ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ ì…ë ¥ ë°›ì•„ì¤Œ
		String id = request.getParameter("id");
		String pass = request.getParameter("pass");
		
		if(dbid.equals(id) && dbpass.equals(pass)){
			
			// ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œê°€ ì¼ì¹˜ í•˜ê¸°ì— , ë©”ì¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ì–´ì•¼ í•œë‹¤ ê·¸ë•Œ ì‚¬ìš©í•˜ëŠ”ê²Œ sendRedircet
			response.sendRedirect("ResponseMain.jsp?id="+id);
			// response.sendRedirectë¥¼ ë§Œë‚˜ëŠ” ìˆœê°„ <h2> ë¡œê·¸ì¸ ì²˜ë¦¬ í˜ì´ì§€ </h2> ê°€ ì‚¬ë¼ì§„ë‹¤ 
		}else{
	%> 
	
		<script>
			alert("ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œê°€ ì¼ì¹˜ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤");
			history.go(-1);
		</script>
	<%
		}
	%>
</body>
</html>
```

### 3) ResponseMain(sendRedirect)ë¡œ ì—°ê²°ëœ í˜ì´ì§€

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<% 
	request.setCharacterEncoding("EUC-KR");
	
%>

	<h2> <%= request.getParameter("id")%> ë‹˜ ë°˜ê°‘ìŠµë‹ˆë‹¤.</h2>
</body>
</html>
```

- ì‹¤í–‰ ìˆœì„œ : ë¡œê·¸ì¸ í™”ë©´ í˜ì´ì§€ â†’ ë¡œê·¸ì¸ ì²˜ë¦¬ í˜ì´ì§€(ë¯¸ë¦¬ ì„¤ì •í•´ë‘” id(aaaa)ì™€ pass(1234) ê°€ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì…ë ¥í•œ id ì™€ passê°€ ì¼ì¹˜í•  ê²½ìš°ì— ResponseMain ë¡œ ì´ë™)  â†’   ì…ë ¥í•œ id ì¶œë ¥

## JSPì—ì„œ ì¶œë ¥ì„ í•˜ëŠ” ë°©ë²•

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<!-- ì¶œë ¥ì„ í•˜ëŠ” ë°©ë²•  -->
<% 
	String name = "jsp ì¶œë ¥ ê³µë¶€";		
%>
	ìŠ¤í¬ë¦½íŠ¸ë¡œ í‘œí˜„ì‹œ <%= name %> ê°€ í™”ë©´ì— ì¶œë ¥ 
	
	<p>
	
<%  /* out.writeì™€ out.println ë‘ê°€ì§€ ë°©ë²•ì´ ìˆìŒ  */
	out.write(name + " ê°€ í™”ë©´ì— ì¶œë ¥ ");
	out.println(name +" ê°€ í™”ë©´ì— ì¶œë ¥ ");
%>
 
</body>
</html>
```

- <% %>ë°–ì—ì„œ ì¶œë ¥í•˜ëŠ” ë°©ë²•ì€ <%= %>ì„ ì‚¬ìš©
- <% %> ì•ˆì—ì„œëŠ” out.write(), out.println() ë‘ ê°€ì§€ê°€ ì¡´ì¬

## ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•(Session)

### 1.ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì½”ë“œ

```java
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>

 <h2>  ì„¸ì…˜ ì—°ìŠµ </h2>
<%
	String name = "kim";
	// 2ë²ˆ ë°©ë²• : ì„¸ì…˜ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´ë‚´ê¸°  
	session.setAttribute("name1", name); // session.setAttribute("name1",name) nameê°’ì„ name1ì— ë„£ì–´ì¤Œ 
	// ì„¸ì…˜ìœ ì§€ì‹œê°„ 
	session.setMaxInactiveInterval(10);// 10ì´ˆê°„ ì„¸ì…˜ì„ ìœ ì§€
%>  
	<!-- 1ë²ˆ ë°©ë²• : ì´ë ‡ê²Œ í•´ì•¼ SessionName.jspì— name="shin" ì´ë¼ëŠ” ë°ì´í„°ê°€ ë„˜ì–´ê°  -->
	<a href="SessionName.jsp?name=<%=name %>"> ì„¸ì…˜ë„¤ì„í˜ì´ì§€ë¡œ ì´ë™</a>
	<a href="SessionName.jsp"> ì„¸ì…˜ë„¤ì„í˜ì´ì§€ë¡œ ì´ë™</a>
</body>
</html>
```

- session.setAttribute() : ë°ì´í„° ì „ë‹¬ í•  ë•Œ ì‚¬ìš©
- session.setMaxInactiveInterval() : ì„¸ì…˜ì„ ìœ ì§€ ì‹œí‚¤ëŠ” ê¸°ê°„ì„ í™œìš©í•  ë•Œ ì‚¬ìš©

### 2.ë°ì´í„°ë¥¼ ë°›ëŠ” ì½”ë“œ (SessionName.jsp)

```java

<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<h2> ì„¸ì…˜ ë„¤ì„ í˜ì´ì§€ ì…ë‹ˆë‹¤</h2>
	
	<%  // name1ì´ ë°›ì•„ì˜¤ëŠ” ë°ì´í„°ëŠ” ê°ì²´ë‹¤ ê·¸ë˜ì„œ Stringìœ¼ë¡œ ë°›ê³  ì‹¶ìœ¼ë©´ Stringìœ¼ë¡œ í˜•ë³€í™˜ 
	String name1 =(String)session.getAttribute("name1");
	%>
	
	<%=name1 %>ë‹˜ ë°˜ê°‘ìŠµë‹ˆë‹¤.
	
</body>
</html>
```

- session.getAttribute() : session.setAttribute()ë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ ì‚¬ìš©

## ğŸ“‘ ì¶œì²˜ 
 - [Inflearn](https://www.inflearn.com/course/jsp-%EC%9B%B9%EA%B0%9C%EB%B0%9C-%EC%87%BC%ED%95%91%EB%AA%B0-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/dashboard)