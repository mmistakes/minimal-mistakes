---
title:  "[C++ë¡œ í’€ì´] ìˆ˜ì‹ ìµœëŒ€í™” â­â­" 

categories:
  - Programmers
tags:
  - [Algorithm, Coding Test]

toc: true
toc_sticky: true

date: 2021-02-10
last_modified_at: 2021-02-10
---


# ğŸ“Œ ìˆ˜ì‹ ìµœëŒ€í™”

> ë‚œì´ë„ â­â­

## ğŸš€ ë¬¸ì œ

![image](https://user-images.githubusercontent.com/42318591/107517287-eb5d1080-6bf0-11eb-9437-f2a2c2de61e1.png)

![image](https://user-images.githubusercontent.com/42318591/107517316-f1eb8800-6bf0-11eb-9319-f2ee9bfae3f9.png)


<br>

## ğŸš€ ë‚´ í’€ì´ â­•

```cpp
#include <string>
#include <vector>
#include <algorithm>

using namespace std;

long long calculate(long long a, long long b, char op) {
    if (op == '+')
        return a + b;
    else if (op == '-')
        return a - b;
    else if (op == '*')
        return a * b;
}

long long solution(string expression) {
    long long answer = 0;

    vector<long long> record_operand;
    vector<char> record_operator;
    string temp = "";
    for (int i = 0; i < expression.length(); i++) {
        if (expression[i] >= '0' && expression[i] <= '9')
            temp += expression[i];
        else {
            record_operator.push_back(expression[i]);
            record_operand.push_back(stoll(temp));
            temp = "";
        }
    }
    record_operand.push_back(stoll(temp));

    vector<int> perm = { 0, 1, 2 };
    string op = "+-*";
    do {
        vector<long long> temp_operand = record_operand;
        vector<char> temp_operator = record_operator;
        for (int i = 0; i < perm.size(); i++) {
            for (int j = 0; j < temp_operator.size(); ) {
                if (temp_operator[j] == op[perm[i]]) {
                    long long res = calculate(temp_operand[j], temp_operand[j + 1], temp_operator[j]);

                    temp_operand.erase(temp_operand.begin() + j);
                    temp_operand.erase(temp_operand.begin() + j);
                    temp_operand.insert(temp_operand.begin() + j, res);

                    temp_operator.erase(temp_operator.begin() + j);
                }
                else
                    j++;
            }
        }
        answer = max(answer, abs(temp_operand[0]));
    } while (next_permutation(perm.begin(), perm.end()));

    return answer;
}
```

<br>

### âœˆ ì—°ì‚°ìì™€ í”¼ì—°ì‚°ì êµ¬ë¶„í•˜ê¸°

```cpp
    vector<long long> record_operand;
    vector<char> record_operator;
    string temp = "";
    for (int i = 0; i < expression.length(); i++) {
        if (expression[i] >= '0' && expression[i] <= '9')
            temp += expression[i];
        else {
            record_operator.push_back(expression[i]);
            record_operand.push_back(stoll(temp));
            temp = "";
        }
    }
    record_operand.push_back(stoll(temp));
```

- "100-200*300-500+20" ì„ ì˜ˆë¡œ ë“¤ìë©´
  - `record_operand` ğŸ‘‰ {100, 200, 300 , 500, 20}
  - `record_operator` ğŸ‘‰ {'-', '*', '-', '+'}
- í•„ì—°ì ìœ¼ë¡œ í”¼ì—°ì‚°ìì˜ ì´ ê°œìˆ˜ê°€ ì—°ì‚°ìì˜ ì´ ê°œìˆ˜ë³´ë‹¤ ë”± í•œê°œ ë” ë§ì„ ìˆ˜ ë°–ì— ì—†ë‹¤.
- `operand[i]`ì™€ `operand[i + 1]` ë‘ í”¼ì—°ì‚°ìë¥¼ `operator[i]` ì—°ì‚°ìë¡œ ì—°ì‚°í•˜ëŠ” ì¸ë±ìŠ¤ ê·œì¹™ì„ ê°€ì§„ë‹¤. 

ë§¨ ëì—ëŠ” ì—°ì‚°ìê°€ ì—†ë‹¤. ì—°ì‚°ìë¥¼ ë§Œë‚  ë•Œë§Œ `record_operand` ì— í”¼ì—°ì‚°ìë¥¼ ì¶”ê°€í–ˆì—ˆê¸° ë•Œë¬¸ì— forë¬¸ì´ ëë‚˜ê³  ë‚˜ì˜¤ë©´ ë§ˆì§€ë§‰ í”¼ì—°ì‚°ìê°€ ì•„ì§ `record_operand` ì— ì¶”ê°€ê°€ ë˜ì§€ ëª»í•œ ìƒíƒœì¼ ê²ƒì´ë‹¤. ê·¸ë˜ì„œ forë¬¸ ë‚˜ì™€ì„œ í•œë²ˆ ë” ì¶”ê°€ë¥¼ í•´ì¤€ë‹¤. ì½”ë“œë¥¼ ì´ë ‡ê²Œ íŠ¹ì • ê²½ìš°ì—ë§Œ ì–´ë–¤ ìš”ì†Œê°€ ë°˜ì˜ ë˜ë„ë¡ ì§œëŠ” ê²½ìš°ì—” ë°˜ë³µë¬¸ì´ ëë‚˜ê³  ë§ˆì§€ë§‰ ìš”ì†Œê°€ ë°˜ì˜ë˜ì§€ ëª»í•˜ì§€ëŠ” ì•Šì„ê¹Œ í•˜ëŠ” ìƒê°ì„ ê¼­ í•˜ì.

<br>

### âœˆ ì—°ì‚°ìë¼ë¦¬ì˜ ìˆœì—´ (ìš°ì„ ìˆœìœ„ ìˆœì„œ ì¢…ë¥˜ëŠ” 3! = 6ê°€ì§€) 

```cpp
    vector<int> perm = { 0, 1, 2 };
    string op = "+-*"; // '+' ì˜ ì¸ë±ìŠ¤ 0. '-' ì˜ ì¸ë±ìŠ¤ 1. '*' ì˜ ì¸ë±ìŠ¤ 2.
    do {
        vector<long long> temp_operand = record_operand;
        vector<char> temp_operator = record_operator;
        for (int i = 0; i < perm.size(); i++) {
            for (int j = 0; j < temp_operator.size(); ) {
                if (temp_operator[j] == op[perm[i]]) {  // ì—°ì‚°ì ì°¾ì€ ê²½ìš° ì—°ì‚° ì‹œì‘! 
                    long long res = calculate(temp_operand[j], temp_operand[j + 1], temp_operator[j]);

                    temp_operand.erase(temp_operand.begin() + j);
                    temp_operand.erase(temp_operand.begin() + j); // ìœ„ì˜ ì‚­ì œë¡œ ì•ìœ¼ë¡œ í•œì¹¸ ë•¡ê²¨ì ¸ ì™“ì„í…Œë‹ˆ ê·¸ëŒ€ë¡œ j ìœ„ì¹˜ ì‚­ì œí•˜ë©´ ëœë‹¤.
                    temp_operand.insert(temp_operand.begin() + j, res); // ìœ„ì˜ ì‚­ì œë¡œ ì•ìœ¼ë¡œ í•œì¹¸ ë•¡ê²¨ì ¸ ì™“ì„í…Œë‹ˆ ê·¸ëŒ€ë¡œ j ìœ„ì¹˜ì— ì‚½ì…í•˜ë©´ ëœë‹¤.

                    temp_operator.erase(temp_operator.begin() + j);
                    // ì´ ê²½ìš°ì—” j++ í•˜ì§€ ì•ŠëŠ”ë‹¤. temp_operator ì›ì†Œê°€ ì‚­ì œë˜ì–´ì„œ ì•ìœ¼ë¡œ í•œ ì¹¸ ë•¡ê²¨ì¡Œì„í…Œë‹ˆ ê·¸ëŒ€ë¡œ ë‹¤ìŒ ë°˜ë³µì—ì„œ j ì¸ë±ìŠ¤ ê²€ì‚¬í•˜ë©´ ëœë‹¤.
                }
                else
                    j++;  // ì´ë²ˆ ì—°ì‚°ì ëª» ì°¾ì€ ê²½ìš°ì—ë§Œ j++
            }
        }
        answer = max(answer, abs(temp_operand[0])); // answerì—ëŠ” ìµœëŒ€ê°’ë§Œ ë“¤ì–´ê°€ê²Œë”. ìŒìˆ˜ëŠ” ì–‘ìˆ˜ë¡œ ë°”ê¾¼ë‹¤ í–ˆìœ¼ë‹ˆ ì ˆëŒ€ê°’ë§Œ ì·¨í•¨.
    } while (next_permutation(perm.begin(), perm.end()));
```

- ìˆœì—´ êµ¬í•˜ê¸°
  - ì‚¬ì‹¤ ì—°ì‚°ìê°€ 3 ê°œ ë¿ì´ë¼ ì—°ì‚°ìë¼ë¦¬ì˜ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ìˆœì—´ì€ `3! = 6` ê°€ì§€ ë¿ì´ë‹¤. ê·¸ë˜ì„œ êµ³ì´ *next_permutation* ì•ˆ ì“°ê³  6 ê°€ì§€ ì—°ì‚°ì ìˆœì—´ì„ string ë°°ì—´ì— ë‹´ì•„ë‘ê³  ê°–ë‹¤ ì“°ëŠ”ê²Œ í›¨ì”¬ ê°„ë‹¨í•˜ì§€ë§Œ *next_permutation* ì—°ìŠµ í•œë²ˆ í•´ë³´ë ¤ê³  ì¼ë¶€ëŸ¬ ì‚¬ìš©í–ˆë‹¤.
  - *next_permutation* ì€ ì›ì†Œë“¤ì´ í¬ê¸°ë¥¼ ë¹„êµí•  ìˆ˜ ìˆì–´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— "+-\*" ìì²´ë¥¼ *next_permutation* ë¡œ ì •ë ¬ì‹œí‚¤ë©° ë‹¤ìŒ ìˆœì—´ì„ êµ¬í•˜ê¸°ì—” ì• ë¡œì‚¬í•­ì´ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì—ˆë‹¤. ë”°ë¼ì„œ `perm` { 0, 1, 2 } ë°°ì—´ì„ í†µí•˜ì—¬ ì´ ê²ƒì„ *next_permutation* ì‹œí‚¤ê³  ì—°ì‚°ìëŠ” ì´ ì¸ë±ìŠ¤ì— ëŒ€ì‘í•˜ë„ë¡ í•˜ì˜€ë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´ í˜„ì¬ `perm`ëª¨ì–‘ì´ {1, 2, 0} ì´ë¼ë©´ ì—°ì‚°ì ìš°ì„ ìˆœìœ„ëŠ” `*  >  +  >  -` ì¸ê²Œ ëœë‹¤. 
      - ì°¨ë¡€ëŒ€ë¡œ [`í”¼ì—°ì‚°ì * í”¼ì—°ì‚°ì` ë¥¼ ëª¨ë‘ ê³„ì‚° ğŸ‘‰  `í”¼ì—°ì‚°ì + í”¼ì—°ì‚°ì` ë¥¼ ëª¨ë‘ ê³„ì‚° ğŸ‘‰ `í”¼ì—°ì‚°ì - í”¼ì—°ì‚°ì` ë¥¼ ëª¨ë‘ ê³„ì‚°] ì´ ìˆœì„œëŒ€ë¡œ ë°˜ë³µë¬¸ì„ ì§„í–‰í•˜ë©´ ëœë‹¤.
- ì—°ì‚° í›„
  - ë‘ í”¼ì—°ì‚°ì ì‚­ì œ
  - ë‘ í”¼ì—°ì‚°ìì˜ ì—°ì‚° ê²°ê³¼ í•´ë‹¹ ìë¦¬ì— ì‚½ì… 
  - ì—°ì‚°ì ì‚­ì œ 
- ëª¨ë“  ì—°ì‚°ì´ ë‹¤ ëë‚˜ê³  ë‚œ í›„ (ì¦‰, í•´ë‹¹ ìˆœì—´ì˜ 3ê°œì˜ ì—°ì‚°ì ëª¨ë‘ ì—°ì‚° ì™„ë£Œ)
  - í•„ì—°ì ìœ¼ë¡œ `temp_operand`ì—ëŠ” í•˜ë‚˜ì˜ ì›ì†Œë§Œ ë‚¨ê²Œ ëœë‹¤. **ì´ê²Œ ì—°ì‚°ì ìš°ì„ ìˆœìœ„ê°€ ì´ëŸ° ìˆœì„œì¼ ë•Œì˜ expression ìµœì¢… ì—°ì‚° ê²°ê³¼ê°€ ëœë‹¤.** (`temp_operator`ëŠ” ë¹„ì›Œì§)
- ìš°ì„ ìˆœìœ„ ìˆœì—´ì´ ë°”ë€” ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ ì—°ì‚°í•´ì•¼í•˜ë¯€ë¡œ ì‚­ì œë˜ì–´ ë¹„ì›Œì§€ê³  í•˜ë‚˜ë°–ì— ì•ˆë‚¨ì€ ì—°ì‚°ì, í”¼ì—°ì‚°ì ì§‘í•©ì„ ìƒˆë¡œ ì´ˆê¸°í™” í•´ì•¼ í•œë‹¤.
  - ê·¸ë˜ì„œ `record_operand`, `record_operator`ì„ ê·¸ëŒ€ë¡œ ì•ˆì“°ê³  ë§¤ ìˆœì—´ë§ˆë‹¤ ì´ë¥¼ ë³µì‚¬í•œ `temp_operand`, `temp_operator`ì„ ìƒˆë¡œ ë§Œë“¤ì–´ì£¼ê³  ì´ê±¸ë¡œ ì—°ì‚°ì„ í•˜ëŠ” ê²ƒì´ë‹¤. 

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}