---
title:  "Chater 6-2 ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(Binary Search Tree)" 

categories:
  - DataStructure2
tags:
  - [Algorithm, Data Structure, C]

toc: true
toc_sticky: true

date: 2021-03-04
last_modified_at: 2021-03-04
---

í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ **í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” Cì–¸ì–´(ë¶€ë¡)** ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
<u>ppt ìº¡ì²˜ëŠ” ëª¨ë‘ êµìˆ˜ë‹˜ ê°•ì˜ì—ì„œ ìº¡ì²˜í•œ ê²ƒì„ì„ ë°í™ë‹ˆë‹¤.</u> 
{: .notice--warning}

# Chapter 6. Binary Search

## ğŸš€ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ë€?

- [ì´ì§„ ê²€ìƒ‰ íŠ¸ë¦¬ & í™ íŠ¸ë¦¬ ì°¸ê³ ](https://ansohxxn.github.io/algorithm%20lesson%202/chapter5-2/#%EC%9D%B4%EC%A7%84-%ED%8A%B8%EB%A6%AC)
- [ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ (ì¥ë‹¨ì , ì‚½ì…, ì‚­ì œ, íƒìƒ‰, ìˆœíšŒ)](https://ansohxxn.github.io/algorithm/bst/)

<br>

### ğŸ”¥ ì‚­ì œ

![image](https://user-images.githubusercontent.com/42318591/109903403-16fa8480-7cdf-11eb-9200-4594881c32ca.png)

![image](https://user-images.githubusercontent.com/42318591/109903456-237edd00-7cdf-11eb-8f2c-9ca45b8c940d.png)

ì‚­ì œì˜ ê²½ìš° ë‚´ê°€ ê¸°ì¡´ì— ì•Œê³  ìˆë˜ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì˜ ì‚­ì œ ë°©ì‹ê³¼ ê°•ì˜ì—ì„œ ì†Œê°œí•œ ì‚­ì œ ë°©ì‹ê³¼ ë‹¬ëë‹¤. ì•„ë˜ëŠ” ê°•ì˜ì—ì„œ ì†Œê°œí•œ ì‚­ì œ ë°©ì‹ì´ë‹¤.

1. ì‚­ì œí•œ ë…¸ë“œì˜ *ì™¼ìª½ ìì‹* ì„ 
  - ì‚­ì œí•œ ë…¸ë“œì˜ ë¶€ëª¨ì™€ ì—°ê²°
2. ì‚­ì œí•œ ë…¸ë“œì˜ *ì˜¤ë¥¸ìª½ ìì‹* ì„ 
  - ì‚­ì œí•œ ë…¸ë“œì˜ *ì™¼ìª½ ìì‹ ì„œë¸Œë¥´í‹°* ì—ì„œ ì˜¤ë¥¸ìª½ ìì‹ì´ ì—†ëŠ” ë…¸ë“œì˜ ì˜¤ë¥¸ìª½ ìì‹ìœ¼ë¡œì„œ ê°€ì¥ ëì— ì—°ê²°

## ğŸš€ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ êµ¬í˜„ ì½”ë“œ

### ğŸ“œ tree.h

```cpp
#define TMAX 40

typedef struct {
	char character[TMAX];
	char name[TMAX];
}Item;

#define MAXITEMS 20

typedef struct node{
	Item item;
	struct node* left;
	struct node* right;
}Node;

typedef struct tree {
	Node* root;
	int size;
}Tree;

void InitializeTree(Tree* ptree, int(comp_func)(const Item item1, const Item item2));
bool TreeIsEmpty(const Tree* ptree);
bool TreeIsFull(const Tree* ptree);
int TreeItemCount(const Tree* ptree);
bool AddItem(const Item* pi, Tree* ptree);
bool InTree(const Item* pi, const Tree* ptree);
bool DeleteItem(const Item* pi, Tree* ptree);
void Traverse(const Tree* ptree, void (*pfun)(Item item));
void DeleteAll(Tree* ptree);
Item* TreeSearch(Tree* tree, const Item key);
```

<br>

### ğŸ“œ tree.c

```cpp
typedef struct pair {
	Node* parent;
	Node* child;
} Pair;

/* tree.c ì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ì‡ëŠ” static í•¨ìˆ˜ ë° ë³€ìˆ˜ë“¤ */
static int(*compare_func)(const Item item1, const Item item2) = NULL;

// Itemìœ¼ë¡œ ë…¸ë“œ ìƒì„±
static Node* MakeNode(const Item* pi)
{
	Node* new_node; 

	new_node = (Node*)malloc(sizeof(Node));

	if (new_node != NULL) {
		new_node->item = *pi;
		new_node->left = NULL;
		new_node->right = NULL;
	}
	else {
		printf("Malloc() failed.\n");
		exit(1);
	}

	return new_node;
}

// root ë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì„œë¸ŒíŠ¸ë¦¬ì— new_node ë¥¼ ìì‹ìœ¼ë¡œ ì¶”ê°€
static void AddNode(Node* new_node, Node* root)
{
	int comp = compare_func(new_node->item, root->item);

	if (comp == 0) {
		printf("Cannot add a duplicated item.\n");
		free(new_node);
		return;
	}
	else if (comp < 0) {
		if (root->left == NULL)
			root->left = new_node;
		else
			AddNode(new_node, root->left); // recursion
	}
	else {
		if (root->right == NULL)
			root->right = new_node;
		else
			AddNode(new_node, root->right); // recursion
	}
}

// root ë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì„œë¸ŒíŠ¸ë¦¬ë¥¼ ì¤‘ìœ„ ìˆœíšŒ
static void InOrder(const Node* root, void (*pfun)(Item item))
{
	if (root == NULL)
		return;

	InOrder(root->left, pfun); // recursion
	(*pfun)(root->item); // ì¶œë ¥ (pfun í•¨ìˆ˜ ì‹¤í–‰)
	InOrder(root->right, pfun); // recursion
}

// ì°¾ê³ ì í•˜ëŠ” ì•„ì´í…œì˜ ë¶€ëª¨ì™€ ìì‹ë…¸ë“œ ë¦¬í„´
static Pair SeekItem(const Item* pi, const Tree* ptree)
{
	Pair look;
	look.parent = NULL;
	look.child = ptree->root;

	if (look.child == NULL)
		return look;

	while (look.child != NULL) {
		int comp = compare_func(*pi, look.child->item);

		if (comp < 0) {
			look.parent = look.child;
			look.child = look.child->left;
		}
		else if (comp > 0) {
			look.parent = look.child;
			look.child = look.child->right;
		}
		else if (comp == 0)
			break;
	}

	return look;
}

// ë…¸ë“œ ì‚­ì œ (3ê°€ì§€ ì¼€ì´ìŠ¤)
static void DeleteNode(Node** ptr)
{
	Node* temp;

	if ((*ptr)->left == NULL) { 
		temp = *ptr;
		*ptr = (*ptr)->right;
		free(temp);
	}
	else if ((*ptr)->right == NULL) {
		temp = *ptr;
		*ptr = (*ptr)->left;
		free(temp);
	}
	else {	// ìì‹ì´ ì™¼ìª½ ì˜¤ë¥¸ìª½ ë‘˜ ë‹¤ ìˆëŠ” ë…¸ë“œì˜ ì‚­ì œ
		// find where to reattach right subtree
 		for (temp = (*ptr)->left; temp->right != NULL; temp = temp->right)
			continue;
		temp->right = (*ptr)->right;
		temp = *ptr;
		*ptr = (*ptr)->left;
		free(temp);
	}
}

// root ë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì„œë¸ŒíŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œ ì‚­ì œ
static void DeleteAllNodes(Node* root)
{
	if (root == NULL)
		return;

  // ì¤‘ìœ„ ìˆœíšŒ
	Node* pright = root->right;
	DeleteAllNodes(root->left); // recursion
	free(root);
	DeleteAllNodes(pright); // recursion
}

// root ë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì„œë¸ŒíŠ¸ë¦¬ì—ì„œ key ì•„ì´í…œì„ ê°€ì§„ ë…¸ë“œ ì°¾ê¸° (ì´ì§„ íƒìƒ‰)
static Item* Search(Node* root, const Item key)
{
	if (root == NULL)
		return NULL;

	int comp = compare_func(key, root->item);

	if (comp == 0)
		return &root->item;
	else if (comp < 0)
		return Search(root->left, key);  // recursion
	else if (comp > 0)
		return Search(root->right, key); // recursion
}


/* tree.h í•¨ìˆ˜ë“¤ ì •ì˜ */
// ptree íŠ¸ë¦¬ ì´ˆê¸°í™”
void InitializeTree(Tree* ptree, int(comp_func)(const Item item1, const Item item2))
{
	ptree->root = NULL;
	ptree->size = 0;
	compare_func = comp_func; // íŠ¸ë¦¬ì— ì ìš©í•  ë¹„êµ í•¨ìˆ˜
}
// ptree íŠ¸ë¦¬ê°€ ë¹„ì—ˆëŠ”ì§€
bool TreeIsEmpty(const Tree* ptree)
{
	if (ptree->root == NULL)
		return true;
	else
		return false;
}
// ptree íŠ¸ë¦¬ê°€ ê½‰ ì°¼ëŠ”ì§€
bool TreeIsFull(const Tree* ptree)
{
	if (ptree->size == MAXITEMS)
		return true;
	else
		return false;
}
// ptree íŠ¸ë¦¬ì— ëª‡ ê°œ ë…¸ë“œê°€ ìˆëŠ”ì§€
int TreeItemCount(const Tree* ptree)
{
	return ptree->size;
}
// ptree íŠ¸ë¦¬ì— ì•„ì´í…œ ì¶”ê°€ (ë…¸ë“œ ìƒì„±, ë…¸ë“œ ì¶”ê°€)
bool AddItem(const Item* pi, Tree* ptree)
{
	if (TreeIsFull(ptree)) {
		printf("Cannot add more items.\n");
		return false;
	}

	Node* new_node = MakeNode(pi);

	ptree->size++;

	if (ptree->root == NULL)
		ptree->root = new_node;
	else
		AddNode(new_node, ptree->root);

	return true;
}
// ptree íŠ¸ë¦¬ ì¤‘ìœ„ì— í•´ë‹¹ ì•„ì´í…œì´ ìˆëŠ”ì§€ í™•ì¸
bool InTree(const Item* pi, const Tree* ptree)
{
	return (SeekItem(pi, ptree).child == NULL) ? false : true;
}
// ptree íŠ¸ë¦¬ì˜ í•´ë‹¹ ì•„ì´í…œ ì‚­ì œ (ì°¾ê³  ë…¸ë“œ ì‚­ì œ)
bool DeleteItem(const Item* pi, Tree* ptree)
{
	Pair look;

	look = SeekItem(pi, ptree);
	if (look.child == NULL)
		return false;

	if (look.parent == NULL)
		DeleteNode(&ptree->root);
	else if (look.parent->left == look.child)
		DeleteNode(&look.parent->left);
	else
		DeleteNode(&look.parent->right);
	ptree->size--;

	return true;
}
// ì¤‘ìœ„ ìˆœíšŒí•˜ë©° ë…¸ë“œë§ˆë‹¤ pfun í•¨ìˆ˜ ì ìš©
void Traverse(const Tree* ptree, void (*pfun)(Item item))
{
	if (ptree != NULL)
		InOrder(ptree->root, pfun);
}
// ptree íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œ ì‚­ì œ
void DeleteAll(Tree* ptree)
{
	if (ptree == NULL)
		return;
	DeleteAllNodes(ptree->root);
	ptree->root = NULL;
	ptree->size = 0;
}
// ptree ì—ì„œ key ì•„ì´í…œ ê°€ì§„ ë…¸ë“œ ì°¾ê¸°
Item* TreeSearch(Tree* tree, const Item key)
{
	return Search(tree->root, key);
}

```

<br>



### ğŸ“œ main.c

```cpp
#include <stdio.h>
#include <string.h>
#include "tree.h"

#define SPACING 30

// ë¹„êµ í•¨ìˆ˜
int compare(const Item first, const Item second)
{
	return strcmp(first.character, second.character);
}
// ì•„ì´í…œì˜ ìºë¦­í„° + ì´ë¦„ ì¶œë ¥ (ì–´ë²¤ì €ìŠ¤ ìºë¦­í„°ëª… + ì‹¤ëª…)
void print_item(Item item)
{
	printf("%s (%s)\n", item.character, item.name);
}
// íŠ¸ë¦¬ ëª¨ì–‘ìœ¼ë¡œ ì¶œë ¥ 
void print2DUtil(Node* root, int space)
{
	space += SPACING;

	if (root == NULL) {
		for (int i = SPACING; i < space; ++i)
			printf(" ");
		printf("NULL");
		return;
	}

	print2DUtil(root->right, space); // recursion

	printf("\n");
	for(int i = SPACING; i < space; ++i)
		printf(" ");
	print_item(root->item);

	print2DUtil(root->left, space); // recursion
}
// "ì „ìœ„ ìˆœíšŒ" ë°©ì‹ìœ¼ë¡œ root íŠ¸ë¦¬ì˜ ë…¸ë“œë“¤ ì¶œë ¥
void print_node(Node* root, int level)
{
	if (root == NULL)
		return;

	printf("%s (%s) -> ", root->item.character, root->item.name);

	if (root->left == NULL)
		printf("NULL, ");
	else
		printf("%s (%s), ", root->left->item.character, root->left->item.name);

	if (root->right == NULL)
		printf("NULL, ");
	else
		printf("%s (%s), ", root->right->item.character, root->right->item.name);

	printf("\n");

	print_node(root->left, level + 1); // recursion
	print_node(root->right, level + 1); // recursion
}

void print_tree(Tree* ptree)
{
	printf("\n----------------------\n");
	Traverse(ptree, print_item);
	printf("\n----------------------\n");
	print2DUtil(ptree->root, 0);
	printf("\n----------------------\n");
	print_node(ptree->root, 0);
}

int main()
{
	Item items[] = {
		{"Iron Man", "Tony Stark"},
		{"Thor", "Thor Odinson"},
		{"Ant-Man", "Hank Pym"},
		{"Wasp", "Janet van Dyne"},
		{"Hulk", "Bruce Banner"},
		{"Captain America", "Steve Rogers"},
		{"Scarlet Witch", "Wanda Maximoff"},
		{"Black Widow", "Natacha Romanoff"},
		{"Dr. Strange", "Stephen Strange"},
		{"Daredevil", "Matthew Murdock"},
		{"Punisher", "Frank Castle"},
		{"Batman", "Bruce Wayne"}
	};

	int n = sizeof(items) / sizeof(items[0]);

	Tree tree;
	InitializeTree(&tree, &compare);

	for (int i = 0; i < n; ++i)
		AddItem(&items[i], &tree);

	AddItem(&items[2], &tree);
	print_tree(&tree);

	Item key = { "Punisher", "" };
	Item* result = TreeSearch(&tree, key);
	if (result == NULL)
		printf("\nSearch failed.\n");
	else
		printf("\n%s is the %s\n", result->name, result->character);

	/* Deleting tests */
	{
		Item key = { "Iron Man", "" };
		DeleteItem(&key, &tree);
		print_tree(&tree);
	}
}
```
```
ğŸ’ì¶œë ¥ğŸ’

Cannot add a duplicated item.

----------------------
Ant-Man (Hank Pym)
Batman (Bruce Wayne)
Black Widow (Natacha Romanoff)
Captain America (Steve Rogers)
Daredevil (Matthew Murdock)
Dr. Strange (Stephen Strange)
Hulk (Bruce Banner)
Iron Man (Tony Stark)
Punisher (Frank Castle)
Scarlet Witch (Wanda Maximoff)
Thor (Thor Odinson)
Wasp (Janet van Dyne)

----------------------
                                                                                          NULL
                                                            Wasp (Janet van Dyne)
                                                                                          NULL
                              Thor (Thor Odinson)
                                                                                          NULL
                                                            Scarlet Witch (Wanda Maximoff)
                                                                                                                        NULL
                                                                                          Punisher (Frank Castle)
                                                                                                                        NULL
Iron Man (Tony Stark)
                                                                                          NULL
                                                            Hulk (Bruce Banner)
                                                                                                                                                      NULL
                                                                                                                        Dr. Strange (Stephen Strange)
                                                                                                                                                                                    NULL
                                                                                                                                                      Daredevil (Matthew Murdock)
                                                                                                                                                                                    NULL
                                                                                          Captain America (Steve Rogers)
                                                                                                                                                      NULL
                                                                                                                        Black Widow (Natacha Romanoff)
                                                                                                                                                                                    NULL
                                                                                                                                                      Batman (Bruce Wayne)
                                                                                                                                                                                    NULL
                              Ant-Man (Hank Pym)
                                                            NULL
----------------------
Iron Man (Tony Stark) -> Ant-Man (Hank Pym), Thor (Thor Odinson),
Ant-Man (Hank Pym) -> NULL, Hulk (Bruce Banner),
Hulk (Bruce Banner) -> Captain America (Steve Rogers), NULL,
Captain America (Steve Rogers) -> Black Widow (Natacha Romanoff), Dr. Strange (Stephen Strange),
Black Widow (Natacha Romanoff) -> Batman (Bruce Wayne), NULL,
Batman (Bruce Wayne) -> NULL, NULL,
Dr. Strange (Stephen Strange) -> Daredevil (Matthew Murdock), NULL,
Daredevil (Matthew Murdock) -> NULL, NULL,
Thor (Thor Odinson) -> Scarlet Witch (Wanda Maximoff), Wasp (Janet van Dyne),
Scarlet Witch (Wanda Maximoff) -> Punisher (Frank Castle), NULL,
Punisher (Frank Castle) -> NULL, NULL,
Wasp (Janet van Dyne) -> NULL, NULL,

Frank Castle is the Punisher

----------------------
Ant-Man (Hank Pym)
Batman (Bruce Wayne)
Black Widow (Natacha Romanoff)
Captain America (Steve Rogers)
Daredevil (Matthew Murdock)
Dr. Strange (Stephen Strange)
Hulk (Bruce Banner)
Punisher (Frank Castle)
Scarlet Witch (Wanda Maximoff)
Thor (Thor Odinson)
Wasp (Janet van Dyne)

----------------------
                                                                                                                        NULL
                                                                                          Wasp (Janet van Dyne)
                                                                                                                        NULL
                                                            Thor (Thor Odinson)
                                                                                                                        NULL
                                                                                          Scarlet Witch (Wanda Maximoff)
                                                                                                                                                      NULL
                                                                                                                        Punisher (Frank Castle)
                                                                                                                                                      NULL
                              Hulk (Bruce Banner)
                                                                                                                        NULL
                                                                                          Dr. Strange (Stephen Strange)
                                                                                                                                                      NULL
                                                                                                                        Daredevil (Matthew Murdock)
                                                                                                                                                      NULL
                                                            Captain America (Steve Rogers)
                                                                                                                        NULL
                                                                                          Black Widow (Natacha Romanoff)
                                                                                                                                                      NULL
                                                                                                                        Batman (Bruce Wayne)
                                                                                                                                                      NULL
Ant-Man (Hank Pym)
                              NULL
----------------------
Ant-Man (Hank Pym) -> NULL, Hulk (Bruce Banner),
Hulk (Bruce Banner) -> Captain America (Steve Rogers), Thor (Thor Odinson),
Captain America (Steve Rogers) -> Black Widow (Natacha Romanoff), Dr. Strange (Stephen Strange),
Black Widow (Natacha Romanoff) -> Batman (Bruce Wayne), NULL,
Batman (Bruce Wayne) -> NULL, NULL,
Dr. Strange (Stephen Strange) -> Daredevil (Matthew Murdock), NULL,
Daredevil (Matthew Murdock) -> NULL, NULL,
Thor (Thor Odinson) -> Scarlet Witch (Wanda Maximoff), Wasp (Janet van Dyne),
Scarlet Witch (Wanda Maximoff) -> Punisher (Frank Castle), NULL,
Punisher (Frank Castle) -> NULL, NULL,
Wasp (Janet van Dyne) -> NULL, NULL,

D:\aaaaastudy\CStudy\Debug\onlyc.exe(í”„ë¡œì„¸ìŠ¤ 10764ê°œ)ì´(ê°€) ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤(ì½”ë“œ: 0ê°œ).
ì´ ì°½ì„ ë‹«ìœ¼ë ¤ë©´ ì•„ë¬´ í‚¤ë‚˜ ëˆ„ë¥´ì„¸ìš”...

```

<br>

![image](https://user-images.githubusercontent.com/42318591/109929404-bfbdd980-7d09-11eb-9729-35961c5bb2dd.png)

![image](https://user-images.githubusercontent.com/42318591/109929506-e11ec580-7d09-11eb-8cb7-2f88d2767c9d.png)


***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}