---
title:  "Chapter 4-3. κ·Έλν”„ μν λ°©λ²• 1οΈβƒ£ - DFS(κΉμ΄ μ°μ„  νƒμƒ‰)" 

categories:
  -  Algorithm Lesson 2
tags:
  - [Algorithm, Data Structure, C Sharp, DFS]

toc: true
toc_sticky: true

date: 2020-10-06
last_modified_at: 2020-10-06
---

μΈν”„λ°μ— μλ” Rookissλ‹μ **[C#κ³Ό μ λ‹ν‹°λ΅ λ§λ“λ” MMORPG κ²μ„ κ°λ° μ‹λ¦¬μ¦] Part2: μλ£κµ¬μ΅°μ™€ μ•κ³ λ¦¬μ¦** κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• ν•„κΈ°μ…λ‹λ‹¤. π€  
[π κ°•μ λ“¤μΌλ¬ κ°€κΈ° Click]((https://www.inflearn.com/course/μ λ‹ν‹°-MMORPG-μ λ‹ν‹°-κ°λ°-part2#))
{: .notice--warning}

# Chapter 4. κ·Έλν”„

## π– κ·Έλν”„ μν λ°©λ²•

λ°°μ—΄μ΄λ‚ λ¦¬μ¤νΈλ” μ„ ν• μλ£ κµ¬μ΅°μ΄λ―€λ΅ μ›μ†λ“¤μ„ μ°¨λ΅€λ€λ΅ μνν•λ©΄ λμ§€λ§ κ·Έλν”„λ” μ„ ν• μλ£ κµ¬μ΅°κ°€ μ•„λ‹, ν• μ •μ μ— μ—°κ²°λ μ •μ λ“¤μ΄ μ—¬λ¬κ°μΌ μ μμΌλ―€λ΅ μ—°κ²°λ μ •μ λ“¤ μ¤‘ λ‹¤μμ—” μ–΄λ–¤ μ •μ μ„ νƒμƒ‰ν• μ§€ λ‹¤λ¥΄λ―€λ΅ μν λ°©λ²•μ΄ λ‹¤μ–‘ν•λ‹¤. λ€ν‘μ μΌλ΅ λ‘ κ°€μ§€κ°€ μλ‹¤.

- κ·Έλν”„ μν λ°©λ²•
  1. **DFS** (Depth First Search κΉμ΄ μ°μ„  νƒμƒ‰)
    - λ“¤μ–΄κ° μ μλ‹¤λ©΄ λ¬΄μ΅°κ±΄ λ“¤μ–΄κ°€λ©° κΉμ΄ λ“¤μ–΄κ°
    - λκΉμ§€ λ“¤μ–΄κ°€μ•Ό λ‹¤μ‹ λμ•„ μ΄
  2. **BFS** (Breadth First Search λ„λΉ„ μ°μ„  νƒμƒ‰) 

<br>

## π– DFS

![image](https://user-images.githubusercontent.com/42318591/95181033-b46b8e00-07fd-11eb-86bd-f4b5c827d8b2.png)


### 1οΈβƒ£ λ°°μ—΄λ΅ κµ¬ν„λ κ·Έλν”„ DFS μν

```c#
    class Graph
    {
        int[,] adj = new int[6, 6]
        {
            { 0, 1, 0, 1, 0, 0 },
            { 1, 0, 1, 1, 0, 0 },
            { 0, 1, 0, 0, 0, 0 },
            { 1, 1, 0, 0, 1, 0 },
            { 0, 0, 0, 1, 0, 1 },
            { 0, 0, 0, 0, 1, 0 },
        };

        bool[] visited = new bool[6]; // λ°©λ¬Έ μ²΄ν¬λ¥Ό μ„ν•΄

        public void DFS(int now)  // μν μ‹μ‘ μ„μΉκ°€ μΈμλ΅ λ“¤μ–΄ μ΄
        {
            // 1) now λ¶€ν„° λ°©λ¬Έ ν•κ³ 
            Console.WriteLine(now);
            visited[now] = true;

            // 2) now μ™€ μ—°κ²°λ μ •μ λ“¤μ„ ν•λ‚μ”© ν™•μΈν•΄μ„, [ μ•„μ§ λ―Έ λ°©λ¬Έ μƒνƒλΌλ©΄ ] λ°©λ¬Έν•λ‹¤.
            for (int next = 0; next < 6; next++)
            {
                if (adj[now, next] == 0)  // μ—°κ²° λμ–΄ μμ§€ μ•μΌλ©΄ μ¤ν‚µ
                    continue;
                if (visited[next])      // μ΄λ―Έ λ°©λ¬Έ ν–μΌλ©΄ μ¤ν‚µ
                    continue;
                DFS(next);   // μ¬κ·€ (κΉμ΄ λ“¤μ–΄ κ°)
            }
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            Graph graph = new Graph();
            graph.DFS(3);  // 3 0 1 2 4 5
        }
    }
```

1. μΌλ‹¨ λ°©λ¬Έ μ²΄ν¬λ¥Ό ν•λ‹¤.
2. μ—°κ²°μ΄ λμ–΄ μμΌλ©°, <u>μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ κ³³</u>μ΄λΌλ©΄ κΉμ΄ λ“¤μ–΄κ°€ λ°©λ¬Έν•λ‹¤.
  - λ°°μ—΄μ€ μ—°κ²° λμ–΄ μμ§€ μ•μ€ μ •λ³΄λ„ ν¬ν•¨λμ–΄ μκΈ° λ•λ¬Έμ— (`0`) μ—°κ²° λμ–΄ μλ”μ§€ μ¦‰ κ° μ μλ”μ§€λ¥Ό μ²΄ν¬ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
  - κ° μ μλ” κ³³μ΄λΌλ©΄ κΉμ΄ λ“¤μ–΄κ°„λ‹¤. π‘‰ μ¬κ·€ ν•¨μ νΈμ¶

`DFS(3)` 3 μ—μ„ DFS μνλ¥Ό μ‹μ‘ν–λ‹¤λ©΄ 3 0 1 2 4 5 μμΌλ΅ λ°©λ¬Έν•κ² λ  κ²ƒμ΄λ‹¤.

<br>

### 2οΈβƒ£ λ¦¬μ¤νΈλ΅ κµ¬ν„λ κ·Έλν”„ DFS μν

```c#
    class Graph
    {
        List<int>[] adj2 = new List<int>[]
        {
            new List<int>() { 1, 3 },
            new List<int>() { 0, 2, 3 },
            new List<int>() { 1 },
            new List<int>() { 0, 1, 4 },
            new List<int>() { 3, 5 },
            new List<int>() { 4 },
        };

        bool[] visited = new bool[6];
        
        public void DFS2(int now)
        {
            // 1) now λ¶€ν„° λ°©λ¬Έ ν•κ³ 
            Console.WriteLine(now);
            visited[now] = true;

            // 2) now μ™€ μ—°κ²°λ μ •μ λ“¤μ„ ν•λ‚μ”© ν™•μΈν•΄μ„, [ μ•„μ§ λ―Έ λ°©λ¬Έ μƒνƒλΌλ©΄ ] λ°©λ¬Έν•λ‹¤.
            foreach (int next in adj2[now])
            {
                if (visited[next])      // μ΄λ―Έ λ°©λ¬Έ ν–μΌλ©΄ μ¤ν‚µ
                    continue;
                DFS2(next);
            }
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            Graph graph = new Graph();
            graph.DFS2(0);  // 0 1 2 3 4 5
        }
    }
```

1. μΌλ‹¨ λ°©λ¬Έ μ²΄ν¬λ¥Ό ν•λ‹¤.
2. <u>μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ κ³³</u>μ΄λΌλ©΄ κΉμ΄ λ“¤μ–΄κ°€ λ°©λ¬Έν•λ‹¤.
  - λ¦¬μ¤νΈλ” λ‚μ™€ μ—°κ²° λμ–΄ μλ” μ •λ³΄λ§ κ°–κ³  μκΈ° λ•λ¬Έμ— μ—°κ²° λμ–΄ μλ”μ§€λ¥Ό μ²΄ν¬ν•  ν•„μ”λ” μ—†λ‹¤. 
  - κ° μ μλ” κ³³μ΄λΌλ©΄ κΉμ΄ λ“¤μ–΄κ°„λ‹¤. π‘‰ μ¬κ·€ ν•¨μ νΈμ¶

`DFS2(0)` 3 μ—μ„ DFS μνλ¥Ό μ‹μ‘ν–λ‹¤λ©΄ 0 1 2 3 4 5 μμΌλ΅ λ°©λ¬Έν•κ² λ  κ²ƒμ΄λ‹¤.

<br>

### 3οΈβƒ£ μ—°κ²°μ΄ λκ²¨ μλ” λ¶€λ¶„μ΄ μλ” κ·Έλν”„ DFS μν

![image](https://user-images.githubusercontent.com/42318591/95186420-efbd8b00-0804-11eb-99b4-818f57c3590f.png)

```c#
        int[,] adj = new int[6, 6]
        {
            { 0, 1, 0, 1, 0, 0 },
            { 1, 0, 1, 1, 0, 0 },
            { 0, 1, 0, 0, 0, 0 },
            { 1, 1, 0, 0, 0, 0 },
            { 0, 0, 0, 0, 0, 1 },
            { 0, 0, 0, 0, 1, 0 },
        };
```

`adj[3][4]`, `adj[4][3]` κ°’μ„ 0 μΌλ΅ λ°”κΎΈμ–΄ 3, 4 μ •μ κ°„μ μ—°κ²°μ„ λμ–΄ μ¤€λ‹¤. 

```c#
    class Graph
    {
        int[,] adj = new int[6, 6]
        {
            { 0, 1, 0, 1, 0, 0 },
            { 1, 0, 1, 1, 0, 0 },
            { 0, 1, 0, 0, 0, 0 },
            { 1, 1, 0, 0, 0, 0 },
            { 0, 0, 0, 0, 0, 1 },
            { 0, 0, 0, 0, 1, 0 },
        };

        bool[] visited = new bool[6];

        public void DFS(int now) 
        {
            // ...
        }

        public void SearchAll()
        {
            visited = new bool[6];  // μ „λ¶€ falseλ΅ μ΄κΈ°ν™”

            for (int now = 0; now < 6; now++)
            {
                if (visited[now] == false)
                    DFS(now);
            }
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            Graph graph = new Graph();

            graph.SearchAll();  // 0 1 2 3 4 5
        }
    }
```

- `now = 0` π‘‰ DFS(0)
  - μ΄ νΈμ¶ ν•λ‚κ°€ λλ‚¬μ„ λ•, visited[0], visited[1], visited[2], visited[3] μ κ°’μ€ `true`λ΅ λ°”λ€μ–΄ μλ‹¤.
    - 0 μ„ μ‹μ‘μΌλ΅ κΉμ΄ λ“¤μ–΄κ°€ 0, 1, 2, 3 μ •μ μ„ λ¨λ‘ λ°©λ¬Έν–κΈ° λ•λ¬Έ.
      - `now` κ°’μ΄ 1, 2, 3 μΌλ• *if (visited[now] == false)* κ±Έλ¦¬μ§€ μ•λ”λ‹¤. (μƒκ°λ³΄λ‹¤ ifλ¬Έμ΄ μμ£Ό νΈμ¶λμ§„ μ•μ. DFS(0) νΈμ¶ ν•λ²μΌλ΅ 0, 1, 2, 3 μ„ λ¨λ‘ λ°©λ¬Έν•κ² λκΈ° λ•λ¬Έ)
    - μ΄μ²λΌ μ—°κ²°λ§ λμ–΄ μλ‹¤λ©΄ μ •μ  ν•λ‚λ΅ μ—°κ²°λ λ¨λ“  μ •μ λ“¤μ„ DFS μνλ²•μΌλ΅ μ „λ¶€ λ°©λ¬Έν•  μ μλ‹¤.
- `now = 4` π‘‰ DFS(4)
  - μ΄ νΈμ¶ ν•λ‚λ΅ visited[4], visited[5] λ°©λ¬Έ
-  μ΄μ²λΌ μ—°κ²°μ΄ λκ²¨ μλ” κ·Έλν”„λ¥Ό μ „λ¶€ λ°©λ¬Έν•κΈ° μ„ν•΄ μ΄μ™€ κ°™μ€ λ°©λ²•μ„ μ‚¬μ©ν•  μ μλ‹¤.
  - ν•λ²μ DFS μνλ΅ μ—°κ²° λμ–΄ μλ” λ…Έλ“λ” λ‹¤ λ°©λ¬Έν•  μ μκΈ° λ•λ¬Έμ— *if (visited[now] == false)* λ°©λ¬Έ λμ§€ μ•μ€ μ •μ μ„ κ²€μ‚¬ν•λ‹¤λ” μλ―Έλ”, μ—°κ²°μ΄ λκ²¨ μλ” κ³³μ΄ μμ„ κ²ƒμ„ λ€λΉ„ν•΄μ„λ‹¤. 


***
<br>

    π κ°μΈ κ³µλ¶€ κΈ°λ΅μ© λΈ”λ΅κ·Έμ…λ‹λ‹¤. μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
    μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! π„

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}