---
layout: single
title:  "YOLO V5 êµ¬í˜„"
categories : yolo
tag : [ultratics, object-detection, Yolo, ë”¥ëŸ¬ë‹]
toc: true
toc_sticky: true

---

![header](https://capsule-render.vercel.app/api?type=waving&color=a2dcec&height=300&section=header&text=YOLO V5 êµ¬í˜„&fontSize=40&animation=fadeIn&fontAlignY=38&fontColor=FFFFFF)



- ë°ì´í„°ëŠ” roboflow ì‚¬ìš©
- ìµœì¢…ê²°ê³¼ í™•ì¸ ë° ì •ë¦¬


- ì‚¬ìš©í•  ë°ì´í„°ì…‹ [ì„¸í¬ ë°ì´í„° ì…‹](https://public.roboflow.com/object-detection/bccd)

&nbsp;

## Yolo v5 ê°€ì ¸ì˜¤ê¸°


```python
!git clone https://github.com/ultralytics/yolov5  # clone
%cd yolov5
%pip install -qr requirements.txt  # install

import torch
import utils
display = utils.notebook_init()  # checks


>> YOLOv5 ğŸš€ v6.1-295-gf8722b4 Python-3.7.13 torch-1.11.0+cu102 CUDA:0 (Tesla P100-PCIE-16GB, 16281MiB) Setup complete âœ… (4 CPUs, 25.5 GB RAM, 41.3/166.8 GB disk)
   
```


- Yolo v5 ì¢…ì†ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ 


```python
%pip install -qr requirements.txt  
```

&nbsp;

## ë°ì´í„°ì…‹ ë‹¤ìš´

- roboflow ë°ì´í„°ì…‹ ì—ì„œ formatì„ yolov5ë¡œ ì„¤ì •





```python
import os
os.mkdir('new_data')
os.chdir('new_data')

!curl -L "https://public.roboflow.com/ds/LiqNCw2nxu?key=JGcsrO8gpA" > roboflow.zip; unzip roboflow.zip; rm roboflow.zip
```


&nbsp;

## yaml íŒŒì¼ í™•ì¸


```python
os.getcwd()

>> '/content/yolov5/new_data'
```

&nbsp;


```python
import yaml

with open('data.yaml') as f:
  yaml_data = yaml.load(f, Loader=yaml.FullLoader)
```

- yolov5 í´ë”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²½ë¡œ ì„¤ì •


```python
yaml_data['train'] = './new_data/train/images'
yaml_data['val'] = './new_data/valid/images'
```


```python
with open('data.yaml', 'w') as f:
  yaml.dump(yaml_data, f)

os.chdir('..')
```

&nbsp;

## ëª¨ë¸ í›ˆë ¨


```python
!python ./train.py --img 640 --batch 16 --epochs 30 --data ./new_data/data.yaml --weights yolov5s.pt --cache
```


&nbsp;

##  TEST ìˆ˜í–‰ 

- ì €ì¥ëœ ê°€ì¤‘ì¹˜ ê²½ë¡œ, test ì´ë¯¸ì§€ì…‹ ê²½ë¡œ



```python
os.getcwd()
>> '/content/yolov5'
```




```python
!python ./detect.py --weights ./runs/train/exp/weights/best.pt --img 640 --conf 0.25 --line-thickness 1 --source ./new_data/test/images 
```


&nbsp;

## Yolo v5 ëª¨ë¸ ê²°ê³¼ í™•ì¸


```python
from glob import glob 
import cv2
from google.colab.patches import cv2_imshow

data_list = glob('./runs/detect/exp/*.jpg')
for i in data_list[:10]:
  src = cv2.imread(i)

  cv2_imshow(src)
```

![image-20220715101117628](/images/2022-07-15-Yolov5/image-20220715101117628.png)

