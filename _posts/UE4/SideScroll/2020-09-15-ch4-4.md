---
title:  "UE4 Chapter 4-4. ëª¬ìŠ¤í„° AI : ì‚¬ë§ ì²˜ë¦¬" 

categories:
  -  UE4 Lesson 1 
tags:
  - [Game Engine, UE4]

toc: true
toc_sticky: true

date: 2020-09-15
last_modified_at: 2020-09-15
---

ì¸í”„ëŸ°ì— ìˆëŠ” í™©ëŒ€í¬ë‹˜ì˜ **ì–¸ë¦¬ì–¼ ì—”ì§„4 3D íš¡ìŠ¤í¬ë¡¤ ê²Œì„ ë§Œë“¤ê¸°** ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
**ì–¸ë¦¬ì–¼ ì—”ì§„ ê³µì‹ ë¬¸ì„œ** <https://docs.unrealengine.com/ko/index.html>
{: .notice--warning}

# ì‚¬ë§ ì²˜ë¦¬

## ğŸ”” í”Œë ˆì´ì–´ì˜ ì‚¬ë§ ì²˜ë¦¬

### ì£½ëŠ” ì• ë‹ˆë©”ì´ì…˜

> ğŸš© "sword_and_shield_death_Monatage" ì• ë‹˜ ëª½íƒ€ì£¼

í”Œë ˆì´ì–´ê°€ ì£½ëŠ” ì• ë‹ˆë©”ì´ì…˜ì¸ "sword_and_shield_death" ì—ì…‹ì„ ëŒ€ìƒìœ¼ë¡œ ëª½íƒ€ì£¼ë¥¼ ìƒì„±í•´ì£¼ì.

<br>

> ğŸš© "MoveCharBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

![image](https://user-images.githubusercontent.com/42318591/93170664-9660bf80-f762-11ea-9d24-e9aab7d302e1.png)

í”Œë ˆì´ì–´ê°€ *HP < 0* ì´ ë˜ì–´ ì£½ìœ¼ë©´ "sword_and_shield_death_Monatage" ì• ë‹˜ ëª½íƒ€ì£¼ë¥¼ ì¬ìƒí•˜ê²Œ í•˜ì.

<br>

### í”Œë ˆì´ì–´ê°€ ì£½ìœ¼ë©´ ëª¬ìŠ¤í„°ê°€ ë” ì´ìƒ ê³µê²©í•˜ì§€ ì•Šê²Œ í•˜ê¸°

- í”Œë ˆì´ì–´ê°€ ì£½ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì²´í¬í•´ì£¼ì–´ì•¼ í•œë‹¤.
  - `IsDeath` 
    - ğŸ‘‰ "MoveCharBP"ì˜ boolean ë³€ìˆ˜ë¡œ, í”Œë ˆì´ì–´ê°€ ì£½ì—ˆë‹¤ë©´ True
  - `IsDeathPlayerCharacter` 
    - ğŸ‘‰ "DefaultMonsterBP"ì˜ boolean ë³€ìˆ˜ë¡œ, "MoveCharBP"ì˜ `IsDeath`ê°’ì„ ë°›ì•„ì™€ ì €ì¥. í”Œë ˆì´ì–´ê°€ ì£½ì—ˆë‹¤ë©´ True
    - ëª¬ìŠ¤í„°ê°€ ì£½ì—ˆëŠ”ì§€ ì²´í¬í•  ë³€ìˆ˜ë„ ë§Œë“¤ê±°ë¼ì„œ ì´ë¦„ì„ ë‹¤ë¥´ê²Œ í•´ì„œ êµ¬ë¶„í•´ì¤Œ. 

> ğŸš© "MoveCharBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

![image](https://user-images.githubusercontent.com/42318591/93171717-92ce3800-f764-11ea-99c5-f54ff2c69924.png)

í”Œë ˆì´ì–´ê°€ ì£½ì—ˆë‹¤ë©´ ì£½ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒí•œ í›„ `IsDeath` ê°’ì„ Trueë¡œ ì„¤ì •.

<br>

> ğŸš© "DefaultMonsterBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

Tick ì´ë²¤íŠ¸ì™€ ì—°ê²°ë˜ì–´ ë§¤ í”„ë ˆì„ë§ˆë‹¤ í”Œë ˆì´ì–´ì™€ì˜ ê±°ë¦¬ì™€ ë°©í–¥ì„ ì¬ëŠ” ê³¼ì •ì„ ì‹¤í–‰ì‹œì¼°ë˜ ì´ë²¤íŠ¸ì¸ *SaceDistAndDir* ì„ í†µí•˜ì—¬, ì´ì œ ê±°ë¦¬ì™€ ë°©í–¥ ì¬ëŠ” ê²ƒê³¼ ë”ë¶ˆì–´ <u>ë§¤ í”„ë ˆì„ë§ˆë‹¤ í”Œë ˆì´ì–´ê°€ ì£½ì—ˆëŠ”ì§€ë¥¼ ì²´í¬í•˜ëŠ” ê³¼ì •ì„ ì¶”ê°€í•´ì¤€ë‹¤.</u> 

![image](https://user-images.githubusercontent.com/42318591/93171992-03755480-f765-11ea-9ca1-d2c7e7bdc33d.png)

- "MoveCharBP"ì˜ `IsDeath` ê°’ì„ ê°€ì ¸ì™€ ë³¸ì¸ì˜ ë³€ìˆ˜ì¸ `IsDeathPlayerCharacter`ì— ì´ ê°’ì„ í• ë‹¹.
- SaveDistAndDir ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´
  - 1ï¸âƒ£ í”Œë ˆì´ì–´ê°€ ì£½ì—ˆëŠ”ì§€ ì²´í¬. `IsDeathPlayerCharacter` ì—…ëƒ.
  - 2ï¸âƒ£ í”Œë ˆì´ì–´ì™€ì˜ ê±°ë¦¬ ì²´í¬. `DistancePlayerCharacter` ì—…ëƒ.
  - 3ï¸âƒ£ í”Œë ˆì´ì–´ë¡œ í–¥í•˜ëŠ” ë°©í–¥ ì²´í¬. `DirToPlayerCharacter` ì—…ëƒ.

<br>

> ğŸš© "MonsterState" Enumeration

![image](https://user-images.githubusercontent.com/42318591/93172355-aaf28700-f765-11ea-9655-42bc5b791c28.png)

ëª¬ìŠ¤í„°ì˜ ìƒíƒœë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•´ì£¼ì—ˆë‹¤. 

- `Idle_Ready` 
  - ìƒˆë¡­ê²Œ ì¶”ê°€í•œ ìƒíƒœë¡œ, **í”Œë ˆì´ì–´ê°€ ì£½ì–´ì„œ** ì •ë§ ëª¬ìŠ¤í„°ê°€ ì´ì œ ì•„ë¬´ê²ƒë„ ì•ˆí•˜ëŠ” Idle ìƒíƒœì´ë‹¤.
- `Idle_Combat`
  - ê¸°ì¡´ì˜ Idle ìƒíƒœë¥¼ ì´ë¦„ë§Œ ë°”ê¿”ì¤€ ê²ƒ. í”Œë ˆì´ì–´ì™€ì˜ ê±°ë¦¬ë¥¼ í•­ìƒ ê³„ì‚°í•˜ê³  í”Œë ˆì´ì–´ë¥¼ ì«“ì•„ê°ˆ ì¤€ë¹„ë¥¼ í•˜ê³  ìˆëŠ” Idle ìƒíƒœ.

<br>

> ğŸš© "DefaultMonsterBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

í”Œë ˆì´ì–´ê°€ ì£½ìœ¼ë©´ `Idle_Ready` ìƒíƒœê°€ ë  ìˆ˜ ìˆë„ë¡ í•  ê²ƒì´ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/93173227-29035d80-f767-11ea-85b9-ce59c60760eb.png)

1ï¸âƒ£ ê°ê°ì˜ ìƒíƒœì— ë”°ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ê¸° ì „ì—, <u>SaveDistAndDir ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê³  ë‚˜ë©´</u> ì—…ë°ì´íŠ¸ ë  `IsDeathPlayerCharacter` ê°’ì´ Trueë¼ë©´ `Idle_Ready` ìƒíƒœë¡œ ë³€ê²½ í›„ ë” ì´ìƒ ì•„ë¬´ ê²ƒë„ í•˜ì§€ ì•Šê¸°. Falseë¼ë©´ í”Œë ˆì´ì–´ê°€ ì£½ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê±°ë¦¬ë¥¼ ê³„ì‚°í•´ ì«“ì•„ê°ˆ ì¤€ë¹„ë¥¼ í•˜ë“ (Idle_Combat), ì«“ì•„ê°€ë“ (FollowChar), ê³µê²©í•˜ë“ (AttackChar) í•´ì•¼ í•œë‹¤.


![image](https://user-images.githubusercontent.com/42318591/93173149-0e30e900-f767-11ea-87e8-952138f0fd47.png)

2ï¸âƒ£ <u>ê³µê²© ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ê°ˆ ë•Œ</u> ì• ë‹ˆë©”ì´ì…˜ì„ ë°˜ë³µ í• ì§€, í”Œë ˆì´ì–´ë¥¼ ì«“ì•„ê°ˆì§€ ê²°ì •ì„ í•˜ê¸° ì „ì—, `IsDeathPlayerCharacter` ê°’ì´ Trueë¼ë©´ `Idle_Ready` ìƒíƒœë¡œ ë³€ê²½

<br>

### í”Œë ˆì´ì–´ê°€ ì£½ìœ¼ë©´ ì“°ëŸ¬ì ¸ ìˆëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¥ë©´ë§Œ ë°˜ë³µ ì¬ìƒ

í”Œë ˆì´ì–´ê°€ ì£½ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒì´ ëë‚˜ë©´ ìƒíƒœ ë¨¸ì‹ ì— ì˜í•´ì„œ ì¬ìƒë˜ëŠ” Idle ì• ë‹ˆë©”ì´ì…˜ì´ ì¬ìƒë˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ê³„ì† ì“°ëŸ¬ì ¸ ìˆëŠ” ì¥ë©´ë§Œ ë°˜ë³µí•´ì„œ ì¬ìƒí•˜ë„ë¡ í•˜ì. í”Œë ˆì´ì–´ê°€ ê³„ì† ì“°ëŸ¬ì ¸ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œ! ëª¬ìŠ¤í„°ë„ ì´ ë°©ì‹ì„ ê±°ì³¤ì—ˆë‹¤. ì“°ëŸ¬ì ¸ ìˆëŠ” ì¥ë©´ì„ ì„¹ì…˜ìœ¼ë¡œ ë”°ì„œ ì´ ì„¹ì…˜ì„ ëì— ë£¨í”„ ì¬ìƒ ì‹œí‚¤ê¸°. [ë§í¬ ì°¸ê³ ](https://ansohxxn.github.io/ue4%20lesson%201/ch4-1/#%EC%95%A0%EB%8B%98-%EB%AA%BD%ED%83%80%EC%A3%BC-%EC%84%B9%EC%85%98%EC%9C%BC%EB%A1%9C-%EB%A3%A8%ED%94%84-%EC%9E%AC%EC%83%9D)

> ğŸš© "sword_and_shield_death_Monatage" ì• ë‹˜ ëª½íƒ€ì£¼

![image](https://user-images.githubusercontent.com/42318591/93174419-e6428500-f768-11ea-9a6f-916e9c0f2904.png)

ì• ë‹ˆë©”ì´ì…˜ ì™„ì „ ëì— Loop ì„¹ì…˜ì„ ì¶”ê°€í•˜ê³  Default ì„¹ì…˜ ë‹¤ìŒì— Loop ì„¹ì…˜ì´ ë°˜ë³µ ì¬ìƒ ë˜ë„ë¡ í•˜ì˜€ë‹¤.

<br>

### í”Œë ˆì´ì–´ê°€ ì£½ìœ¼ë©´ í”Œë ˆì´ì–´ ì¡°ì‘ ë¶ˆê°€ëŠ¥í•˜ê²Œ í•˜ê¸°

> ğŸš© "MoveCharBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

![image](https://user-images.githubusercontent.com/42318591/93174703-62d56380-f769-11ea-8a47-30d8609c5147.png)


í”Œë ˆì´ì–´("MoveCharBP")ê°€ ì£½ìœ¼ë©´ í”Œë ˆì´ì–´ì— ëŒ€í•œ Inputì„ ë¹„í™œì„±í™” í•œë‹¤. ë ë¼ì„œ í”Œë ˆì´ì–´ê°€ ì£½ìœ¼ë©´ í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ì§€ ëª»í•˜ëŠ” ìƒíƒœê°€ ëœë‹¤. **Disable Input** ë…¸ë“œ ì¶”ê°€.

<br>

## ğŸ”” ëª¬ìŠ¤í„°ì˜ ì‚¬ë§ ì²˜ë¦¬

### ì£½ìœ¼ë©´ ì£½ëŠ” ìƒíƒœë¡œ ì„¤ì •

> ğŸš© "MonsterState" Enumeration

![image](https://user-images.githubusercontent.com/42318591/93175292-5ac9f380-f76a-11ea-83b7-50ed77fc83eb.png)

ëª¬ìŠ¤í„°ì˜ ì£½ì€ ìƒíƒœë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•´ì£¼ì—ˆë‹¤. `Death` ì£½ì€ ìƒíƒœ!

<br>

> ğŸš© "DefaultMonsterBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

![image](https://user-images.githubusercontent.com/42318591/93175469-a2e91600-f76a-11ea-9f5a-f4c8e0671e4e.png)

Any Damage ì´ë²¤íŠ¸ë¥¼ í†µí•´ ë°ë¯¸ì§€ë¥¼ ë°›ê²Œ ë˜ë©´ì„œ ëª¬ìŠ¤í„°ì˜ HP ê°€ 0 ì•„ë˜ë¡œ ë–¨ì–´ì ¸ ì£½ìœ¼ë©´, ëª¬ìŠ¤í„°ì˜ ìƒíƒœ(`CurState`)ë¥¼ `Death`ë¡œ ì„¤ì •í•œë‹¤.

![image](https://user-images.githubusercontent.com/42318591/93176055-a4670e00-f76b-11ea-9266-8aee4f04b77a.png)

`Death`ìƒíƒœê°€ ë˜ë©´ ìœ„ì™€ ê°™ì´ ì•„ë¬´ê²ƒë„ ì•ˆí•œë‹¤. ìŠ¤ìœ„ì¹˜ì—ì„œ `Idle_Ready`, `Death` ìƒíƒœëŠ” ì•„ë¬´ëŸ° í•€ê³¼ ì—°ê²°ëœê²Œ ì—†ê¸° ë•Œë¬¸ì— ì•„ë¬´ê²ƒë„ ì•ˆí•˜ê²Œ ëœë‹¤.

<br>

### ì£½ìœ¼ë©´ ëª¬ìŠ¤í„° Collsion ì¶©ëŒì²´ ë¹„í™œì„±í™”

> ğŸš© "DefaultMonsterBP" ë¸”ë£¨í”„ë¦°íŠ¸ ì´ë²¤íŠ¸ ê·¸ë˜í”„

![image](https://user-images.githubusercontent.com/42318591/93175946-74b80600-f76b-11ea-855a-ef1f6741e83f.png)

Any Damage ì´ë²¤íŠ¸ë¥¼ í†µí•´ ë°ë¯¸ì§€ë¥¼ ë°›ê²Œ ë˜ë©´ì„œ ëª¬ìŠ¤í„°ì˜ HP ê°€ 0 ì•„ë˜ë¡œ ë–¨ì–´ì ¸ ì£½ìœ¼ë©´, ëª¬ìŠ¤í„°ì˜ ìƒíƒœ(`CurState`)ë¥¼ `Death`ë¡œ ì„¤ì •í•œ í›„ <u>ì¹¼ì˜ Collision, ëª¬ìŠ¤í„° ë©”ì‹œ ì „ì²´ì˜ Collisionì„ ë¹„í™œì„±í™” í•´ì£¼ì–´ì•¼ í•œë‹¤.</u> í”Œë ˆì´ì–´ì˜ ì¹¼ì— ë§ì•„ ì¶©ëŒ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§€ë©´ ì´ë¯¸ ì£½ì—ˆëŠ”ë°ë„ ë°ë¯¸ì§€ ë˜ ì…ê³  ë˜ ë‹¤ì‹œ ì£½ëŠ” ì²˜ë¦¬ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¶©ëŒì„ ë°›ì„ ìˆ˜ ì—†ëŠ” No Collision ìƒíƒœë¡œ ì„¤ì •í•œë‹¤.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}