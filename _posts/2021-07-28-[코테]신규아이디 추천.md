```c++
#include <string>
#include <vector>
#include <iostream>
#include <algorithm>
#include <regex>

using namespace std;

string solution(string new_id)
{
    string transform_id = new_id;
    //1
    transform(transform_id.begin(), transform_id.end(), transform_id.begin(), ::tolower);
    //2
    string ch;
    for (int i = 0; i < transform_id.length(); i++)
    {
        if ((transform_id[i] >= 'a' && transform_id[i] <= 'z') ||
            (transform_id[i] >= '0' && transform_id[i] <= '9') ||
            transform_id[i] == '_' || transform_id[i] == '-' || transform_id[i] == '.')
            ch += transform_id[i];
    }

    
    //3
    for (int i = 0; i < ch.length() - 1; i++)
    {
        if (ch[i] == '.' && ch[i + 1] == '.')
        {
            ch.erase(i, 1);
            i--;
        }
    }
    //4
    if (ch[0] == '.')
        ch.erase(0, 1);
    if (ch[ch.length() - 1] == '.')
        ch.erase(ch.length() - 1, 1);
    //5
    if (ch.empty())
    {
        ch="aaa";
        return ch;
    }
    //6
    if(ch.length() >=16)
        ch.erase(15,ch.length()-15);
    if (ch[ch.length() - 1] == '.')
        ch.erase(ch.length() - 1, 1);
    //7
    if(ch.length()==1)
        ch.append(ch,0,2);
    if(ch.length()==2)
        ch.append(ch,1,1);
        
    
    //string transform_id = regex_replace(transform_id, "[~!@#$%^&*()=+[{]}:?,<>/]", "");

    return ch;
}
int main()
{
    string input_id = "123_.def";
    cout << "answer = " << solution(input_id);
    return 0;
}
```

신규 아이디 추천