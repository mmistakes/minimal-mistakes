---
title : "ğŸ† 2. í–‰ì„±ì˜ ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë¥¼ ì•Œì•„ë³´ì(1)"

categories:
    - Pandas_practice
tags:
    - [Pandas, Preprocessing, Visualization]

toc : true
toc_sticky : true

date: 2022-01-03
last_modified_at: 2022-01-03
---  

* * *
ğŸ† ì €ë²ˆ ë¯¸êµ­ ì¸êµ¬ ë°ì´í„° ì´í›„ ë‘ë²ˆì§¸ ë°ì´í„°ë¶„ì„ ì‹¤ìŠµ í¬ìŠ¤íŒ…ì´ë‹¤.  
ğŸ† ì´ë²ˆì—ëŠ” seaborn ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” planets ë°ì´í„°ì…‹ìœ¼ë¡œ ì‹¤ìŠµì„ ì§„í–‰í•´ë³¼ê²ƒì´ë‹¤.

## 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°

```py
import pandas as pd

import seaborn as sns
planets = sns.load_dataset('planets')
planets.shape
```
```
>> (1035, 6)
```

```py
planets.head()
```
```
>>
        method	        number	orbital_period	mass	distance   year
0	Radial Velocity	1	269.300	        7.10	77.40	   2006
1	Radial Velocity	1	874.774	        2.21	56.95	   2008
2	Radial Velocity	1	763.000	        2.60	19.84	   2011
3	Radial Velocity	1	326.030	        19.40	110.62	   2007
4	Radial Velocity	1	516.220	        10.50	119.47	   2009
```
í–‰ì„±ì˜ ë°œê²¬ ë°©ë²• / ê°œìˆ˜ / ê¶¤ë„ì£¼ê¸° / ì§ˆëŸ‰ / ê±°ë¦¬ / ë°œê²¬ë…„ë„ ë¥¼ ë‚˜íƒ€ë‚¸ ë°ì´í„°ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.  

```py
planets.info()
```
```
>>
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 1035 entries, 0 to 1034
Data columns (total 6 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   method          1035 non-null   object 
 1   number          1035 non-null   int64  
 2   orbital_period  992 non-null    float64
 3   mass            513 non-null    float64
 4   distance        808 non-null    float64
 5   year            1035 non-null   int64  
dtypes: float64(3), int64(2), object(1)
memory usage: 48.6+ KB
```
orbital_period / mass / distance ì—´ì— NaN ê°’ì´ ì¡´ì¬í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
í•˜ì§€ë§Œ ì´ ê°’ë“¤ì€ ë‚˜ì¤‘ì— ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš°ì— ì²˜ë¦¬í•´ì£¼ë„ë¡ í•˜ì.

## 2. Findnig numbers per method

ğŸ† ê´€ì¸¡ ë°©ë²•ì— ë”°ë¼ ë°œê²¬í•œ ê°œìˆ˜ë¥¼ ì•Œì•„ë³´ì.  


ë°©ë²•ì— ë”°ë¼ ë°œê²¬í•œ ê°œìˆ˜ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œëŠ” method ì™€ number ì—´ì´ í•„ìš”í•˜ë‹¤.  
ì´ ë‘ê°œì˜ ì—´ë§Œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ .copy() í•¨ìˆ˜ë¥¼ ì¨ì„œ planets_number ë¼ê³  ê°€ì ¸ì˜¤ì.

```py
planets_number = planets[['method', 'number']].copy() 
```
planets_number ë¥¼ method ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ê³ , sum ìœ¼ë¡œ ì§‘ê³„í•´ì£¼ì.  
ê°€ì¥ ë§ì´ ë°œê²¬í•œ ë°©ë²• ìˆœìœ¼ë¡œ ë‚˜ì—´í•˜ê¸° ìœ„í•´ì„œ .sort_values() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.  
ë‚´ë¦¼ì°¨ìˆœì´ë¯€ë¡œ ascending = False ë¥¼ ë„£ì–´ì£¼ì.

```py
planets_number = planets_number.groupby('method').sum().sort_values('number', ascending=False)
planets_number.head()
```
```
>>
                                number
                   method	
Radial Velocity	                952
Transit	                        776
Imaging	                        50
Microlensing	                27
Eclipse Timing Variations	15
```

### 2.1. iplot ì‹œê°í™”
* * * 
ğŸ† ë‹¨ìˆœ ë²”ì£¼í˜• ë°ì´í„°ì´ê¸° ë•Œë¬¸ì— ë°” ê·¸ë˜í”„ì™€ ì› ê·¸ë˜í”„ë¡œ ì§ê´€ì ì¸ ì°¨ì§€ìœ¨ì„ ì•Œì•„ë³´ë„ë¡ í•˜ì.

```py
import chart_studio.plotly as py
import cufflinks as cf
cf.go_offline(connected = True)
```

#### 2.1.1. Bar graph
* * *

```py
layout = {
    'title' : {'text' : '<b>Findnig numbers per method</b>',
               'font' : {'size' : 25},
               'x' : 0.5, 'y' : 0.9
              },
    
    'xaxis' : {'showticklabels' : True,
              'title' : {'text' : 'Method', 'font' : {'size' : 20}}},
    
    'yaxis' : {'showticklabels' : True,
              'dtick' : '100',
              'title' : {'text' : 'numbers', 'font' : {'size' : 20}}}   
}
planets_number.iplot(kind = 'bar', theme = 'white', layout = layout)
```
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/147881149-4f0b7601-4b12-471f-8530-0ffe1693111f.png" width="1000" /></p>

#### 2.1.2. Pie graph
* * *

```py
planets_number_df = planets[['method', 'number']]
planets_number_df.iplot(kind = 'pie', theme = 'white', labels = 'method', values = 'number')
```
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/147881173-edfd65da-bf5e-4e6f-ba99-354c72e84c18.png" width="1000" /></p>

### 2.2. plotly ì‹œê°í™”
* * *

```py
import plotly.graph_objects as go
import plotly.offline as pyo
pyo.init_notebook_mode()
```

#### 2.2.1. Bar graph
* * *

```py
fig = go.Figure()
fig.add_trace(
    go.Bar(
    x = planets_number.index, y = planets_number['number']))

fig.update_layout(
    {
    'title' : {'text' : '<b>Findnig numbers per method</b>', 'font' : {'size' : 25}, 'x' : 0.5, 'y' : 0.9},
    'xaxis' : {'showticklabels' : True, 'title' : {'text' : 'Method', 'font' : {'size' : 15}}},
    'yaxis' : {'showticklabels' : True, 'dtick' : 100, 'title' : {'text' : 'Number', 'font' : {'size' : 15}}},
    'template' : 'plotly_white'
    })

fig.show()             
```
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/147881185-3c2aaa2d-ac0a-4e39-9f78-e250f2910978.png" width="1000" /></p>  

ğŸ‘‰ ìœ„ì˜ ë§‰ëŒ€ê·¸ë˜í”„ë¥¼ ë³´ë©´ í™•ì¸í•  ìˆ˜ ìˆê² ì§€ë§Œ Redial Velocity ë‹¤ìŒìœ¼ë¡œ Transitì´ ê°€ì¥ ë§ì€ ê´€ì¸¡ì¹˜ë¥¼ ë³´ìœ í•˜ê³  ìˆìœ¼ë©°, ê·¸ ì™¸ì˜ ë‚˜ë¨¸ì§€ ë°©ë²•ë“¤ì€ ê·¸ë ‡ê²Œ í° ë¹„ì¤‘ì„ ì°¨ì§€í•˜ê³  ìˆì§€ëŠ” ì•ŠìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ ë°ì´í„°ë¥¼ ê°€ì¥ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë…„ë„ì™€ ê´€ì¸¡ë°©ë²•ì— ë”°ë¥¸ ê´€ì¸¡ì¹˜ë¥¼ ì •ë¦¬í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. 

#### 2.2.2. Pie graph
* * *

```py
fig = go.Figure()
fig.add_trace(
    go.Pie(
        labels = planets_number_df['method'], values = planets_number_df['number']
    ))

fig.show()
```
<p align="center"><img src="https://user-images.githubusercontent.com/65170165/147881194-f5ba2143-a8ce-41b7-8632-ce0c8e0aede7.png" width="1000" /></p>

* * *

ğŸ† Pie graphë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ ë„ˆë¬´ ë§ì€ ìš”ì†Œë“¤ì´ ë“¤ì–´ê°€ë²„ë¦¬ë©´ ê°€ë…ì„±ì´ ë§ì´ ë–¨ì–´ì§„ë‹¤.  
ğŸ† ë”°ë¼ì„œ Pie graphë¥¼ ê·¸ë¦´ ë•ŒëŠ” í•„ìš”í•œ ëª‡ê°€ì§€ ìš”ì†Œë§Œ ê°€ì ¸ì™€ì„œ ì‹œê°í™”í•˜ëŠ” ê²ƒì´ ë‚˜ì„ ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.  
ğŸ† ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” í•œ ê°€ì§€ ê´€ì¸¡ë°©ë²•ì—ë§Œ ì§‘ì¤‘í•´ì„œ ë°ì´í„°ë¥¼ ì „ì²˜ë¦¬í•˜ê³  ì‹œê°í™”í•˜ëŠ” ë‚´ìš©ì„ ë‹¤ë¤„ë³´ê² ë‹¤. 
