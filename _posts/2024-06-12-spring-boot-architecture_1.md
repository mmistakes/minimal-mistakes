---
layout: single
title: '[Network] Proxy Server λ€?'
categories: Network
tag: [server]
toc: true 
author_profile: false
sidebar:
    nav: "counts"
published: true

---

<a href ="https://www.youtube.com/watch?v=YxwYhenZ3BE">[10λ¶„ ν…μ½”ν†΅] πΏ μ μ΄λ―Έμ Forward Proxy, Reverse Proxy, Load Balancer
</a> λ¥Ό λ³΄κ³  μ΄ν•΄ν• λ‚΄μ©μ„ μ •λ¦¬ν–μµλ‹λ‹¤.

-------

## Proxyλ€?
ν”„λ΅μ‹(Proxy)λ€ 'λ€λ¦¬', 'λ€μ‹ 'μ΄λΌλ” λ»μ„ κ°€μ§€λ©°, ν”„λ΅ν† μ½μ— μμ–΄μ„λ” λ€λ¦¬ μ‘λ‹µ λ“±μ—μ„ μ‚¬μ©ν•λ” κ°λ…μ΄λ‹¤.

### Proxy Server 

ν”„λ΅μ‹ μ„λ²„λ” κ°„λ‹¨ν μ •λ¦¬ν•λ©΄ λ€μ‹  μ²λ¦¬ν•λ” μ„λ²„λΌκ³  λ§ν•  μ μλ‹¤. 

<div style="display: flex; justify-content: center;">
    <img src="{{site.url}}\images\2024-06-12-spring-boot-architecture_1\proxy.png" alt="Alt text" style="width: 100%; height: 100%; margin: 10px;">
</div>

<p style="text-align:center;"><b><span style="font-size:14px;">μ •λ°©ν–¥ ν”„λ΅μ‹</span></b></p>

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— μ΅΄μ¬ν•λ©°, μ¤‘κ³„κΈ°λ΅μ„ λ€λ¦¬λ΅ ν†µμ‹ μ„ μν–‰ν•λ” κ²ƒμ„ ProxyλΌκ³  ν•λ©°, κ·Έ μ¤‘κ³„ κΈ°λ¥μ„ ν•λ” μ£Όμ²΄λ¥Ό Proxy ServerλΌκ³  ν•λ‹¤.

μΊμ‹, λ³΄μ•, νΈλν”½ λ¶„μ‚° λ“± μ—¬λ¬ μ¥μ μ„ κ°€μ§ μ μλ‹¤. 

###  Forward Proxy
μΌλ°μ μΈ Proxyλ” Forward Proxyλ¥Ό λ§ν•λ©° ν”„λ΅μ‹, ν”„λ΅μ‹ μ„λ²„, μ›Ή ν”„λ΅μ‹λΌκ³ λ„ ν•λ” μ •λ°©ν–¥ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈ μ‹μ¤ν… κ·Έλ£Ή μ•μ— μ„μΉν•λ” μ„λ²„μ΄λ‹¤. 

Forward Proxyλ” μΌλ°μ μΌλ΅ λ‹¤μκ³Ό κ°™μ€ μƒν™©μ— μ μ©ν•λ‹¤.

- μΈν„°λ„· μ†λ„ ν–¥μƒμ„ μ„ν•΄
- μ™Έκµ­μ—μ„ μ ‘μ†ν•λ” κ²ƒμ²λΌ ν…μ¤νΈν•κΈ° μ„ν•΄
- IPμ¶”μ μ„ λ°©μ§€ν•κΈ° μ„ν•΄

<div style="display: flex; justify-content: center;">
    <img src="{{site.url}}\images\2024-06-12-spring-boot-architecture_1\proxy_server.png" alt="Alt text" style="width: 100%; height: 100%; margin: 10px;">
</div>

<p style="text-align:center;"><b><span style="font-size:14px;">Forward Proxy</span></b></p>

#### μΊμ‹±
**ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ‚΄μ©μ„ μΊμ‹±**

μ •λ°©ν–¥ ν”„λ΅μ‹κ°€ μ„¤μ •λλ©΄ Aκ°€ λ€μ‹  Bμ— μ”μ²­μ„ λ³΄λ‚΄κ³  Bκ°€ μ”μ²­μ„ Cλ΅ μ „λ‹¬ν•λ‹¤. κ·Έλ° λ‹¤μ Cκ°€ Bμ—κ² μ‘λ‹µμ„ λ³΄λ‚΄κ³  Bκ°€ μ‘λ‹µμ„ Aμ—κ² λ‹¤μ‹ μ „λ‹¬ν•λ‹¤.

>- ν΄λΌμ΄μ–ΈνΈ1μ΄ "μ¤λ λ‚ μ”¨"λ¥Ό λ¬Όμ–΄λ³΄λ©΄ ν¬μ›λ“ ν”„λ΅μ‹κ°€ μ§λ¬Έμ„ λ°›μ•„ μ›Ή μ„λ²„μ— μ”μ²­ν•λ‹¤. 
>- κ·Έ ν›„ "μ¤λ λ‚ μ”¨" μ— λ€ν• κ²°κ³Ό κ°’μ„ μ €μ¥ν• ν›„ ν΄λΌμ΄μ–ΈνΈ1μ—κ² μ „λ‹¬ν•΄μ¤€λ‹¤. 
>- ν΄λΌμ΄μ–ΈνΈ2κ°€ "μ¤λ λ‚ μ”¨"λ¥Ό λ¬Όμ–΄λ³΄λ©΄ ν¬μ›λ“ ν”„λ΅μ‹κ°€ μ›Ή μ„λ²„μ— μ”μ²­ν•μ§€ μ•κ³  μ΄μ „μ— μ €μ¥ν• κ°’μ„ ν΄λΌμ΄μ–ΈνΈ2μ—κ² μ „μν•΄μ¤€λ‹¤.

1) μ „μ†΅ μ‹κ°„ μ μ•½

2) λ¶ν•„μ”ν• μ™Έλ¶€ μ „μ†΅μ΄ μ΄λ£¨μ–΄μ§€μ§€ μ•λ”λ‹¤.

3) μ™Έλ¶€ μ”μ²­μ΄ κ°μ†ν•λ‹¤
    - λ„¤νΈμ›ν¬ λ³‘λ© ν„μƒμ΄ λ°©μ§€λλ‹¤. 

#### μµλ…μ„±   
**ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ μ”μ²­μ„ κ°μ¶λ‹¤.**

ν”„λ΅μ‹ μ„λ²„λ” Serverκ°€ μ‘λ‹µ λ°›μ€ μ”μ²­μ„ λ„κ°€ λ³΄λƒλ”μ§€ μ•μ§€ λ»ν•κ² ν•λ‹¤. Serverκ°€ λ°›μ€ μ”μ²­μ IPλ” Proxy Server μ IPμ΄κΈ° λ•λ¬Έμ΄λ‹¤ .

### Reverse Proxy
μ—­λ°©ν–¥ ν”„λ΅μ‹λ” ν•λ‚ μ΄μƒμ μ›Ή μ„λ²„ μ•μ— μ„μΉν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ κ°€λ΅μ±„λ” μ„λ²„μ΄λ‹¤. μ΄κ²ƒμ€ ν”„λ΅μ‹κ°€ ν΄λΌμ΄μ–ΈνΈ μ•μ— μ„μΉν•λ” μ •λ°©ν–¥ ν”„λ΅μ‹μ™€ λ‹¤λ¥΄λ‹¤. 

<div style="display: flex; justify-content: center;">
    <img src="{{site.url}}\images\2024-06-12-spring-boot-architecture_1\reverse_proxy.png" alt="Alt text" style="width: 100%; height: 100%; margin: 10px;">
</div>

<p style="text-align:center;"><b><span style="font-size:14px;">Reverse Proxy</span></b></p>

μΌλ°μ μΌλ΅ Dμ λ¨λ“  μ”μ²­μ€ Fλ΅ μ§μ ‘ μ΄λ™ν•κ³ , Fλ” Dμ—κ²λ΅ μ§μ ‘ μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤. μ—­λ°©ν–¥ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•λ©΄ Dμ λ¨λ“  μ”μ²­μ΄ Eλ΅ μ§μ ‘ μ΄λ™ν•κ³ , Eλ” μ”μ²­μ„ Fμ—κ²λ΅ λ³΄λ‚΄λ©° Fλ΅λ¶€ν„° μ‘λ‹µμ„ λ°›κ³  Eλ” κ·Έλ° λ‹¤μ μ μ ν• μ‘λ‹µμ„ Dμ—κ² μ „λ‹¬ν•λ‹¤.

#### μΊμ‹±
**ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ‚΄μ©μ„ μΊμ‹± (Forward Proxyμ™€ λ™μΌ)**

#### λ³΄μ•
**μ„λ²„ μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ λ¶€ν„° μ¨κΈ΄λ‹¤.**

λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μΌλ©΄ μκΈ°κ°€ μ•κ³ μλ” μ„λ²„λ“¤μ—κ² ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ³΄λ‚Έλ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ‹¤μ  Server μ •λ³΄λ¥Ό μ•μ§€ λ»ν•λ‹¤. 

ν΄λΌμ΄μ–ΈνΈλ” Reverse Proxyλ¥Ό μ‹¤μ  μ„λ²„λΌκ³  μƒκ°ν•μ—¬ μ”μ²­ν•κ³  μ‹¤μ  μ„λ²„μ IPκ°€ λ…Έμ¶λμ§€ μ•λ”λ‹¤. 


μ •λ°©ν–¥ ν”„λ΅μ‹μ™€ μ—­λ°©ν–¥ ν”„λ΅μ‹μ μ°¨μ΄λ£° μ”μ•½ν•λ©΄ μ •λ°©ν–¥ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈ μ•μ— μ„μΉν•λ©° μ›λ³Έ μ„λ²„κ°€ ν•΄λ‹Ή νΉμ • ν΄λΌμ΄μ–ΈνΈμ™€ μ§μ ‘ ν†µμ‹ ν•μ§€ λ»ν•λ„λ΅ ν•λ” κ²ƒμ΄κ³  λ°λ©΄μ— μ—­λ°©ν–¥ ν”„λ΅μ‹λ” μ›λ³Έ μ„λ²„ μ•μ— μ„μΉν•λ©° μ–΄λ–¤ ν΄λΌμ΄μ–ΈνΈλ„ μ›λ³Έ μ„λ²„μ™€ μ§μ ‘ ν†µμ‹ ν•μ§€ λ» ν•λ„λ΅ ν•λ‹¤.

## Load Balancing
ν•΄μ•Όν•  μ‘μ—…μ„ λ‚λ„μ–΄ μ„λ²„μ λ¶€ν•λ¥Ό λ¶„μ‚° μ‹ν‚¤λ” κ²ƒμ„ λ§ν•λ‹¤. 

<div style="display: flex; justify-content: center;">
    <img src="{{site.url}}\images\2024-06-12-spring-boot-architecture_1\load_balancing.gif" alt="Alt text" style="width: 100%; height: 100%; margin: 10px;">
</div>

<p style="text-align:center;"><b><span style="font-size:14px;">Load Balancing</span></b></p>

### Load Balancerλ€?
Load Balancerλ” ν•λ§λ””λ΅ μ„λ²„λ“¤μ—κ² μ μ €λ¥Ό λ¶„λ°°ν•΄μ¤€λ‹¤. μ—¬λ¬ λ€μ μ„λ²„κ°€ λ¶„μ‚° μ²λ¦¬ν•  μ μλ„λ΅ μ”μ²­μ„ λ‚λ„μ–΄μ£Όλ” μ„λΉ„μ¤μ΄λ‹¤. λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ„ μ΄μ©ν•μ—¬ λ¶„λ°°ν•λ‹¤. 

> μ›Ήμ‚¬μ΄νΈλ΅ μ μ…λλ” νΈλν”½μ΄ κ°€νλ¥΄κ² μ¦κ°€ν•λ©΄ λ‘ λ€μ μ„λ²„λ΅ νΈλν”½μ„ κ°λ‹Ήν•  μ μ—†λ” μ‹μ μ΄ μ¤λ”λ°, λ΅λ“λ°Έλ°μ„κ°€ μμΌλ©΄ μ›Ή μ„λ²„ κ³„μΈµμ— μƒλ΅μ΄ μ„λ²„λ¥Ό μ¶”κ°€ν•λ” κ°„λ‹¨ν• λ°©λ²•μΌλ΅ μλ™μ μΌλ΅ νΈλν”½μ„ λ¶„μ‚°μ‹μΌ μ°μ•„ν•κ² λ€μ²ν•  μ μλ‹¤. 


#### L4, L7
- L4 : Transport Layer(IP & Port) Levelμ—μ„ Load Balancing
    - μ‚¬μ΄νΈ μ ‘κ·Ό μ‹ μ„λ²„ A, μ„λ²„ Bλ΅ λ¶„μ‚° μ²λ¦¬ 

- L7 : Application Layser(User Request) Level μ—μ„ Load Balancing 
    - μ‚¬μ΄νΈ μ ‘κ·Ό μ‹ /a, /b  λ“± νΉμ • μ£Όμ† κΈ°μ¤€μΌλ΅ λ¶„μ‚° μ²λ¦¬ 


<br>
<br>

----
Reference
- Proxy
    - <a href = 'https://www.youtube.com/watch?v=YxwYhenZ3BE'>μ μ΄λ―Έμ Forward Proxy, Reverse Proxy, Load Balancer by 10λ¶„ ν…μ½”ν†΅</a>
    - <a href = 'https://www.cloudflare.com/ko-kr/learning/cdn/glossary/reverse-proxy/'>μ—­λ°©ν–¥ ν”„λ΅μ‹λ€ | ν”„λ΅μ‹ μ„λ²„ μ„¤λ… by cloudflare</a>

- Image
    - <a href = 'https://www.haproxy.com/blog/what-is-load-balancing'>what-is-load-balancing</a>



