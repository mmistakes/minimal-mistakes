---
layout: single

title: "1.1.1) ì‹±ê¸€í†¤" 

categories: 
    - Design pattern

tags: [singleton]

toc: true

---

<br />

<br />

# ğŸ£ ì„œë¡ 

---

ë””ìì¸ íŒ¨í„´ì´ë€ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•  ë•Œ ë°œìƒí–ˆë˜ ë¬¸ì œì ë“¤ì„ ê°ì²´ ê°„ì˜ ìƒí˜¸ ê´€ê³„ ë“±ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ **í•˜ë‚˜ì˜ 'ê·œì•½'** í˜•íƒœë¡œ ë§Œë“¤ì–´ ë†“ì€ ê²ƒì„ ì˜ë¯¸í•œë‹¤. 

# ğŸ’ğŸ» ì‹±ê¸€í†¤ íŒ¨í„´

---

ì‹±ê¸€í†¤ íŒ¨í„´ì€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ì˜¤ì§ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ê°€ì§€ëŠ” íŒ¨í„´ì´ë‹¤. ë³´í†µ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ëª¨ë“ˆì— ë§ì´ ì‚¬ìš©í•œë‹¤. 

ì¸ìŠ¤í„´ìŠ¤ :  í´ë˜ìŠ¤ì— ì†Œì†ëœ ê°œë³„ì  ê°œì²´ ex) User í´ë˜ìŠ¤ì˜ í™ê¸¸ë™ ê°ì²´

í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë†“ê³  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì´ ê³µìœ í•˜ë©° ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— **ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë“œëŠ” ë¹„ìš©ì´ ì¤„ì–´ë“œëŠ” ì¥ì **ì´ ìˆë‹¤. í•˜ì§€ë§Œ **ì˜ì¡´ì„±ì´ ë†’ì•„ì§„ë‹¤**ëŠ” ë‹¨ì ì´ ìˆë‹¤. 



---



# ğŸ”­ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹±ê¸€í†¤ íŒ¨í„´

```javascript
const obj = {
    a:27
}
const obj2 = {
    a:27
}
console.log(obj === obj2)
//false
```

constëŠ” ë³€ìˆ˜ê°’ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ ìë£Œí˜•ì„ ì„ ì–¸í•œ ê²ƒì´ë‹¤

console.logë¡œ ì§„ìœ„ì—¬ë¶€ë¥¼ íŒë‹¨í•œë‹¤. ë³€ìˆ˜ê°€ ê°™ì€ì§€ ë¹„êµí•˜ê¸° ìœ„í•´ ===ë¥¼ ì¼ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ==ë³´ë‹¤ ===ë¥¼ ì“°ê¸°ë¥¼ ê¶Œì¥í•œë‹¤. (ì—„ê²©íˆ ë¹„êµ)

(ê°€ëŠ¥í•œ ==ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìë£Œí˜•ì„ ì§ì ‘ ë³€í™˜(ìºìŠ¤íŒ…)í•˜ì—¬ ì½”ë“œ ê°€ë…ì„±ì„ ë†’ì´ì)

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë¦¬í„°ëŸ´{} ë˜ëŠ” new Objectë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ë‹¤ë¥¸ ì–´ë–¤ ê°ì²´ì™€ë„ ê°™ì§€ ì•Šë‹¤. 

ë”°ë¼ì„œ ì—„ê²©íˆ ë¹„êµì‹œê°™ì§€ ì•Šìœ¼ë¯€ë¡œ ë”°ë¼ì„œ ê²°ê³¼ëŠ” false  

```javascript
class Singleton {
    constructor() {
 //ì•½ì†ëœ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ë©´ ì•ˆë¨
        if(!Singleton.instance) {
            Singleton.instance = this
        }
        return Singleton.instance
    }
    getInstance(){
        return this.instance
        }
}

const a = new Singleton()
const b = new Singleton()
console.log(a===b) // true 
```

constructor()  -> ì´ í•¨ìˆ˜ë¡œ ê°ì²´ì˜ ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìŒ  ì•½ì†ëœ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ë©´ ì•ˆëœë‹¤ 

ì‹±ê¸€í†¤ íŒ¨í„´ì—ì„œëŠ” ì´ë¯¸ ê°ì²´ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” instanceì™€ ê°™ì€ ë‚´ë¶€ ë³€ìˆ˜ê°€ í•„ìš”

!Singleton.instance - > ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìœ¼ë©´ ìƒˆë¡œ ì§€ì • 

ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆìœ¼ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.

ì´ë¥¼ í†µí•´ aì™€ bëŠ” í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ëŠ” Singletonì„ ê°€ì§„ë‹¤ 

aì— ìƒˆë¡œìš´ ì‹±ê¸€í†¤ì„ ìƒì„±í•´ì£¼ë©´ Singleton.instanceëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆìœ¼ë¯€ë¡œ ê·¸ëƒ¥ ë°”ë¡œ return this.instanceë¥¼ í•´ì¤€ë‹¤  



---



# ğŸ’› ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ëª¨ë“ˆ

 ì‹±ê¸€í†¤ íŒ¨í„´ì€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ëª¨ë“ˆì— ë§ì´ ì“°ì¸ë‹¤ 

```javascript
const URL = 'mongodb://localhost:27017/kundolapp'
const createConnection = url => ({"url" : url})
class DB {
  constructor(url) {
    if (!DB.instance) {
      DB.instance = createConnection(url)
    }
    return DB.instance
  }
  connect() {
    return this.instance
  }
}
const a = new DB(URL)
const b = new DB(URL)
console.log(a===b) 
```

ìœ„ì— ì„¤ëª…ê³¼ ê°™ì´ aì˜ ê²½ìš° DB.instanceê°€ ì—†ìœ¼ë¯€ë¡œ ìƒì„±í•´ì£¼ê³ , ì´ë¥¼ return

ìˆì„ê²½ìš°ì—” ë°”ë¡œ connect() ë©”ì„œë“œë¡œ go , return this.instanceë¥¼ í•´ì¤€ë‹¤

ì´ë¥¼ í†µí•´ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ a,bë¥¼ ìƒì„±í–ˆë‹¤. ê·€ì°®ê²Œ ì—¬ëŸ¬ë²ˆ DB ê°ì²´ë¥¼ ìƒì„± ì•ˆí•´ì£¼ì–´ë„ ëœë‹¤ëŠ” ì¥ì  ! 
